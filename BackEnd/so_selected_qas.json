[
  {
    "question_id": 60618844,
    "question_url": "https://stackoverflow.com/questions/60618844/useeffect-is-called-twice-even-if-an-empty-array-is-used-as-an-argument",
    "question_title": "useEffect() is called twice even if an empty array is used as an argument",
    "question_text": "I am writing code so that before the data is loaded from DB, it will show loading message, and then after it is loaded, render components with the loaded data. To do this, I am using both useState hook and useEffect hook. Here is the code: The problem is, useEffect is triggered twice when I check with console.log. The code is thus querying the same data twice, which should be avoided. Below is the code that I wrote: import React from 'react'; import './App.css'; import {useState,useEffect} from 'react'; import Postspreview from '../components/Postspreview' const indexarray=[]; //The array to which the fetched data will be pushed function Home() { const [isLoading,setLoad]=useState(true); useEffect(()=>{ /* Query logic to query from DB and push to indexarray */ setLoad(false); // To indicate that the loading is complete }) },[]); if (isLoading===true){ console.log(\"Loading\"); return <div>This is loading...</div> } else { console.log(\"Loaded!\"); //This is actually logged twice. return ( <div> <div className=\"posts_preview_columns\"> {indexarray.map(indexarray=> <Postspreview username={indexarray.username} idThumbnail={indexarray.profile_thumbnail} nickname={indexarray.nickname} postThumbnail={indexarray.photolink} /> )} </div> </div> ); } } export default Home; Why it is called twice, and how to fix the code properly?",
    "question_tags": [
      "reactjs",
      "react-hooks"
    ],
    "question_score": 806,
    "question_view_count": 590436,
    "question_creation_date": 1583847657,
    "answer_id": 60619061,
    "answer_text": "Put the console.log inside the useEffect Probably you have other side effects that cause the component to rerender but the useEffect itself will only be called once. You can see this for sure with the following code. useEffect(()=>{ // Query logic console.log('i fire once'); },[]); If the log \"i fire once\" is triggered more than once it means your issue is one of 3 things. This component appears more than once in your page This one should be obvious, your component is in the page a couple of times and each one will mount and run the useEffect Something higher up the tree is unmounting and remounting The component is being forced to unmount and remount on its initial render. This could be something like a \"key\" change happening higher up the tree. you need to go up each level with this useEffect until it renders only once. then you should be able to find the cause or the remount. React.Strict mode is on StrictMode renders components twice (on dev but not production) in order to detect any problems with your code and warn you about them (which can be quite useful). This answer was pointed out by @johnhendirx and written by @rangfu, see link and give him some love if this was your problem. If you're having issues because of this it usually means you're not using useEffect for its intended purpose. There's some great information about this in the docs you can read that here",
    "answer_score": 1258,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 247,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      1258,
      806,
      590436,
      247,
      -178542033
    ]
  },
  {
    "question_id": 53452713,
    "question_url": "https://stackoverflow.com/questions/53452713/why-is-2-i-i-faster-than-2-i-i-in-java",
    "question_title": "Why is 2 * (i * i) faster than 2 * i * i in Java?",
    "question_text": "The following Java program takes on average between 0.50 secs and 0.55 secs to run: public static void main(String[] args) { long startTime = System.nanoTime(); int n = 0; for (int i = 0; i < 1000000000; i++) { n += 2 * (i * i); } System.out.println( (double) (System.nanoTime() - startTime) / 1000000000 + \" s\"); System.out.println(\"n = \" + n); } If I replace 2 * (i * i) with 2 * i * i , it takes between 0.60 and 0.65 secs to run. How come? I ran each version of the program 15 times, alternating between the two. Here are the results: 2*(i*i) │ 2*i*i ──────────┼────────── 0.5183738 │ 0.6246434 0.5298337 │ 0.6049722 0.5308647 │ 0.6603363 0.5133458 │ 0.6243328 0.5003011 │ 0.6541802 0.5366181 │ 0.6312638 0.515149 │ 0.6241105 0.5237389 │ 0.627815 0.5249942 │ 0.6114252 0.5641624 │ 0.6781033 0.538412 │ 0.6393969 0.5466744 │ 0.6608845 0.531159 │ 0.6201077 0.5048032 │ 0.6511559 0.5232789 │ 0.6544526 The fastest run of 2 * i * i took longer than the slowest run of 2 * (i * i) . If they had the same efficiency, the probability of this happening would be less than 1/2^15 * 100% = 0.00305% .",
    "question_tags": [
      "java",
      "performance",
      "benchmarking",
      "bytecode",
      "jit"
    ],
    "question_score": 912,
    "question_view_count": 255043,
    "question_creation_date": 1543005610,
    "answer_id": 53453588,
    "answer_text": "There is a slight difference in the ordering of the bytecode. 2 * (i * i) : iconst_2 iload0 iload0 imul imul iadd vs 2 * i * i : iconst_2 iload0 imul iload0 imul iadd At first sight this should not make a difference; if anything the second version is more optimal since it uses one slot less. So we need to dig deeper into the lower level (JIT) 1 . Remember that JIT tends to unroll small loops very aggressively. Indeed we observe a 16x unrolling for the 2 * (i * i) case: 030 B2: # B2 B3 <- B1 B2 Loop: B2-B2 inner main of N18 Freq: 1e+006 030 addl R11, RBP # int 033 movl RBP, R13 # spill 036 addl RBP, #14 # int 039 imull RBP, RBP # int 03c movl R9, R13 # spill 03f addl R9, #13 # int 043 imull R9, R9 # int 047 sall RBP, #1 049 sall R9, #1 04c movl R8, R13 # spill 04f addl R8, #15 # int 053 movl R10, R8 # spill 056 movdl XMM1, R8 # spill 05b imull R10, R8 # int 05f movl R8, R13 # spill 062 addl R8, #12 # int 066 imull R8, R8 # int 06a sall R10, #1 06d movl [rsp + #32], R10 # spill 072 sall R8, #1 075 movl RBX, R13 # spill 078 addl RBX, #11 # int 07b imull RBX, RBX # int 07e movl RCX, R13 # spill 081 addl RCX, #10 # int 084 imull RCX, RCX # int 087 sall RBX, #1 089 sall RCX, #1 08b movl RDX, R13 # spill 08e addl RDX, #8 # int 091 imull RDX, RDX # int 094 movl RDI, R13 # spill 097 addl RDI, #7 # int 09a imull RDI, RDI # int 09d sall RDX, #1 09f sall RDI, #1 0a1 movl RAX, R13 # spill 0a4 addl RAX, #6 # int 0a7 imull RAX, RAX # int 0aa movl RSI, R13 # spill 0ad addl RSI, #4 # int 0b0 imull RSI, RSI # int 0b3 sall RAX, #1 0b5 sall RSI, #1 0b7 movl R10, R13 # spill 0ba addl R10, #2 # int 0be imull R10, R10 # int 0c2 movl R14, R13 # spill 0c5 incl R14 # int 0c8 imull R14, R14 # int 0cc sall R10, #1 0cf sall R14, #1 0d2 addl R14, R11 # int 0d5 addl R14, R10 # int 0d8 movl R10, R13 # spill 0db addl R10, #3 # int 0df imull R10, R10 # int 0e3 movl R11, R13 # spill 0e6 addl R11, #5 # int 0ea imull R11, R11 # int 0ee sall R10, #1 0f1 addl R10, R14 # int 0f4 addl R10, RSI # int 0f7 sall R11, #1 0fa addl R11, R10 # int 0fd addl R11, RAX # int 100 addl R11, RDI # int 103 addl R11, RDX # int 106 movl R10, R13 # spill 109 addl R10, #9 # int 10d imull R10, R10 # int 111 sall R10, #1 114 addl R10, R11 # int 117 addl R10, RCX # int 11a addl R10, RBX # int 11d addl R10, R8 # int 120 addl R9, R10 # int 123 addl RBP, R9 # int 126 addl RBP, [RSP + #32 (32-bit)] # int 12a addl R13, #16 # int 12e movl R11, R13 # spill 131 imull R11, R13 # int 135 sall R11, #1 138 cmpl R13, #999999985 13f jl B2 # loop end P=1.000000 C=6554623.000000 We see that there is 1 register that is \"spilled\" onto the stack. And for the 2 * i * i version: 05a B3: # B2 B4 <- B1 B2 Loop: B3-B2 inner main of N18 Freq: 1e+006 05a addl RBX, R11 # int 05d movl [rsp + #32], RBX # spill 061 movl R11, R8 # spill 064 addl R11, #15 # int 068 movl [rsp + #36], R11 # spill 06d movl R11, R8 # spill 070 addl R11, #14 # int 074 movl R10, R9 # spill 077 addl R10, #16 # int 07b movdl XMM2, R10 # spill 080 movl RCX, R9 # spill 083 addl RCX, #14 # int 086 movdl XMM1, RCX # spill 08a movl R10, R9 # spill 08d addl R10, #12 # int 091 movdl XMM4, R10 # spill 096 movl RCX, R9 # spill 099 addl RCX, #10 # int 09c movdl XMM6, RCX # spill 0a0 movl RBX, R9 # spill 0a3 addl RBX, #8 # int 0a6 movl RCX, R9 # spill 0a9 addl RCX, #6 # int 0ac movl RDX, R9 # spill 0af addl RDX, #4 # int 0b2 addl R9, #2 # int 0b6 movl R10, R14 # spill 0b9 addl R10, #22 # int 0bd movdl XMM3, R10 # spill 0c2 movl RDI, R14 # spill 0c5 addl RDI, #20 # int 0c8 movl RAX, R14 # spill 0cb addl RAX, #32 # int 0ce movl RSI, R14 # spill 0d1 addl RSI, #18 # int 0d4 movl R13, R14 # spill 0d7 addl R13, #24 # int 0db movl R10, R14 # spill 0de addl R10, #26 # int 0e2 movl [rsp + #40], R10 # spill 0e7 movl RBP, R14 # spill 0ea addl RBP, #28 # int 0ed imull RBP, R11 # int 0f1 addl R14, #30 # int 0f5 imull R14, [RSP + #36 (32-bit)] # int 0fb movl R10, R8 # spill 0fe addl R10, #11 # int 102 movdl R11, XMM3 # spill 107 imull R11, R10 # int 10b movl [rsp + #44], R11 # spill 110 movl R10, R8 # spill 113 addl R10, #10 # int 117 imull RDI, R10 # int 11b movl R11, R8 # spill 11e addl R11, #8 # int 122 movdl R10, XMM2 # spill 127 imull R10, R11 # int 12b movl [rsp + #48], R10 # spill 130 movl R10, R8 # spill 133 addl R10, #7 # int 137 movdl R11, XMM1 # spill 13c imull R11, R10 # int 140 movl [rsp + #52], R11 # spill 145 movl R11, R8 # spill 148 addl R11, #6 # int 14c movdl R10, XMM4 # spill 151 imull R10, R11 # int 155 movl [rsp + #56], R10 # spill 15a movl R10, R8 # spill 15d addl R10, #5 # int 161 movdl R11, XMM6 # spill 166 imull R11, R10 # int 16a movl [rsp + #60], R11 # spill 16f movl R11, R8 # spill 172 addl R11, #4 # int 176 imull RBX, R11 # int 17a movl R11, R8 # spill 17d addl R11, #3 # int 181 imull RCX, R11 # int 185 movl R10, R8 # spill 188 addl R10, #2 # int 18c imull RDX, R10 # int 190 movl R11, R8 # spill 193 incl R11 # int 196 imull R9, R11 # int 19a addl R9, [RSP + #32 (32-bit)] # int 19f addl R9, RDX # int 1a2 addl R9, RCX # int 1a5 addl R9, RBX # int 1a8 addl R9, [RSP + #60 (32-bit)] # int 1ad addl R9, [RSP + #56 (32-bit)] # int 1b2 addl R9, [RSP + #52 (32-bit)] # int 1b7 addl R9, [RSP + #48 (32-bit)] # int 1bc movl R10, R8 # spill 1bf addl R10, #9 # int 1c3 imull R10, RSI # int 1c7 addl R10, R9 # int 1ca addl R10, RDI # int 1cd addl R10, [RSP + #44 (32-bit)] # int 1d2 movl R11, R8 # spill 1d5 addl R11, #12 # int 1d9 imull R13, R11 # int 1dd addl R13, R10 # int 1e0 movl R10, R8 # spill 1e3 addl R10, #13 # int 1e7 imull R10, [RSP + #40 (32-bit)] # int 1ed addl R10, R13 # int 1f0 addl RBP, R10 # int 1f3 addl R14, RBP # int 1f6 movl R10, R8 # spill 1f9 addl R10, #16 # int 1fd cmpl R10, #999999985 204 jl B2 # loop end P=1.000000 C=7419903.000000 Here we observe much more \"spilling\" and more accesses to the stack [RSP + ...] , due to more intermediate results that need to be preserved. Thus the answer to the question is simple: 2 * (i * i) is faster than 2 * i * i because the JIT generates more optimal assembly code for the first case. But of course it is obvious that neither the first nor the second version is any good; the loop could really benefit from vectorization, since any x86-64 CPU has at least SSE2 support. So it's an issue of the optimizer; as is often the case, it unrolls too aggressively and shoots itself in the foot, all the while missing out on various other opportunities. In fact, modern x86-64 CPUs break down the instructions further into micro-ops (µops) and with features like register renaming, µop caches and loop buffers, loop optimization takes a lot more finesse than a simple unrolling for optimal performance. According to Agner Fog's optimization guide : The gain in performance due to the µop cache can be quite considerable if the average instruction length is more than 4 bytes. The following methods of optimizing the use of the µop cache may be considered: Make sure that critical loops are small enough to fit into the µop cache. Align the most critical loop entries and function entries by 32. Avoid unnecessary loop unrolling. Avoid instructions that have extra load time . . . Regarding those load times - even the fastest L1D hit costs 4 cycles , an extra register and µop, so yes, even a few accesses to memory will hurt performance in tight loops. But back to the vectorization opportunity - to see how fast it can be, we can compile a similar C application with GCC , which outright vectorizes it (AVX2 is shown, SSE2 is similar) 2 : vmovdqa ymm0, YMMWORD PTR .LC0[rip] vmovdqa ymm3, YMMWORD PTR .LC1[rip] xor eax, eax vpxor xmm2, xmm2, xmm2 .L2: vpmulld ymm1, ymm0, ymm0 inc eax vpaddd ymm0, ymm0, ymm3 vpslld ymm1, ymm1, 1 vpaddd ymm2, ymm2, ymm1 cmp eax, 125000000 ; 8 calculations per iteration jne .L2 vmovdqa xmm0, xmm2 vextracti128 xmm2, ymm2, 1 vpaddd xmm2, xmm0, xmm2 vpsrldq xmm0, xmm2, 8 vpaddd xmm0, xmm2, xmm0 vpsrldq xmm1, xmm0, 4 vpaddd xmm0, xmm0, xmm1 vmovd eax, xmm0 vzeroupper With run times: SSE: 0.24 s, or 2 times as fast. AVX: 0.15 s, or 3 times as fast. AVX2: 0.08 s, or 5 times as fast. 1 To get JIT generated assembly output, get a debug JVM and run with -XX:+PrintOptoAssembly 2 The C version is compiled with the -fwrapv flag, which enables GCC to treat signed integer overflow as a two's-complement wrap-around.",
    "answer_score": 1247,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 1803,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      1247,
      912,
      255043,
      1803,
      -219384050
    ]
  },
  {
    "question_id": 64625050,
    "question_url": "https://stackoverflow.com/questions/64625050/error-node-sass-version-5-0-0-is-incompatible-with-4-0-0",
    "question_title": "Error: &#39;node-sass&#39; version 5.0.0 is incompatible with ^4.0.0",
    "question_text": "I've created a blank React project, using the command: npx create-react-app on npm v7.0.7 and Node.js v15.0.1 Installed: React v17.0.1, node-sass v5.0.0, Then I tried to import a blank .scss file to the App component: File App.js import './App.scss' function App() { return ( <div className=\"App\"> App </div> ); } export default App; It throws an error: Failed to compile. ./src/App.scss (./node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!./node_modules/postcss-loader/src??postcss!./node_modules/resolve-url-loader??ref--5-oneOf-6-3!./node_modules/s ass-loader/dist/cjs.js??ref--5-oneOf-6-4!./src/App.scss) Error: Node Sass version 5.0.0 is incompatible with ^4.0.0. File package.json { \"name\": \"react-17-node-sass-5\", \"version\": \"0.1.0\", \"private\": true, \"dependencies\": { \"@testing-library/jest-dom\": \"^5.11.5\", \"@testing-library/react\": \"^11.1.0\", \"@testing-library/user-event\": \"^12.1.10\", \"node-sass\": \"^5.0.0\", \"react\": \"^17.0.1\", \"react-dom\": \"^17.0.1\", \"react-scripts\": \"4.0.0\", \"web-vitals\": \"^0.2.4\" }, ... } }",
    "question_tags": [
      "reactjs",
      "webpack",
      "sass",
      "create-react-app",
      "node-sass"
    ],
    "question_score": 662,
    "question_view_count": 496521,
    "question_creation_date": 1604168360,
    "answer_id": 64626556,
    "answer_text": "TL;DR npm uninstall node-sass npm install sass Or, if using Yarn yarn remove node-sass yarn add sass Edit3 : yes, another edit. Moving to sass (dart-sass) is the best solution. Previous one included locking node-sass to version 4.x.x, which is 2 years old and lacks newer SCSS features. Edit2 : sass-loader v10.0.5 fixes it. The problem is you might not be using it as a project dependency, but more as a dependency of your dependencies. CRA uses a fixed version, angular-cli locks to node-sass v4, and so on. The recommendation for now is: if you're installing just node-sass, check the below workaround (and the note). If you're working on a blank project and you can manage your Webpack configuration (not using CRA or a CLI to scaffold your project), install the latest sass-loader. Edit : this error comes from sass-loader . There is a semantic versioning mismatch since node-sass @latest is v5.0.0 and sass-loader expects ^4.0.0. There is an open issue on their repository with an associated fix that needs to be reviewed. Until then, refer to the solution below. Workaround : don't install node-sass 5.0.0 yet (the major version was just bumped). Uninstall node-sass npm uninstall node-sass Then install the latest version (before 5.0) npm install node-sass@4.14.1 Note: LibSass (hence node-sass as well) is deprecated and dart-sass is the recommended implementation. You can use sass instead , which is a Node.js distribution of dart-sass compiled to pure JavaScript.",
    "answer_score": 1166,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 239,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      1166,
      662,
      496521,
      239,
      -158221330
    ]
  },
  {
    "question_id": 57492546,
    "question_url": "https://stackoverflow.com/questions/57492546/what-is-the-difference-between-js-and-mjs-files",
    "question_title": "What is the difference between .js and .mjs files?",
    "question_text": "I have started working on an existing project based on Node.js. I was just trying to understand the flow of execution, where I encountered with some *.mjs files. I have searched the web where I found that these are module based JS-files. I want to know how is it different from *.js files (how does it benefit)?",
    "question_tags": [
      "javascript",
      "node.js",
      "mjs"
    ],
    "question_score": 606,
    "question_view_count": 474766,
    "question_creation_date": 1565777071,
    "answer_id": 57492606,
    "answer_text": "It indicates an ES6 module file. Node.js's original module system is CommonJs (which uses require and module.exports ). Since Node.js was created, the ECMAScript module system (which uses import and export ) has become standard and Node.js has added support for it. Node.js will treat .cjs files as CommonJS modules and .mjs files as ECMAScript modules. It will treat .js files as whatever the default module system for the project is (which is CommonJS unless package.json says \"type\": \"module\", ). See also: Differences between ES6 module system and CommonJs",
    "answer_score": 929,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 89,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      929,
      606,
      474766,
      89,
      -196612743
    ]
  },
  {
    "question_id": 58123398,
    "question_url": "https://stackoverflow.com/questions/58123398/when-to-use-jsx-element-vs-reactnode-vs-reactelement",
    "question_title": "When to use JSX.Element vs ReactNode vs ReactElement?",
    "question_text": "I am currently migrating a React application to TypeScript. So far, this works pretty well, but I have a problem with the return types of my render functions, specifically in my functional components. I have always used JSX.Element as the return type, now this doesn't work any more if a component decides to not render anything, i.e. returns null , since null is not a valid value for JSX.Element . This was the beginning of my journey. I searched the web and found that you should use ReactNode instead, which includes null and a few other things that can happen. However, when creating a functional component, TypeScript complains about the ReactNode type. Again, after some searching I found, that for functional components you should use ReactElement instead. However, if I do so, the compatibility issue is gone, but now TypeScript again complains about null not being a valid value. To cut a long story short, I have three questions: What is the difference between JSX.Element , ReactNode , and ReactElement ? Why do the render methods of class components return ReactNode but functional components return ReactElement ? How do I solve this with respect to null ?",
    "question_tags": [
      "javascript",
      "reactjs",
      "typescript"
    ],
    "question_score": 907,
    "question_view_count": 536625,
    "question_creation_date": 1569525525,
    "answer_id": 58123882,
    "answer_text": "What is the difference between JSX.Element , ReactNode , and ReactElement ? A ReactElement is an object with type , props , and key properties: interface ReactElement< P = any, T extends | string | JSXElementConstructor<any> = string | JSXElementConstructor<any>, > { type: T; props: P; key: string | null; } A JSX.Element is a ReactElement<any, any> . It exists as various libraries can implement JSX in their own way: declare global { // … namespace JSX { // … interface Element extends React.ReactElement<any, any> {} // … } // … } A ReactPortal is a ReactElement with a children property: interface ReactPortal extends ReactElement { children: ReactNode; } A ReactNode is a ReactElement , string , number , Iterable<ReactNode> , ReactPortal , boolean , null , or undefined : type ReactNode = | ReactElement | string | number | Iterable<ReactNode> | ReactPortal | boolean | null | undefined; Example: <div> // <- ReactElement <Component> // <- ReactElement {condition && 'text'} // <- ReactNode </Component> </div> Why do the render methods of class components return ReactNode, but function components return ReactElement? This is due to historical reasons . A Component.render returns a ReactNode : class Component<P, S> { // … render(): ReactNode; // … } A FunctionComponent returns a ReactElement<any, any> | null : interface FunctionComponent<P = {}> { (props: PropsWithChildren<P>, context?: any): ReactElement<any, any> | null; propTypes?: WeakValidationMap<P> | undefined; contextTypes?: ValidationMap<any> | undefined; defaultProps?: Partial<P> | undefined; displayName?: string | undefined; } How do I solve this with respect to null? Type it as ReactElement | null just as React does. Or let TypeScript infer the type.",
    "answer_score": 924,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 269,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      924,
      907,
      536625,
      269,
      -192864165
    ]
  },
  {
    "question_id": 53332321,
    "question_url": "https://stackoverflow.com/questions/53332321/react-hook-warnings-for-async-function-in-useeffect-useeffect-function-must-ret",
    "question_title": "React Hook Warnings for async function in useEffect: useEffect function must return a cleanup function or nothing",
    "question_text": "I was trying the useEffect example something like below: useEffect(async () => { try { const response = await fetch(`https://www.reddit.com/r/${subreddit}.json`); const json = await response.json(); setPosts(json.data.children.map(it => it.data)); } catch (e) { console.error(e); } }, []); and I get this warning in my console. But the cleanup is optional for async calls I think. I am not sure why I get this warning. Linking sandbox for examples. https://codesandbox.io/s/24rj871r0p",
    "question_tags": [
      "javascript",
      "reactjs",
      "react-hooks"
    ],
    "question_score": 591,
    "question_view_count": 913562,
    "question_creation_date": 1542348432,
    "answer_id": 53572588,
    "answer_text": "Note : If you want to support SSR/SSG for SEO, use framework specific api from React-router/Remix, Next.js or Gatsby. For React version >=19 We now have nice loader and form action api : Loading data: function Comments({ dataPromise }) { const data = use(dataPromise); return <div>{JSON.stringify(data)}</div>; } async function loadData() { return { data: \"some data\" }; } export function Index() { return ( <Suspense fallback={<div>Loading...</div>}> <Comments dataPromise={loadData()} /> </Suspense> ); } Form actions async function updateDataAndLoadNew() { // update data // load new data // return new data return { data: \"some data\" }; } export default function Index() { const [state, action, isPending] = useActionState( async (prev, formData) => { return updateUserAndLoadNewData(); }, { data: \"initial state, no data\" } // can be null ); if (state.error) { return `Error ${state.error.message}`; } return ( <form action={action}> <input type=\"text\" name=\"name\" /> <button type=\"submit\" disabled={isPending}> Do it </button> {state.data && <p>Data {state.data}</p>} </form> ); } For React version >=18 Starting with React 18 you can also use Suspense , but it's not yet recommended if you are not using frameworks that correctly implement it: In React 18, you can start using Suspense for data fetching in opinionated frameworks like Relay, Next.js, Hydrogen, or Remix. Ad hoc data fetching with Suspense is technically possible, but still not recommended as a general strategy. If not part of the framework, you can try some libs that implement it like swr . Oversimplified example of how suspense works. You need to throw a promise for Suspense to catch it, show fallback component first and render Main component when promise it's resolved. let fullfilled = false; let promise; const fetchData = () => { if (!fullfilled) { if (!promise) { promise = new Promise(async (resolve) => { const res = await fetch('api/data') const data = await res.json() fullfilled = true resolve(data) }); } throw promise } }; const Main = () => { fetchData(); return <div>Loaded</div>; }; const App = () => ( <Suspense fallback={\"Loading...\"}> <Main /> </Suspense> ); For React version <=17 I suggest to look at Dan Abramov (one of the React core maintainers) answer here : I think you're making it more complicated than it needs to be. function Example() { const [data, dataSet] = useState<any>(null) useEffect(() => { async function fetchMyAPI() { let response = await fetch('api/data') response = await response.json() dataSet(response) } fetchMyAPI() }, []) return <div>{JSON.stringify(data)}</div> } Longer term we'll discourage this pattern because it encourages race conditions. Such as — anything could happen between your call starts and ends, and you could have gotten new props. Instead, we'll recommend Suspense for data fetching which will look more like const response = MyAPIResource.read(); and no effects. But in the meantime you can move the async stuff to a separate function and call it. You can read more about experimental suspense here . If you want to use functions outside with eslint. function OutsideUsageExample({ userId }) { const [data, dataSet] = useState<any>(null) const fetchMyAPI = useCallback(async () => { let response = await fetch('api/data/' + userId) response = await response.json() dataSet(response) }, [userId]) // if userId changes, useEffect will run again useEffect(() => { fetchMyAPI() }, [fetchMyAPI]) return ( <div> <div>data: {JSON.stringify(data)}</div> <div> <button onClick={fetchMyAPI}>manual fetch</button> </div> </div> ) }",
    "answer_score": 861,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 540,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      861,
      591,
      913562,
      540,
      -220041258
    ]
  },
  {
    "question_id": 58384179,
    "question_url": "https://stackoverflow.com/questions/58384179/syntaxerror-cannot-use-import-statement-outside-a-module",
    "question_title": "SyntaxError: Cannot use import statement outside a module",
    "question_text": "I've got an ApolloServer project that's giving me trouble, so I thought I might update it and ran into issues when using the latest Babel. My \"index.js\" is: require('dotenv').config() import {startServer} from './server' startServer() And when I run it I get the error SyntaxError: Cannot use import statement outside a module First I tried doing things to convince TPTB* that this was a module (with no success). So I changed the \" import \" to a \" require \" and this worked. But now I have about two dozen \" imports \" in other files giving me the same error. *I'm sure the root of my problem is that I'm not even sure what's complaining about the issue. I sort of assumed it was Babel 7 (since I'm coming from Babel 6 and I had to change the presets) but I'm not 100% sure. Most of what I've found for solutions don't seem to apply to straight Node. Like this one here: ES6 module Import giving \"Uncaught SyntaxError: Unexpected identifier\" Says it was resolved by adding \"type=module\" but this would typically go in the HTML, of which I have none. I've also tried using my project's old presets: \"presets\": [\"es2015\", \"stage-2\"], \"plugins\": [] But that gets me another error: \"Error: Plugin/Preset files are not allowed to export objects, only functions.\" Here are the dependencies I started with: \"dependencies\": { \"@babel/polyfill\": \"^7.6.0\", \"apollo-link-error\": \"^1.1.12\", \"apollo-link-http\": \"^1.5.16\", \"apollo-server\": \"^2.9.6\", \"babel-preset-es2015\": \"^6.24.1\",",
    "question_tags": [
      "javascript",
      "node.js",
      "node-modules",
      "package.json",
      "npm-package"
    ],
    "question_score": 713,
    "question_view_count": 1935483,
    "question_creation_date": 1571087838,
    "answer_id": 59399717,
    "answer_text": "Verify that you have the latest version of Node.js installed (or, at least 13.2.0+). Then do one of the following, as described in the documentation : Option 1 In the nearest parent package.json file, add the top-level \"type\" field with a value of \"module\" . This will ensure that all .js and .mjs files are interpreted as ES modules. You can interpret individual files as CommonJS by using the .cjs extension. // package.json { \"type\": \"module\" } Option 2 Explicitly name files with the .mjs extension. All other files, such as .js will be interpreted as CommonJS, which is the default if type is not defined in package.json .",
    "answer_score": 824,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 109,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      824,
      713,
      1935483,
      109,
      -191301976
    ]
  },
  {
    "question_id": 54676966,
    "question_url": "https://stackoverflow.com/questions/54676966/push-method-in-react-hooks-usestate",
    "question_title": "Push method in React Hooks (useState)?",
    "question_text": "How to push element inside useState array React hook? Is that as an old method in react state? Or something new? E.g. setState push example ?",
    "question_tags": [
      "javascript",
      "reactjs",
      "react-hooks"
    ],
    "question_score": 392,
    "question_view_count": 610983,
    "question_creation_date": 1550082118,
    "answer_id": 54677026,
    "answer_text": "When you use useState , you can get an update method for the state item: const [theArray, setTheArray] = useState(initialArray); then, when you want to add a new element, you use that function and pass in the new array or a function that will create the new array. Normally the latter, since state updates are asynchronous and sometimes batched: setTheArray(oldArray => [...oldArray, newElement]); Sometimes you can get away without using that callback form, if you only update the array in handlers for certain specific user events like click (but not like mousemove ): setTheArray([...theArray, newElement]); The events for which React ensures that rendering is flushed are the \"discrete events\" listed here . Live Example (passing a callback into setTheArray ): const {useState, useCallback} = React; function Example() { const [theArray, setTheArray] = useState([]); const addEntryClick = () => { setTheArray(oldArray => [...oldArray, `Entry ${oldArray.length}`]); }; return [ <input type=\"button\" onClick={addEntryClick} value=\"Add\" />, <div>{theArray.map(entry => <div>{entry}</div> )} </div> ]; } ReactDOM.render( <Example />, document.getElementById(\"root\") ); <div id=\"root\"></div> <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/16.8.1/umd/react.production.min.js\"></script> <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.8.1/umd/react-dom.production.min.js\"></script> Because the only update to theArray in there is the one in a click event (one of the \"discrete\" events), I could get away with a direct update in addEntry : const {useState, useCallback} = React; function Example() { const [theArray, setTheArray] = useState([]); const addEntryClick = () => { setTheArray([...theArray, `Entry ${theArray.length}`]); }; return [ <input type=\"button\" onClick={addEntryClick} value=\"Add\" />, <div>{theArray.map(entry => <div>{entry}</div> )} </div> ]; } ReactDOM.render( <Example />, document.getElementById(\"root\") ); <div id=\"root\"></div> <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/16.8.1/umd/react.production.min.js\"></script> <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.8.1/umd/react-dom.production.min.js\"></script>",
    "answer_score": 814,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 249,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      814,
      392,
      610983,
      249,
      -212307572
    ]
  },
  {
    "question_id": 55840294,
    "question_url": "https://stackoverflow.com/questions/55840294/how-to-fix-missing-dependency-warning-when-using-useeffect-react-hook",
    "question_title": "How to fix missing dependency warning when using useEffect React Hook",
    "question_text": "With React 16.8.6 (it was good on previous version 16.8.3), I get this error when I attempt to prevent an infinite loop on a fetch request: ./src/components/BusinessesList.js Line 51: React Hook useEffect has a missing dependency: 'fetchBusinesses'. Either include it or remove the dependency array react-hooks/exhaustive-deps I've been unable to find a solution that stops the infinite loop. I want to stay away from using useReducer() . I did find this discussion [ESLint] Feedback for 'exhaustive-deps' lint rule #14920 where a possible solution is You can always // eslint-disable-next-line react-hooks/exhaustive-deps if you think you know what you're doing. I'm not confident in what I'm doing, so I haven't tried implementing it just yet. I have this current setup, React hook useEffect runs continuously forever/infinite loop and the only comment is about useCallback() which I'm not familiar with. How I'm currently using useEffect() (which I only want to run once in the beginning similar to componentDidMount() ): useEffect(() => { fetchBusinesses(); }, []); const fetchBusinesses = () => { return fetch(\"theURL\", {method: \"GET\"} ) .then(res => normalizeResponseErrors(res)) .then(res => { return res.json(); }) .then(rcvdBusinesses => { // some stuff }) .catch(err => { // some error handling }); };",
    "question_tags": [
      "reactjs",
      "react-hooks",
      "eslint",
      "create-react-app",
      "use-effect"
    ],
    "question_score": 886,
    "question_view_count": 1247921,
    "question_creation_date": 1556152514,
    "answer_id": 55854902,
    "answer_text": "If you aren't using fetchBusinesses method anywhere apart from the effect, you could simply move it into the effect and avoid the warning useEffect(() => { const fetchBusinesses = () => { return fetch(\"theURL\", {method: \"GET\"} ) .then(res => normalizeResponseErrors(res)) .then(res => { return res.json(); }) .then(rcvdBusinesses => { // some stuff }) .catch(err => { // some error handling }); }; fetchBusinesses(); }, []); If however you are using fetchBusinesses outside of the effect, you must note two things Is there any issue with you not passing fetchBusinesses as a method when it's used during mount with its enclosing closure? Does your method depend on some variables which it receives from its enclosing closure? This is not the case for you. On every render, fetchBusinesses will be re-created and hence passing it to useEffect will cause issues. So first you must memoize fetchBusinesses if you were to pass it to the dependency array. To sum it up I would say that if you are using fetchBusinesses outside of useEffect you can disable the rule using // eslint-disable-next-line react-hooks/exhaustive-deps otherwise you can move the method inside of useEffect To disable the rule you would write it like useEffect(() => { // other code ... // eslint-disable-next-line react-hooks/exhaustive-deps }, [])",
    "answer_score": 774,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 209,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      774,
      886,
      1247921,
      209,
      -206237176
    ]
  },
  {
    "question_id": 53464595,
    "question_url": "https://stackoverflow.com/questions/53464595/how-to-use-componentwillmount-in-react-hooks",
    "question_title": "How to use componentWillMount() in React Hooks?",
    "question_text": "In the official docs of React it mentions - If you’re familiar with React class lifecycle methods, you can think of useEffect Hook as componentDidMount, componentDidUpdate, and componentWillUnmount combined. My question is - how can we use the componentWillMount() lifecyle method in a hook?",
    "question_tags": [
      "javascript",
      "reactjs",
      "jsx",
      "react-hooks"
    ],
    "question_score": 440,
    "question_view_count": 479688,
    "question_creation_date": 1543119188,
    "answer_id": 53465182,
    "answer_text": "You cannot use any of the existing lifecycle methods ( componentDidMount , componentDidUpdate , componentWillUnmount etc.) in a hook. They can only be used in class components. And with Hooks you can only use in functional components. The line below comes from the React doc: If you’re familiar with React class lifecycle methods, you can think of useEffect Hook as componentDidMount , componentDidUpdate , and componentWillUnmount combined. suggest is, you can mimic these lifecycle method from class component in a functional components. Code inside componentDidMount run once when the component is mounted. useEffect hook equivalent for this behaviour is useEffect(() => { // Your code here }, []); Notice the second parameter here (empty array). This will run only once. Without the second parameter the useEffect hook will be called on every render of the component which can be dangerous. useEffect(() => { // Your code here }); componentWillUnmount is use for cleanup (like removing event listeners, cancel the timer etc). Say you are adding a event listener in componentDidMount and removing it in componentWillUnmount as below. const mouseMoveHandler = () => {} componentDidMount() { window.addEventListener('mousemove', mouseMoveHandler) } componentWillUnmount() { window.removeEventListener('mousemove', mouseMoveHandler) } Hook equivalent of above code will be as follows: useEffect(() => { const mouseMoveHandler = () => {} window.addEventListener('mousemove', mouseMoveHandler); // returned function will be called on component unmount return () => { window.removeEventListener('mousemove', mouseMoveHandler) } }, [])",
    "answer_score": 757,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 231,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      757,
      440,
      479688,
      231,
      -219270502
    ]
  },
  {
    "question_id": 53650468,
    "question_url": "https://stackoverflow.com/questions/53650468/set-types-on-usestate-react-hook-with-typescript",
    "question_title": "Set types on useState React Hook with TypeScript",
    "question_text": "I'm migrating a React with TypeScript project to use hooks features (React v16.7.0-alpha), but I cannot figure out how to set typings of the destructured elements. Here is an example: interface IUser { name: string; } ... const [user, setUser] = useState({name: 'Jon'}); I want to force user variable to be of type IUser . My only successful trial, is doing it in two phases: Typing, then initializing: let user: IUser; let setUser: any; [user, setUser] = useState({name: 'Jon'}); But I'm sure there is a better way. Also, setUser should be initialized as a function that takes a IUser as input, and returns nothing. Also, worth noting that using const [user, setUser] = useState({name: 'Jon'}); without any initialization works fine, but I would like to take advantage of TypeScript to force type checking on init, especially if it depends on some props.",
    "question_tags": [
      "reactjs",
      "typescript",
      "react-hooks"
    ],
    "question_score": 355,
    "question_view_count": 538933,
    "question_creation_date": 1544095872,
    "answer_id": 53650561,
    "answer_text": "Use this const [user, setUser] = useState<IUser>({name: 'Jon'}); See the Corresponding Type in DefinitelyTyped",
    "answer_score": 686,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 14,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      686,
      355,
      538933,
      14,
      -218293818
    ]
  },
  {
    "question_id": 66993264,
    "question_url": "https://stackoverflow.com/questions/66993264/what-does-the-as-const-mean-in-typescript-and-what-is-its-use-case",
    "question_title": "What does the &quot;as const&quot; mean in TypeScript and what is its use case?",
    "question_text": "I am confused about the as const cast. I checked a few documents and videos, but I did not understand it fully. What does the as const mean in the code below and what is the benefit of using it? const args = [8, 5] as const; const angle = Math.atan2(...args); console.log(angle);",
    "question_tags": [
      "typescript",
      "type-assertion"
    ],
    "question_score": 476,
    "question_view_count": 227861,
    "question_creation_date": 1617825204,
    "answer_id": 66993654,
    "answer_text": "This is known as a const assertion . A const assertion tells the compiler to infer the narrowest * or most specific type it can for an expression. If you leave it off, the compiler will use its default type inference behavior, which will possibly result in a wider or more general type. Note that it is called an \"assertion\" and not a \"cast\". The term \"cast\" is generally to be avoided in TypeScript; when people say \"cast\" they often imply some sort of effect that can be observed at runtime, but TypeScript's type system, including type assertions and const assertions, is completely erased from the emitted JavaScript. So there is absolutely no difference at runtime between a program that uses as const and one that does not. At compile time, though, there is a noticeable difference. Let's see what happens when you leave out as const in the above example: const args = [8, 5]; // const args: number[] const angle = Math.atan2(...args); // error! Expected 2 arguments, but got 0 or more. console.log(angle); The compiler sees const args = [8, 5]; and infers the type of number[] . That's a mutable array of zero or more elements of type number . The compiler has no idea how many or which elements there are. Such an inference is generally reasonable; often, array contents are meant to be modified in some way. If someone wants to write args.push(17) or args[0]++ , they'll be happy with a type of number[] . Unfortunately the next line, Math.atan2(...args) , results in an error. The Math.atan2() function requires exactly two numeric arguments. But all the compiler knows about args is that it's an array of numbers. It has completely forgotten that there are two elements, and so the compiler complains that you are calling Math.atan2() with \"0 or more\" arguments when it wants exactly two. Compare that to the code with as const : const args = [8, 5] as const; // const args: readonly [8, 5] const angle = Math.atan2(...args); // okay console.log(angle); Now the compiler infers that args is of type readonly [8, 5] ... a readonly tuple whose values are exactly the numbers 8 and 5 in that order. Specifically, args.length is known to be exactly 2 by the compiler. And this is enough for the next line with Math.atan2() to work. The compiler knows that Math.atan2(...args) is the same as Math.atan2(8, 5) , which is a valid call. And again: at runtime, there is no difference whatsoever. Both versions log 1.0121970114513341 to the console. But const assertions, like the rest of the static type system, are not meant to have effects at runtime. Instead, they let the compiler know more about the intent of the code, and can more accurately tell the difference between correct code and bugs. Playground link to code * This isn't strictly true for array and tuple types; a readonly array or tuple is technically wider than a mutable version. A mutable array is considered a subtype of a readonly array; the former is not known to have mutation methods like push() while the latter does.",
    "answer_score": 685,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 520,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      685,
      476,
      227861,
      520,
      -144564571
    ]
  },
  {
    "question_id": 55198502,
    "question_url": "https://stackoverflow.com/questions/55198502/using-eslint-with-typescript-unable-to-resolve-path-to-module",
    "question_title": "Using eslint with typescript - Unable to resolve path to module",
    "question_text": "I have this import in my file app.spec.ts : import app from './app'; Which causes this Typescript error 2:17 error Unable to resolve path to module './app' import/no-unresolved ./app.ts does exist, but I have not compiled the .ts file into a .js file. As soon as I compile the .ts file to a .js, the error goes away. However, since eslint is supposed to work with typescript, it should resolve modules with the .ts and not the .js. I've also added the typescript information in my eslint config file: \"parser\": \"@typescript-eslint/parser\", \"parserOptions\": { \"project\": \"./tsconfig.json\" } How can I config eslint in such a way that it tries to resolve modules with the .ts and not the .js? EDIT #1 Content of app.ts : import bodyParser from 'body-parser'; import express from 'express'; import graphqlHTTP from 'express-graphql'; import { buildSchema } from 'graphql'; const app = express(); const schema = buildSchema(` type Query { hello: String } `); const root = { hello: () => 'Hello world!' }; app.use(bodyParser()); app.use('/graphql', graphqlHTTP({ schema, rootValue: root, graphiql: true, })); export default app;",
    "question_tags": [
      "typescript",
      "eslint"
    ],
    "question_score": 393,
    "question_view_count": 486303,
    "question_creation_date": 1552750558,
    "answer_id": 55280867,
    "answer_text": "You can set the ESLint module import resolution by adding this snippet to your .eslintrc.json configuration file: { \"settings\": { \"import/resolver\": { \"node\": { \"extensions\": [\".js\", \".jsx\", \".ts\", \".tsx\"] } } }, // ... } More informations about resolvers: https://github.com/benmosher/eslint-plugin-import#resolvers .",
    "answer_score": 645,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 41,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      645,
      393,
      486303,
      41,
      -209639218
    ]
  },
  {
    "question_id": 56704164,
    "question_url": "https://stackoverflow.com/questions/56704164/angular-viewchild-error-expected-2-arguments-but-got-1",
    "question_title": "Angular @ViewChild() error: Expected 2 arguments, but got 1",
    "question_text": "When trying ViewChild I am getting the error. Error is \"An argument for 'opts' was not provided.\" Both @ViewChild is giving the error. import { Component, OnInit, ElementRef, ViewChild, Output, EventEmitter } from '@angular/core'; import { Ingredient } from 'src/app/shared/ingredient.model'; @Component({ selector: 'app-shopping-edit', templateUrl: './shopping-edit.component.html', styleUrls: ['./shopping-edit.component.css'] }) export class ShoppingEditComponent implements OnInit { @ViewChild('nameInput') nameInputRef: ElementRef; @ViewChild('amountInput') amountInputRef: ElementRef; @Output() ingredientAdded = new EventEmitter<Ingredient>(); constructor() {} ngOnInit() { } onAddItem() { const ingName = this.nameInputRef.nativeElement.value; const ingAmount = this.amountInputRef.nativeElement.value; const newIngredient = new Ingredient(ingName, ingAmount); this.ingredientAdded.emit(newIngredient); } } ts(11,2): error TS2554: Expected 2 arguments, but got 1.",
    "question_tags": [
      "angular",
      "typescript",
      "viewchild"
    ],
    "question_score": 319,
    "question_view_count": 188715,
    "question_creation_date": 1561122695,
    "answer_id": 56704219,
    "answer_text": "In Angular 8 , ViewChild takes 2 parameters @ViewChild(ChildDirective, {static: false}) Component",
    "answer_score": 626,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 12,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      626,
      319,
      188715,
      12,
      -201267081
    ]
  },
  {
    "question_id": 60147499,
    "question_url": "https://stackoverflow.com/questions/60147499/how-to-set-port-in-next-js",
    "question_title": "How to Set port in next.js",
    "question_text": "One application is running on port 3000 and I want to run another application on a different port from the default port, which is 3000. How do I change this in React Next.js? My package.json currently contains: \"scripts\": { \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\", \"dev\": \"next\", \"build\": \"next build\", \"start\": \"next start\" }, And the CLI command that I use to start dev is npm run dev .",
    "question_tags": [
      "javascript",
      "reactjs",
      "npm",
      "port",
      "next.js"
    ],
    "question_score": 319,
    "question_view_count": 445914,
    "question_creation_date": 1581327228,
    "answer_id": 60147595,
    "answer_text": "This work for me: \"scripts\": { \"dev\": \"next dev -p 8080\", \"start\": \"next start -p 8080\", },",
    "answer_score": 607,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 17,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      607,
      319,
      445914,
      17,
      -181062462
    ]
  },
  {
    "question_id": 62096269,
    "question_url": "https://stackoverflow.com/questions/62096269/unknown-file-extension-ts-for-a-typescript-file",
    "question_title": "Unknown file extension &quot;.ts&quot; for a TypeScript file",
    "question_text": "When I try to start my app on Heroku I got the following stack trace. It is just a basic ts.app like you see with ts-node and nodemon. I am really interested in what the answer is going to be. 2020-05-30T00:03:12.201106+00:00 heroku[web.1]: Starting process with command `npm start` 2020-05-30T00:03:14.405285+00:00 app[web.1]: 2020-05-30T00:03:14.405303+00:00 app[web.1]: > discordtoornamentmanager@1.0.0 start /app 2020-05-30T00:03:14.405303+00:00 app[web.1]: > ts-node src/App.ts 2020-05-30T00:03:14.405304+00:00 app[web.1]: 2020-05-30T00:03:14.833655+00:00 app[web.1]: (node:23) ExperimentalWarning: The ESM module loader is experimental. 2020-05-30T00:03:14.839311+00:00 app[web.1]: TypeError [ERR_UNKNOWN_FILE_EXTENSION]: Unknown file extension \".ts\" for /app/src/App.ts 2020-05-30T00:03:14.839312+00:00 app[web.1]: at Loader.defaultGetFormat [as _getFormat] (internal/modules/esm/get_format.js:65:15) 2020-05-30T00:03:14.839314+00:00 app[web.1]: at Loader.getFormat (internal/modules/esm/loader.js:113:42) 2020-05-30T00:03:14.839315+00:00 app[web.1]: at Loader.getModuleJob (internal/modules/esm/loader.js:244:31) 2020-05-30T00:03:14.839315+00:00 app[web.1]: at processTicksAndRejections (internal/process/task_queues.js:97:5) 2020-05-30T00:03:14.839316+00:00 app[web.1]: at Loader.import (internal/modules/esm/loader.js:178:17) 2020-05-30T00:03:14.847801+00:00 app[web.1]: npm ERR! code ELIFECYCLE 2020-05-30T00:03:14.847998+00:00 app[web.1]: npm ERR! errno 1 2020-05-30T00:03:14.848957+00:00 app[web.1]: npm ERR! discordtoornamentmanager@1.0.0 start: `ts-node src/App.ts` 2020-05-30T00:03:14.849050+00:00 app[web.1]: npm ERR! Exit status 1 2020-05-30T00:03:14.849172+00:00 app[web.1]: npm ERR! 2020-05-30T00:03:14.849254+00:00 app[web.1]: npm ERR! Failed at the discordtoornamentmanager@1.0.0 start script. 2020-05-30T00:03:14.849337+00:00 app[web.1]: npm ERR! This is probably not a problem with npm. There is likely additional logging output above. 2020-05-30T00:03:14.854859+00:00 app[web.1]: 2020-05-30T00:03:14.854998+00:00 app[web.1]: npm ERR! A complete log of this run can be found in: 2020-05-30T00:03:14.855069+00:00 app[web.1]: npm ERR! /app/.npm/_logs/2020-05-30T00_03_14_850Z-debug.log 2020-05-30T00:03:14.907689+00:00 heroku[web.1]: Process exited with status 1 2020-05-30T00:03:14.943718+00:00 heroku[web.1]: State changed from starting to crashed This is my package.json : { \"name\": \"discordtoornamentmanager\", \"version\": \"1.0.0\", \"description\": \"\", \"main\": \"dist/app.js\", \"type\": \"module\", \"scripts\": { \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\", \"dev\": \"nodemon -x ts-node src/App.ts\", \"start\": \"ts-node src/App.ts\" }, \"keywords\": [], \"author\": \"\", \"license\": \"ISC\", \"dependencies\": { \"@types/node\": \"^14.0.5\", \"axios\": \"^0.19.2\", \"discord.js\": \"^12.2.0\", \"pg\": \"^8.2.1\", \"reflect-metadata\": \"^0.1.10\", \"typeorm\": \"0.2.25\", \"typescript\": \"^3.9.3\", \"nodemon\": \"^2.0.4\", \"ts-node\": \"8.10.1\" } } And this is my tsconfig : { \"compilerOptions\": { \"lib\": [ \"es6\" ], \"target\": \"es6\", \"module\": \"commonjs\", \"moduleResolution\": \"node\", \"outDir\": \"dist\", \"resolveJsonModule\": true, \"emitDecoratorMetadata\": true, \"esModuleInterop\": true, \"experimentalDecorators\": true, \"sourceMap\": true }, \"include\": [\"src/**/*.ts\"], \"exclude\": [\"node_modules\", \"**/*.spec.ts\"] }",
    "question_tags": [
      "node.js",
      "typescript",
      "npm"
    ],
    "question_score": 646,
    "question_view_count": 939127,
    "question_creation_date": 1590797233,
    "answer_id": 62099904,
    "answer_text": "Remove \"type\": \"module\" from package.json https://github.com/TypeStrong/ts-node/issues/935 https://github.com/TypeStrong/ts-node/issues/1007#issuecomment-1163471306 If you don't want to remove \"type\": \"module\" (for example if you're using import statements in your .ts which allows the inference of types from modules), then you can use the following option in tsconfig.json : { \"compilerOptions\": { \"esModuleInterop\": true, } } And then you can start the server with the config using ts-node . Install: npm install -g ts-node Run: ts-node-esm my_server.ts",
    "answer_score": 594,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 71,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      594,
      646,
      939127,
      71,
      -171592542
    ]
  },
  {
    "question_id": 59623674,
    "question_url": "https://stackoverflow.com/questions/59623674/how-can-i-use-optional-chaining-with-arrays-and-functions",
    "question_title": "How can I use optional chaining with arrays and functions?",
    "question_text": "I'm trying to use optional chaining with an array instead of an object but not sure how to do that: Here's what I'm trying to do myArray.filter(x => x.testKey === myTestKey)?[0] . Also trying similar thing with a function: let x = {a: () => {}, b: null} console.log(x?b()); But it's giving a similar error - how can I use optional chaining with an array or a function?",
    "question_tags": [
      "javascript",
      "arrays",
      "typescript",
      "function",
      "optional-chaining"
    ],
    "question_score": 342,
    "question_view_count": 174035,
    "question_creation_date": 1578380702,
    "answer_id": 59623717,
    "answer_text": "You need to put a . after the ? to use optional chaining: myArray.filter(x => x.testKey === myTestKey)?.[0] Playground link Using just the ? alone makes the compiler think you're trying to use the conditional operator (and then it throws an error since it doesn't see a : later) Optional chaining isn't just a TypeScript thing - it is a finished proposal in plain JavaScript too. It can be used with bracket notation like above, but it can also be used with dot notation property access: const obj = { prop2: { nested2: 'val2' } }; console.log( obj.prop1?.nested1, obj.prop2?.nested2 ); And with function calls: const obj = { fn2: () => console.log('fn2 running') }; obj.fn1?.(); obj.fn2?.();",
    "answer_score": 587,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 116,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      587,
      342,
      174035,
      116,
      -184009074
    ]
  },
  {
    "question_id": 53556409,
    "question_url": "https://stackoverflow.com/questions/53556409/flatmap-flat-flatten-doesnt-exist-on-type-any",
    "question_title": "flatMap, flat, flatten doesn&#39;t exist on type any[]",
    "question_text": "I'm using Chrome 70 and Chrome does add methods .flatMap , .flatten , .flat . So my code does run as expected. Unfortunately, TypeScript doesn't like it. // data.flatMap lint error export const transformData = (data: any[]) => data.flatMap(abc => [ parentObj(abc), ...generateTasks(abc) ]); The warning I got is TS2339: Property 'flatMap' does not exist on type 'any[]'. I'm using Angular 6, which uses Typescript ~2.9.2, and I already include import 'core-js/es7/array'; in polyfills.ts . My guess is that there is no typing for these methods, and I did try to npm run -dev @types/array.prototype.flatmap but still not solve.",
    "question_tags": [
      "angular",
      "typescript"
    ],
    "question_score": 301,
    "question_view_count": 180889,
    "question_creation_date": 1543576284,
    "answer_id": 53559473,
    "answer_text": "You should add es2019 or es2019.array to your --lib setting for TypeScript to recognize array.flat() and flatMap() . Example: { \"compilerOptions\": { \"target\": \"es5\", \"lib\": [ \"es2019\" ] } } Previously this was available as part of esnext or esnext.array , but it's now officially part of ES2019.",
    "answer_score": 570,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 48,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      570,
      301,
      180889,
      48,
      -218813492
    ]
  },
  {
    "question_id": 59188624,
    "question_url": "https://stackoverflow.com/questions/59188624/template-not-provided-using-create-react-app",
    "question_title": "Template not provided using create-react-app",
    "question_text": "When I type the create-react-app my-app command in my terminal, it appears to work - downloading all libraries successfully etc. At the end of that process however I get a message that a template was not provided . Input user@users-MacBook-Pro-2 Desktop% create-react-app my-app Output Creating a new React app in /Users/user/Desktop/my-app. Installing packages. This might take a couple of minutes. Installing react, react-dom, and react-scripts... ..... nothing out of the ordinary here ..... ✨ Done in 27.28s. A template was not provided. This is likely because you're using an outdated version of create-react-app. Please note that global installs of create-react-app are no longer supported. In package.json of my-app : \"dependencies\": { \"react\": \"^16.12.0\", \"react-dom\": \"^16.12.0\", \"react-scripts\": \"3.3.0\" <-- up-to-date } I checked out the CRA changelog and it looks like support was added for custom templates - however it doesn't look like the command create-react-app my-app would have changed. Any idea what is going on here?",
    "question_tags": [
      "reactjs",
      "create-react-app"
    ],
    "question_score": 432,
    "question_view_count": 164610,
    "question_creation_date": 1575522746,
    "answer_id": 59189242,
    "answer_text": "If you've previously installed create-react-app globally via npm install -g create-react-app , we recommend you uninstall the package using npm uninstall -g create-react-app to ensure that npx always uses the latest version. Docs Use either one of the below commands: npx create-react-app my-app npm init react-app my-app yarn create react-app my-app if npm uninstall -g create-react-app stated above does not work. Type which create-react-app to know where it is installed. Mine was installed in /usr/bin folder. Then do sudo rm -rf /usr/bin/create-react-app . (Credit to @v42 comment below)",
    "answer_score": 568,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 88,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      568,
      432,
      164610,
      88,
      -186866944
    ]
  },
  {
    "question_id": 56871384,
    "question_url": "https://stackoverflow.com/questions/56871384/what-is-the-difference-between-ts-and-tsx-extensions-both-are-used-as-extensi",
    "question_title": "What is the difference between .ts and .tsx extensions. Both are used as extensions for typescript files in react. So where should we use them?",
    "question_text": "I am new to react and I am working on a project. I come across both .ts and .tsx extensions. I don't understand where should I use .ts and .tsx . Any help on this is much appreciated. Thank you!",
    "question_tags": [
      "reactjs",
      "typescript"
    ],
    "question_score": 384,
    "question_view_count": 336228,
    "question_creation_date": 1562160795,
    "answer_id": 56871491,
    "answer_text": "Use .ts for pure TypeScript files. Use .tsx for files which contain JSX. For example, a React component would be .tsx , but a file containing helper functions would be .ts .",
    "answer_score": 529,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 32,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      529,
      384,
      336228,
      32,
      -200228895
    ]
  },
  {
    "question_id": 56238356,
    "question_url": "https://stackoverflow.com/questions/56238356/understanding-esmoduleinterop-in-tsconfig-file",
    "question_title": "Understanding esModuleInterop in tsconfig file",
    "question_text": "I was checking out someone .tsconfig file and there I spotted --esModuleInterop This is his .tsconfig file { \"compilerOptions\": { \"moduleResolution\": \"node\", \"target\": \"es6\", \"module\": \"commonjs\", \"lib\": [\"esnext\"], \"strict\": true, \"sourceMap\": true, \"declaration\": true, \"esModuleInterop\": true, \"allowSyntheticDefaultImports\": true, \"experimentalDecorators\": true, \"emitDecoratorMetadata\": true, \"declarationDir\": \"./dist\", \"outDir\": \"./dist\", \"typeRoots\": [\"node_modules/@types\"] }, \"include\": [\"src/**/*.ts\"], \"exclude\": [\"node_modules\"] } Here, My primary question is what is \"esModuleInterop\": true, and \"allowSyntheticDefaultImports\": true, . I know they are sort of dependent on the \"module\": \"commonjs\", . Can someone try to explain it in the best human language possible? The official docs for allowSyntheticDefaultImports states Allow default imports from modules with no default export. This does not affect code emit, just typechecking. What does that mean? If there isn't any export default then I think the only use case of the import default would be to initialize something? Like a singleton? The following question/answer does not make sense as well Is there a way to use --esModuleInterop in tsconfig as opposed to it being a flag? And --esModuleInterop definition on the compiler page Emit __importStar and __importDefault helpers for runtime babel ecosystem compatibility and enable --allowSyntheticDefaultImports for typesystem compatibility. Also seemed difficult for me to understand/comprehend",
    "question_tags": [
      "typescript"
    ],
    "question_score": 409,
    "question_view_count": 345146,
    "question_creation_date": 1558441872,
    "answer_id": 56348146,
    "answer_text": "Problem statement Problem occurs when we want to import CommonJS module into ES6 module codebase. Before these flags we had to import CommonJS modules with star ( * as something ) import: // node_modules/moment/index.js exports = moment // index.ts file in our app import * as moment from 'moment' moment(); // not compliant with es6 module spec // transpiled js (simplified): const moment = require(\"moment\"); moment(); We can see that * was somehow equivalent to exports variable. It worked fine, but it wasn't compliant with es6 modules spec. In spec, the namespace record in star import ( moment in our case) can be only a plain object, not callable ( moment() is not allowed). Solution With flag esModuleInterop we can import CommonJS modules in compliance with es6 modules spec. Now our import code looks like this: // index.ts file in our app import moment from 'moment' moment(); // compliant with es6 module spec // transpiled js with esModuleInterop (simplified): const moment = __importDefault(require('moment')); moment.default(); It works and it's perfectly valid with es6 modules spec, because moment is not namespace from star import, it's default import. But how does it work? As you can see, because we did a default import, we called the default property on a moment object. But we didn't declare a default property on the exports object in the moment library. The key is the __importDefault function. It assigns module ( exports ) to the default property for CommonJS modules: var __importDefault = (this && this.__importDefault) || function (mod) { return (mod && mod.__esModule) ? mod : { \"default\": mod }; }; As you can see, we import es6 modules as they are, but CommonJS modules are wrapped into an object with the default key. This makes it possible to import defaults on CommonJS modules. __importStar does the similar job - it returns untouched esModules, but translates CommonJS modules into modules with a default property: // index.ts file in our app import * as moment from 'moment' // transpiled js with esModuleInterop (simplified): const moment = __importStar(require(\"moment\")); // note that \"moment\" is now uncallable - ts will report error! var __importStar = (this && this.__importStar) || function (mod) { if (mod && mod.__esModule) return mod; var result = {}; if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k]; result[\"default\"] = mod; return result; }; Synthetic imports And what about allowSyntheticDefaultImports - what is it for? Now the docs should be clear: Allow default imports from modules with no default export. This does not affect code emit, just typechecking. In moment typings we don't have specified default export, and we shouldn't have, because it's available only with flag esModuleInterop on. So allowSyntheticDefaultImports will not report an error if we want to import default from a third-party module which doesn't have a default export.",
    "answer_score": 526,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 471,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      526,
      409,
      345146,
      471,
      -203947903
    ]
  },
  {
    "question_id": 53446020,
    "question_url": "https://stackoverflow.com/questions/53446020/how-to-compare-oldvalues-and-newvalues-on-react-hooks-useeffect",
    "question_title": "How to compare oldValues and newValues on React Hooks useEffect?",
    "question_text": "Let's say I have 3 inputs: rate, sendAmount, and receiveAmount. I put that 3 inputs on useEffect diffing params. The rules are: If sendAmount changed, I calculate receiveAmount = sendAmount * rate If receiveAmount changed, I calculate sendAmount = receiveAmount / rate If rate changed, I calculate receiveAmount = sendAmount * rate when sendAmount > 0 or I calculate sendAmount = receiveAmount / rate when receiveAmount > 0 Here is the codesandbox https://codesandbox.io/s/pkl6vn7x6j to demonstrate the problem. Is there a way to compare the oldValues and newValues like on componentDidUpdate instead of making 3 handlers for this case? Thanks Here is my final solution with usePrevious https://codesandbox.io/s/30n01w2r06 In this case, I cannot use multiple useEffect because each change is leading to the same network call. That's why I also use changeCount to track the change too. This changeCount also helpful to track changes from local only, so I can prevent unnecessary network call because of changes from the server.",
    "question_tags": [
      "reactjs",
      "react-hooks"
    ],
    "question_score": 419,
    "question_view_count": 497455,
    "question_creation_date": 1542973202,
    "answer_id": 53446665,
    "answer_text": "You can write a custom hook to provide you a previous props using useRef function usePrevious(value) { const ref = useRef(); useEffect(() => { ref.current = value; }); return ref.current; } and then use it in useEffect const Component = (props) => { const {receiveAmount, sendAmount } = props const prevAmount = usePrevious({receiveAmount, sendAmount}); useEffect(() => { if(prevAmount.receiveAmount !== receiveAmount) { // process here } if(prevAmount.sendAmount !== sendAmount) { // process here } }, [receiveAmount, sendAmount]) } However its clearer and probably better and clearer to read and understand if you use two useEffect separately for each change id you want to process them separately",
    "answer_score": 523,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 105,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      523,
      419,
      497455,
      105,
      -219416488
    ]
  },
  {
    "question_id": 64933543,
    "question_url": "https://stackoverflow.com/questions/64933543/parsing-error-cannot-read-file-tsconfig-json-eslint",
    "question_title": "Parsing error: Cannot read file &#39;.../tsconfig.json&#39;.eslint",
    "question_text": "The error Parsing error: Cannot read file '.../tsconfig.json'.eslint shows in all .ts files in the src folder including index.ts . I have no idea how to set up configs. The issue just shows a red line and makes the file red. However, everything compiles and run fine. The entire Node project was created using the firebase CLI. tsconfig.json file: { \"compilerOptions\": { \"module\": \"commonjs\", \"noImplicitReturns\": true, \"noUnusedLocals\": true, \"outDir\": \"lib\", \"sourceMap\": true, \"strict\": true, \"target\": \"es2017\" }, \"compileOnSave\": true, \"include\": [ \"src\" ] } .eslintrc.js file: module.exports = { env: { browser: true, es6: true, node: true, }, extends: [ \"plugin:import/errors\", \"plugin:import/warnings\", \"plugin:import/typescript\", ], parser: \"@typescript-eslint/parser\", parserOptions: { project: \"tsconfig.json\", sourceType: \"module\", }, plugins: [ \"@typescript-eslint\", \"import\", ], rules: { \"@typescript-eslint/adjacent-overload-signatures\": \"error\", \"@typescript-eslint/no-empty-function\": \"error\", \"@typescript-eslint/no-empty-interface\": \"warn\", \"@typescript-eslint/no-floating-promises\": \"error\", \"@typescript-eslint/no-namespace\": \"error\", \"@typescript-eslint/no-unnecessary-type-assertion\": \"error\", \"@typescript-eslint/prefer-for-of\": \"warn\", \"@typescript-eslint/triple-slash-reference\": \"error\", \"@typescript-eslint/unified-signatures\": \"warn\", \"comma-dangle\": \"warn\", \"constructor-super\": \"error\", eqeqeq: [\"warn\", \"always\"], \"import/no-deprecated\": \"warn\", \"import/no-extraneous-dependencies\": \"error\", \"import/no-unassigned-import\": \"warn\", \"no-cond-assign\": \"error\", \"no-duplicate-case\": \"error\", \"no-duplicate-imports\": \"error\", \"no-empty\": [ \"error\", { allowEmptyCatch: true, }, ], \"no-invalid-this\": \"error\", \"no-new-wrappers\": \"error\", \"no-param-reassign\": \"error\", \"no-redeclare\": \"error\", \"no-sequences\": \"error\", \"no-shadow\": [ \"error\", { hoist: \"all\", }, ], \"no-throw-literal\": \"error\", \"no-unsafe-finally\": \"error\", \"no-unused-labels\": \"error\", \"no-var\": \"warn\", \"no-void\": \"error\", \"prefer-const\": \"warn\", }, settings: { jsdoc: { tagNamePreference: { returns: \"return\", }, }, }, }; I had tried restarting VScode, clearing the cache, and all to no avail. I am guessing I need to change some of the paths but I am not very good at changing the config files so I don't want to accidentally break the entire project.",
    "question_tags": [
      "node.js",
      "typescript",
      "eslint",
      "typescript-eslint"
    ],
    "question_score": 292,
    "question_view_count": 232509,
    "question_creation_date": 1605891095,
    "answer_id": 64940811,
    "answer_text": "2025 Update: typescript-eslint v8 has stabilised the projectService option, which is now recommended over project . See the Typed Linting with Project Service announcement for further details. By default, the project s (in parserOptions ) are resolved relative to the current working directory. If you run eslint in a different working directory to the folder containing tsconfig.json , @typescript-eslint/parser will not be able to locate the file. To fix this, you can set tsconfigRootDir to __dirname , which would make the parser resolve the project configuration relative to .eslintrc.js . Legacy config: module.exports = { // ... parserOptions: { project: \"tsconfig.json\", tsconfigRootDir: __dirname, sourceType: \"module\", }, // ... } ESLint’s v9 flat config, eslint.config.mjs (although see the update above regarding projectService ): import tseslint from 'typescript-eslint' export default tseslint.config( // ... { languageOptions: { parserOptions: { project: 'tsconfig.json', tsconfigRootDir: import.meta.dirname, }, }, }, ); If you’re having some trouble with /path/to/.eslintrc.js 0:0 error Parsing error: \"parserOptions.project\" has been set for @typescript-eslint/parser. The file does not match your project config: .eslintrc.js. The file must be included in at least one of the projects provided see the official troubleshooting section on this or this question .",
    "answer_score": 494,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 194,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      494,
      292,
      232509,
      194,
      -156498681
    ]
  },
  {
    "question_id": 53949393,
    "question_url": "https://stackoverflow.com/questions/53949393/cant-perform-a-react-state-update-on-an-unmounted-component",
    "question_title": "Can&#39;t perform a React state update on an unmounted component",
    "question_text": "Problem I am writing an application in React and was unable to avoid a super common pitfall, which is calling setState(...) after componentWillUnmount(...) . I looked very carefully at my code and tried to put some guarding clauses in place, but the problem persisted and I am still observing the warning. Therefore, I've got two questions: How do I figure out from the stack trace , which particular component and event handler or lifecycle hook is responsible for the rule violation? Well, how to fix the problem itself, because my code was written with this pitfall in mind and is already trying to prevent it, but some underlying component's still generating the warning. Browser console Warning: Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method. in TextLayerInternal (created by Context.Consumer) in TextLayer (created by PageInternal) index.js:1446 d/console[e] index.js:1446 warningWithoutStack react-dom.development.js:520 warnAboutUpdateOnUnmounted react-dom.development.js:18238 scheduleWork react-dom.development.js:19684 enqueueSetState react-dom.development.js:12936 ./node_modules/react/cjs/react.development.js/Component.prototype.setState react.development.js:356 _callee$ TextLayer.js:97 tryCatch runtime.js:63 invoke runtime.js:282 defineIteratorMethods/</prototype[method] runtime.js:116 asyncGeneratorStep asyncToGenerator.js:3 _throw asyncToGenerator.js:29 Code Book.tsx import { throttle } from 'lodash'; import * as React from 'react'; import { AutoWidthPdf } from '../shared/AutoWidthPdf'; import BookCommandPanel from '../shared/BookCommandPanel'; import BookTextPath from '../static/pdf/sde.pdf'; import './Book.css'; const DEFAULT_WIDTH = 140; class Book extends React.Component { setDivSizeThrottleable: () => void; pdfWrapper: HTMLDivElement | null = null; isComponentMounted: boolean = false; state = { hidden: true, pdfWidth: DEFAULT_WIDTH, }; constructor(props: any) { super(props); this.setDivSizeThrottleable = throttle( () => { if (this.isComponentMounted) { this.setState({ pdfWidth: this.pdfWrapper!.getBoundingClientRect().width - 5, }); } }, 500, ); } componentDidMount = () => { this.isComponentMounted = true; this.setDivSizeThrottleable(); window.addEventListener(\"resize\", this.setDivSizeThrottleable); }; componentWillUnmount = () => { this.isComponentMounted = false; window.removeEventListener(\"resize\", this.setDivSizeThrottleable); }; render = () => ( <div className=\"Book\"> { this.state.hidden && <div className=\"Book__LoadNotification centered\">Book is being loaded...</div> } <div className={this.getPdfContentContainerClassName()}> <BookCommandPanel bookTextPath={BookTextPath} /> <div className=\"Book__PdfContent\" ref={ref => this.pdfWrapper = ref}> <AutoWidthPdf file={BookTextPath} width={this.state.pdfWidth} onLoadSuccess={(_: any) => this.onDocumentComplete()} /> </div> <BookCommandPanel bookTextPath={BookTextPath} /> </div> </div> ); getPdfContentContainerClassName = () => this.state.hidden ? 'hidden' : ''; onDocumentComplete = () => { try { this.setState({ hidden: false }); this.setDivSizeThrottleable(); } catch (caughtError) { console.warn({ caughtError }); } }; } export default Book; AutoWidthPdf.tsx import * as React from 'react'; import { Document, Page, pdfjs } from 'react-pdf'; pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`; interface IProps { file: string; width: number; onLoadSuccess: (pdf: any) => void; } export class AutoWidthPdf extends React.Component<IProps> { render = () => ( <Document file={this.props.file} onLoadSuccess={(_: any) => this.props.onLoadSuccess(_)} > <Page pageNumber={1} width={this.props.width} /> </Document> ); } Update 1: Cancel throttleable function (still no luck) const DEFAULT_WIDTH = 140; class Book extends React.Component { setDivSizeThrottleable: ((() => void) & Cancelable) | undefined; pdfWrapper: HTMLDivElement | null = null; state = { hidden: true, pdfWidth: DEFAULT_WIDTH, }; componentDidMount = () => { this.setDivSizeThrottleable = throttle( () => { this.setState({ pdfWidth: this.pdfWrapper!.getBoundingClientRect().width - 5, }); }, 500, ); this.setDivSizeThrottleable(); window.addEventListener(\"resize\", this.setDivSizeThrottleable); }; componentWillUnmount = () => { window.removeEventListener(\"resize\", this.setDivSizeThrottleable!); this.setDivSizeThrottleable!.cancel(); this.setDivSizeThrottleable = undefined; }; render = () => ( <div className=\"Book\"> { this.state.hidden && <div className=\"Book__LoadNotification centered\">Book is being loaded...</div> } <div className={this.getPdfContentContainerClassName()}> <BookCommandPanel BookTextPath={BookTextPath} /> <div className=\"Book__PdfContent\" ref={ref => this.pdfWrapper = ref}> <AutoWidthPdf file={BookTextPath} width={this.state.pdfWidth} onLoadSuccess={(_: any) => this.onDocumentComplete()} /> </div> <BookCommandPanel BookTextPath={BookTextPath} /> </div> </div> ); getPdfContentContainerClassName = () => this.state.hidden ? 'hidden' : ''; onDocumentComplete = () => { try { this.setState({ hidden: false }); this.setDivSizeThrottleable!(); } catch (caughtError) { console.warn({ caughtError }); } }; } export default Book;",
    "question_tags": [
      "javascript",
      "reactjs",
      "typescript",
      "lodash",
      "setstate"
    ],
    "question_score": 435,
    "question_view_count": 772590,
    "question_creation_date": 1545935621,
    "answer_id": 60907638,
    "answer_text": "Here is a React Hooks specific solution for Error Warning: Can't perform a React state update on an unmounted component. Solution You can declare let isMounted = true inside useEffect , which will be changed in the cleanup callback , as soon as the component is unmounted. Before state updates, you now check this variable conditionally: useEffect(() => { let isMounted = true; // note mutable flag someAsyncOperation().then(data => { if (isMounted) setState(data); // add conditional check }) return () => { isMounted = false }; // cleanup toggles value, if unmounted }, []); // adjust dependencies to your needs const Parent = () => { const [mounted, setMounted] = useState(true); return ( <div> Parent: <button onClick={() => setMounted(!mounted)}> {mounted ? \"Unmount\" : \"Mount\"} Child </button> {mounted && <Child />} <p> Unmount Child, while it is still loading. It won't set state later on, so no error is triggered. </p> </div> ); }; const Child = () => { const [state, setState] = useState(\"loading (4 sec)...\"); useEffect(() => { let isMounted = true; fetchData(); return () => { isMounted = false; }; // simulate some Web API fetching function fetchData() { setTimeout(() => { // drop \"if (isMounted)\" to trigger error again // (take IDE, doesn't work with stack snippet) if (isMounted) setState(\"data fetched\") else console.log(\"aborted setState on unmounted component\") }, 4000); } }, []); return <div>Child: {state}</div>; }; ReactDOM.render(<Parent />, document.getElementById(\"root\")); <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/16.13.0/umd/react.production.min.js\" integrity=\"sha256-32Gmw5rBDXyMjg/73FgpukoTZdMrxuYW7tj8adbN8z4=\" crossorigin=\"anonymous\"></script> <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.13.0/umd/react-dom.production.min.js\" integrity=\"sha256-bjQ42ac3EN0GqK40pC9gGi/YixvKyZ24qMP/9HiGW7w=\" crossorigin=\"anonymous\"></script> <div id=\"root\"></div> <script>var { useReducer, useEffect, useState, useRef } = React</script> Extension: Custom useAsync Hook We can encapsulate all the boilerplate into a custom Hook, that automatically aborts async functions in case the component unmounts or dependency values have changed before: function useAsync(asyncFn, onSuccess) { useEffect(() => { let isActive = true; asyncFn().then(data => { if (isActive) onSuccess(data); }); return () => { isActive = false }; }, [asyncFn, onSuccess]); } // custom Hook for automatic abortion on unmount or dependency change // You might add onFailure for promise errors as well. function useAsync(asyncFn, onSuccess) { useEffect(() => { let isActive = true; asyncFn().then(data => { if (isActive) onSuccess(data) else console.log(\"aborted setState on unmounted component\") }); return () => { isActive = false; }; }, [asyncFn, onSuccess]); } const Child = () => { const [state, setState] = useState(\"loading (4 sec)...\"); useAsync(simulateFetchData, setState); return <div>Child: {state}</div>; }; const Parent = () => { const [mounted, setMounted] = useState(true); return ( <div> Parent: <button onClick={() => setMounted(!mounted)}> {mounted ? \"Unmount\" : \"Mount\"} Child </button> {mounted && <Child />} <p> Unmount Child, while it is still loading. It won't set state later on, so no error is triggered. </p> </div> ); }; const simulateFetchData = () => new Promise( resolve => setTimeout(() => resolve(\"data fetched\"), 4000)); ReactDOM.render(<Parent />, document.getElementById(\"root\")); <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/16.13.0/umd/react.production.min.js\" integrity=\"sha256-32Gmw5rBDXyMjg/73FgpukoTZdMrxuYW7tj8adbN8z4=\" crossorigin=\"anonymous\"></script> <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.13.0/umd/react-dom.production.min.js\" integrity=\"sha256-bjQ42ac3EN0GqK40pC9gGi/YixvKyZ24qMP/9HiGW7w=\" crossorigin=\"anonymous\"></script> <div id=\"root\"></div> <script>var { useReducer, useEffect, useState, useRef } = React</script> More on effect cleanups: Overreacted: A Complete Guide to useEffect",
    "answer_score": 473,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 486,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      473,
      435,
      772590,
      486,
      -216454069
    ]
  },
  {
    "question_id": 60234640,
    "question_url": "https://stackoverflow.com/questions/60234640/typeerror-err-invalid-arg-type-the-path-argument-must-be-of-type-string-r",
    "question_title": "&#39;TypeError [ERR_INVALID_ARG_TYPE]: The &quot;path&quot; argument must be of type string. Received type undefined&#39;",
    "question_text": "I'm working on a project in React and ran into a problem that has me stumped. Whenever I run yarn start I get this error: TypeError [ERR_INVALID_ARG_TYPE]: The \"path\" argument must be of type string. Received type undefined I have no idea why this is happening.",
    "question_tags": [
      "reactjs",
      "visual-studio-code",
      "redux",
      "create-react-app",
      "yarnpkg"
    ],
    "question_score": 333,
    "question_view_count": 476118,
    "question_creation_date": 1581722320,
    "answer_id": 60242323,
    "answer_text": "To fix this issue simply upgrade react-scripts package (check latest version with npm info react-scripts version ): Replace in your package.json \"react-scripts\": \"^3.x.x\" with \"react-scripts\": \"^3.4.1\" (or the latest available version) (optional for some) Delete your node_modules folder Run npm install or yarn install Some people reported that this issue was caused by running npm audit fix (avoid it!).",
    "answer_score": 461,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 59,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      461,
      333,
      476118,
      59,
      -180667370
    ]
  },
  {
    "question_id": 71706064,
    "question_url": "https://stackoverflow.com/questions/71706064/react-18-hydration-failed-because-the-initial-ui-does-not-match-what-was-render",
    "question_title": "React 18: Hydration failed because the initial UI does not match what was rendered on the server",
    "question_text": "I'm trying to get SSR working in my app, but I get the error: Hydration failed because the initial UI does not match what was rendered on the server. Live demo code is here . Live demo of problem is here (open dev tools console to see the errors): File App.js import React from \"react\"; class App extends React.Component { head() { return ( <head> <meta charSet=\"utf-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\" /> <meta name=\"theme-color\" content=\"#000000\" /> <title>React App</title> </head> ); } body() { return ( <body> <div className=\"App\"> <h1>Client says Hello World</h1> </div> </body> ); } render() { return ( <React.Fragment> {this.head()} {this.body()} </React.Fragment> ) } } export default App; File index.js import React from \"react\"; import * as ReactDOM from \"react-dom/client\"; import { StrictMode } from \"react\"; import App from \"./App\"; //const container = document.getElementById(\"root\"); const container = document.getElementsByTagName(\"html\")[0] ReactDOM.hydrateRoot( container, <StrictMode> <App /> </StrictMode> ); The HTML template shown in the live demo is served by the backend and generated using the following code: const ReactDOMServer = require('react-dom/server'); const clientHtml = ReactDOMServer.renderToString( <StrictMode> <App /> </StrictMode> ) // Serve clientHtml to client I need to dynamically generate <head></head> and <body></body> section as shown in the App class.",
    "question_tags": [
      "reactjs",
      "next.js"
    ],
    "question_score": 339,
    "question_view_count": 675793,
    "question_creation_date": 1648811823,
    "answer_id": 71870995,
    "answer_text": "I have been experiencing the same problem lately with Next.js and I am not sure if my observations are applicable to other libraries. I had been wrapping my components with an improper tag that is, Next.js is not comfortable having a p tag wrapping your div s, sections , etc., so it will yell \"Hydration failed because the initial UI does not match what was rendered on the server\". I solved this problem by examining how my elements were wrapping each other. With material UI you would need to be cautious. For example, if you use a typography component as a wrapper, the default value of the component prop is \"p\", so you will experience the error if you don't change the component value to something semantic. In my own opinion, based on my personal experience, the problem is caused by improper arrangement of HTML elements and to solve the problem in the context of Next.js, one will have to reevaluate how they are arranging their HTML element. import Image from 'next/image' /** * This might give that error */ export const IncorrectComponent = ()=>{ return( <p> <div>This is not correct and should never be done because the p tag has been abused</div> <Image src='/vercel.svg' alt='' width='30' height='30'/> </p> ) } /** * This will work */ export const CorrectComponent = ()=>{ return( <div> <div>This is correct and should work because a div is really good for this task.</div> <Image src='/vercel.svg' alt='' width='30' height='30'/> </div> ) }",
    "answer_score": 448,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 247,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      448,
      339,
      675793,
      247,
      -113577867
    ]
  },
  {
    "question_id": 54002792,
    "question_url": "https://stackoverflow.com/questions/54002792/in-general-is-it-better-to-use-one-or-many-useeffect-hooks-in-a-single-component",
    "question_title": "In general is it better to use one or many useEffect hooks in a single component?",
    "question_text": "I have some side effects to apply in my react component and want to know how to organize them: as a single useEffect or several useEffects Which is better in terms of performance and architecture?",
    "question_tags": [
      "reactjs",
      "performance",
      "react-hooks",
      "architecture",
      "use-effect"
    ],
    "question_score": 311,
    "question_view_count": 287716,
    "question_creation_date": 1546414693,
    "answer_id": 54004148,
    "answer_text": "The pattern that you need to follow depends on your use case. First: You might have a situation where you need to add event listener during the initial mount and clean them up at unmount and another case where a particular listener needs to be cleaned up and re-added on a prop change. In such a case, using two different useEffect is better to keep the relevant logic together as well as having performance benefits useEffect(() => { // adding event listeners on mount here return () => { // cleaning up the listeners here } }, []); useEffect(() => { // adding listeners everytime props.x changes return () => { // removing the listener when props.x changes } }, [props.x]) Second: You need to trigger an API call or some other side-effect when any of the state or props change from a defined set. In such a case a single useEffect with the relevant dependencies to monitor would be better useEffect(() => { // side effect here on change of any of props.x or stateY }, [props.x, stateY]) Third: You need separate side-effect for different sets of changes. In such a case, separate out relevant side-effects into different useEffect s useEffect(() => { // some side-effect on change of props.x }, [props.x]) useEffect(() => { // another side-effect on change of stateX or stateY }, [stateX, stateY])",
    "answer_score": 448,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 228,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      448,
      311,
      287716,
      228,
      -215974967
    ]
  },
  {
    "question_id": 56247433,
    "question_url": "https://stackoverflow.com/questions/56247433/how-to-use-setstate-callback-on-react-hooks",
    "question_title": "How to use `setState` callback on react hooks",
    "question_text": "React hooks introduces useState for setting component state. But how can I use hooks to replace the callback like below code: setState( { name: \"Michael\" }, () => console.log(this.state) ); I want to do something after the state is updated. I know I can use useEffect to do the extra things but I have to check the state previous value which requires a bit code. I am looking for a simple solution which can be used with useState hook.",
    "question_tags": [
      "reactjs",
      "react-hooks",
      "use-state"
    ],
    "question_score": 422,
    "question_view_count": 425484,
    "question_creation_date": 1558480739,
    "answer_id": 56247483,
    "answer_text": "You need to use useEffect hook to achieve this. const [counter, setCounter] = useState(0); const doSomething = () => { setCounter(123); } useEffect(() => { console.log('Do something after counter has changed', counter); }, [counter]); If you want the useEffect callback to be ignored during the first initial render , then modify the code accordingly: import React, { useEffect, useRef } from 'react'; const [counter, setCounter] = useState(0); const didMount = useRef(false); const doSomething = () => { setCounter(123); } useEffect(() => { // Return early, if this is the first render: if ( !didMount.current ) { return didMount.current = true; } // Paste code to be executed on subsequent renders: console.log('Do something after counter has changed', counter); }, [counter]);",
    "answer_score": 431,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 119,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      431,
      422,
      425484,
      119,
      -203908951
    ]
  },
  {
    "question_id": 57458460,
    "question_url": "https://stackoverflow.com/questions/57458460/why-is-there-a-large-performance-impact-when-looping-over-an-array-with-240-or-m",
    "question_title": "Why is there a large performance impact when looping over an array with 240 or more elements?",
    "question_text": "When running a sum loop over an array in Rust, I noticed a huge performance drop when CAPACITY >= 240. CAPACITY = 239 is about 80 times faster. Is there special compilation optimization Rust is doing for \"short\" arrays? Compiled with rustc -C opt-level=3 . use std::time::Instant; const CAPACITY: usize = 240; const IN_LOOPS: usize = 500000; fn main() { let mut arr = [0; CAPACITY]; for i in 0..CAPACITY { arr[i] = i; } let mut sum = 0; let now = Instant::now(); for _ in 0..IN_LOOPS { let mut s = 0; for i in 0..arr.len() { s += arr[i]; } sum += s; } println!(\"sum:{} time:{:?}\", sum, now.elapsed()); }",
    "question_tags": [
      "arrays",
      "performance",
      "rust",
      "llvm-codegen"
    ],
    "question_score": 261,
    "question_view_count": 23835,
    "question_creation_date": 1565601394,
    "answer_id": 57462362,
    "answer_text": "Summary : below 240, LLVM fully unrolls the inner loop and that lets it notice it can optimize away the repeat loop, breaking your benchmark. You found a magic threshold above which LLVM stops performing certain optimizations . The threshold is 8 bytes * 240 = 1920 bytes (your array is an array of usize s, therefore the length is multiplied with 8 bytes, assuming x86-64 CPU). In this benchmark, one specific optimization – only performed for length 239 – is responsible for the huge speed difference. But let's start slowly: (All code in this answer is compiled with -C opt-level=3 ) pub fn foo() -> usize { let arr = [0; 240]; let mut s = 0; for i in 0..arr.len() { s += arr[i]; } s } This simple code will produce roughly the assembly one would expect: a loop adding up elements. However, if you change 240 to 239 , the emitted assembly differs quite a lot. See it on Godbolt Compiler Explorer . Here is a small part of the assembly: movdqa xmm1, xmmword ptr [rsp + 32] movdqa xmm0, xmmword ptr [rsp + 48] paddq xmm1, xmmword ptr [rsp] paddq xmm0, xmmword ptr [rsp + 16] paddq xmm1, xmmword ptr [rsp + 64] ; more stuff omitted here ... paddq xmm0, xmmword ptr [rsp + 1840] paddq xmm1, xmmword ptr [rsp + 1856] paddq xmm0, xmmword ptr [rsp + 1872] paddq xmm0, xmm1 pshufd xmm1, xmm0, 78 paddq xmm1, xmm0 This is what's called loop unrolling : LLVM pastes the loop body a bunch of time to avoid having to execute all those \"loop management instructions\", i.e. incrementing the loop variable, check if the loop has ended and the jump to the start of the loop. In case you're wondering: the paddq and similar instructions are SIMD instructions which allow summing up multiple values in parallel. Moreover, two 16-byte SIMD registers ( xmm0 and xmm1 ) are used in parallel so that instruction-level parallelism of the CPU can basically execute two of these instructions at the same time. After all, they are independent of one another. In the end, both registers are added together and then horizontally summed down to the scalar result. Modern mainstream x86 CPUs (not low-power Atom) really can do 2 vector loads per clock when they hit in L1d cache, and paddq throughput is also at least 2 per clock, with 1 cycle latency on most CPUs. See https://agner.org/optimize/ and also this Q&A about multiple accumulators to hide latency (of FP FMA for a dot product) and bottleneck on throughput instead. LLVM does unroll small loops some when it's not fully unrolling, and still uses multiple accumulators. So usually, front-end bandwidth and back-end latency bottlenecks aren't a huge problem for LLVM-generated loops even without full unrolling. But loop unrolling is not responsible for a performance difference of factor 80! At least not loop unrolling alone. Let's take a look at the actual benchmarking code, which puts the one loop inside another one: const CAPACITY: usize = 239; const IN_LOOPS: usize = 500000; pub fn foo() -> usize { let mut arr = [0; CAPACITY]; for i in 0..CAPACITY { arr[i] = i; } let mut sum = 0; for _ in 0..IN_LOOPS { let mut s = 0; for i in 0..arr.len() { s += arr[i]; } sum += s; } sum } ( On Godbolt Compiler Explorer ) The assembly for CAPACITY = 240 looks normal: two nested loops. (At the start of the function there is quite some code just for initializing, which we will ignore.) For 239, however, it looks very different! We see that the initializing loop and the inner loop got unrolled: so far so expected. The important difference is that for 239, LLVM was able to figure out that the result of the inner loop does not depend on the outer loop! As a consequence, LLVM emits code that basically first executes only the inner loop (calculating the sum) and then simulates the outer loop by adding up sum a bunch of times! First we see almost the same assembly as above (the assembly representing the inner loop). Afterwards we see this (I commented to explain the assembly; the comments with * are especially important): ; at the start of the function, `rbx` was set to 0 movq rax, xmm1 ; result of SIMD summing up stored in `rax` add rax, 711 ; add up missing terms from loop unrolling mov ecx, 500000 ; * init loop variable outer loop .LBB0_1: add rbx, rax ; * rbx += rax add rcx, -1 ; * decrement loop variable jne .LBB0_1 ; * if loop variable != 0 jump to LBB0_1 mov rax, rbx ; move rbx (the sum) back to rax ; two unimportant instructions omitted ret ; the return value is stored in `rax` As you can see here, the result of the inner loop is taken, added up as often as the outer loop would have ran and then returned. LLVM can only perform this optimization because it understood that the inner loop is independent of the outer one. This means the runtime changes from CAPACITY * IN_LOOPS to CAPACITY + IN_LOOPS . And this is responsible for the huge performance difference. An additional note: can you do anything about this? Not really. LLVM has to have such magic thresholds as without them LLVM-optimizations could take forever to complete on certain code. But we can also agree that this code was highly artificial. In practice, I doubt that such a huge difference would occur. The difference due to full loop unrolling is usually not even factor 2 in these cases. So no need to worry about real use cases. As a last note about idiomatic Rust code: arr.iter().sum() is a better way to sum up all elements of an array. And changing this in the second example does not lead to any notable differences in emitted assembly. You should use short and idiomatic versions unless you measured that it hurts performance.",
    "answer_score": 398,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 1007,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      398,
      261,
      23835,
      1007,
      -196788267
    ]
  },
  {
    "question_id": 54884488,
    "question_url": "https://stackoverflow.com/questions/54884488/how-can-i-solve-the-error-ts2532-object-is-possibly-undefined",
    "question_title": "How can I solve the error &#39;TS2532: Object is possibly &#39;undefined&#39;?",
    "question_text": "I'm trying to rebuild a web app example that uses Firebase Cloud Functions and Firestore. When deploying a function I get the following error: src/index.ts:45:18 - error TS2532: Object is possibly 'undefined'. 45 const data = change.after.data(); This is the function: export const archiveChat = functions.firestore .document(\"chats/{chatId}\") .onUpdate(change => { const data = change.after.data(); const maxLen = 100; const msgLen = data.messages.length; const charLen = JSON.stringify(data).length; const batch = db.batch(); if (charLen >= 10000 || msgLen >= maxLen) { // Always delete at least 1 message const deleteCount = msgLen - maxLen <= 0 ? 1 : msgLen - maxLen data.messages.splice(0, deleteCount); const ref = db.collection(\"chats\").doc(change.after.id); batch.set(ref, data, { merge: true }); return batch.commit(); } else { return null; } }); I'm just trying to deploy the function to test it. And already searched the web for similar problems, but couldn't find any other posts that match my problem.",
    "question_tags": [
      "typescript",
      "firebase",
      "google-cloud-firestore",
      "google-cloud-functions"
    ],
    "question_score": 334,
    "question_view_count": 722832,
    "question_creation_date": 1551180461,
    "answer_id": 58401023,
    "answer_text": "With the release of TypeScript 3.7, optional chaining (the ? operator) is now officially available. As such, you can simplify your expression to the following: const data = change?.after?.data(); You may read more about it from that version's release notes , which cover other interesting features released on that version. Run the following to install the latest stable release of TypeScript. npm install typescript That being said, Optional Chaining can be used alongside Nullish Coalescing to provide a fallback value when dealing with null or undefined values const data = change?.after?.data() ?? someOtherData(); Additional points: If you are using optional chaining in the conditional if statements, you will still need to ensure that you are doing proper value/type equality checking. The following will fail in strict TypeScript, as you are possibly comparing an undefined value with a number. if (_?.childs?.length > 0) Instead, this is what you should be doing: if (_?.childs && _.childs.length > 0)",
    "answer_score": 381,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 156,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      381,
      334,
      722832,
      156,
      -211209315
    ]
  },
  {
    "question_id": 54551198,
    "question_url": "https://stackoverflow.com/questions/54551198/how-to-solve-socketexception-failed-host-lookup-www-xyz-com-os-error-no-ad",
    "question_title": "How to solve SocketException: Failed host lookup: &#39;www.xyz.com&#39; (OS Error: No address associated with hostname, errno = 7)",
    "question_text": "Whenever I try to do an http call after about 20 seconds I get in the console the following error: E/flutter ( 8274): [ERROR:flutter/shell/common/shell.cc(184)] Dart Error: Unhandled exception: E/flutter ( 8274): SocketException: Failed host lookup: 'flutter-project-xxxxx.firebaseio.com' (OS Error: No address associated with hostname, errno = 7) This error happens for every method and every route I call through the app http package. I'm developing a flutter app on Windows, using an AVD virtual device from Android Studio. Versions: http: ^0.12.0+1 flutter: 1.0 Cases: From home or though tethering from my phone: connectivity works fine on every part of the virtual device From my work network (behind the firewall): Only with Android Web View, I can browse the internet without any problem (i can even call the same url, I use in the code and it works). I get a connection error when using any other application (Chrome, Google Play, ecc...) in the virtual device, and specifically the \"SocketException\", when testing my app. What is the difference between the calls coming from that app? Is there a way to route my app calls the same way as the ones in the webview? Thanks!",
    "question_tags": [
      "android",
      "http",
      "dart",
      "flutter",
      "socketexception"
    ],
    "question_score": 186,
    "question_view_count": 314973,
    "question_creation_date": 1549448372,
    "answer_id": 55548864,
    "answer_text": "Adding internet permission is not only a solution. You also have to make sure that you are online whether it is mobile or emulator Make sure you are online whether it is mobile or emulator Make sure you have given internet permission in your app's android/app/src/main/AndroidManifest.xml <uses-permission android:name=\"android.permission.INTERNET\"/>",
    "answer_score": 323,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 48,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      323,
      186,
      314973,
      48,
      -212941413
    ]
  },
  {
    "question_id": 54620698,
    "question_url": "https://stackoverflow.com/questions/54620698/whats-the-difference-between-useref-and-createref",
    "question_title": "What&#39;s the difference between `useRef` and `createRef`?",
    "question_text": "I was going through the hooks documentation when I stumbled upon useRef . Looking at their example… function TextInputWithFocusButton() { const inputEl = useRef(null); const onButtonClick = () => { // `current` points to the mounted text input element inputEl.current.focus(); }; return ( <> <input ref={inputEl} type=\"text\" /> <button onClick={onButtonClick}>Focus the input</button> </> ); } …it seems like useRef can be replaced with createRef . function TextInputWithFocusButton() { const inputRef = createRef(); // what's the diff? const onButtonClick = () => { // `current` points to the mounted text input element inputRef.current.focus(); }; return ( <> <input ref={inputRef} type=\"text\" /> <button onClick={onButtonClick}>Focus the input</button> </> ); } Why do I need a hook for refs? Why does useRef exist?",
    "question_tags": [
      "javascript",
      "reactjs",
      "react-hooks"
    ],
    "question_score": 315,
    "question_view_count": 162679,
    "question_creation_date": 1549830436,
    "answer_id": 54620836,
    "answer_text": "The difference is that createRef will always create a new ref. In a class-based component, you would typically put the ref in an instance property during construction (e.g. this.input = createRef() ). You don't have this option in a function component. useRef takes care of returning the same ref each time as on the initial rendering. Here's an example app demonstrating the difference in the behavior of these two functions: import React, { useRef, createRef, useState } from \"react\"; import ReactDOM from \"react-dom\"; function App() { const [renderIndex, setRenderIndex] = useState(1); const refFromUseRef = useRef(); const refFromCreateRef = createRef(); if (!refFromUseRef.current) { refFromUseRef.current = renderIndex; } if (!refFromCreateRef.current) { refFromCreateRef.current = renderIndex; } return ( <div className=\"App\"> Current render index: {renderIndex} <br /> First render index remembered within refFromUseRef.current: {refFromUseRef.current} <br /> First render index unsuccessfully remembered within refFromCreateRef.current: {refFromCreateRef.current} <br /> <button onClick={() => setRenderIndex(prev => prev + 1)}> Cause re-render </button> </div> ); } const rootElement = document.getElementById(\"root\"); ReactDOM.render(<App />, rootElement);",
    "answer_score": 319,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 163,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      319,
      315,
      162679,
      163,
      -212559254
    ]
  },
  {
    "question_id": 53253940,
    "question_url": "https://stackoverflow.com/questions/53253940/make-react-useeffect-hook-not-run-on-initial-render",
    "question_title": "Make React useEffect hook not run on initial render",
    "question_text": "According to the docs: componentDidUpdate() is invoked immediately after updating occurs. This method is not called for the initial render. We can use the new useEffect() hook to simulate componentDidUpdate() , but it seems like useEffect() is being ran after every render, even the first time. How do I get it to not run on initial render? As you can see in the example below, componentDidUpdateFunction is printed during the initial render but componentDidUpdateClass was not printed during the initial render. function ComponentDidUpdateFunction() { const [count, setCount] = React.useState(0); React.useEffect(() => { console.log(\"componentDidUpdateFunction\"); }); return ( <div> <p>componentDidUpdateFunction: {count} times</p> <button onClick={() => { setCount(count + 1); }} > Click Me </button> </div> ); } class ComponentDidUpdateClass extends React.Component { constructor(props) { super(props); this.state = { count: 0, }; } componentDidUpdate() { console.log(\"componentDidUpdateClass\"); } render() { return ( <div> <p>componentDidUpdateClass: {this.state.count} times</p> <button onClick={() => { this.setState({ count: this.state.count + 1 }); }} > Click Me </button> </div> ); } } ReactDOM.render( <div> <ComponentDidUpdateFunction /> <ComponentDidUpdateClass /> </div>, document.querySelector(\"#app\") ); <script src=\"https://unpkg.com/react@16.7.0-alpha.0/umd/react.development.js\"></script> <script src=\"https://unpkg.com/react-dom@16.7.0-alpha.0/umd/react-dom.development.js\"></script> <div id=\"app\"></div>",
    "question_tags": [
      "javascript",
      "reactjs",
      "react-hooks"
    ],
    "question_score": 372,
    "question_view_count": 363451,
    "question_creation_date": 1541975742,
    "answer_id": 53254028,
    "answer_text": "We can use the useRef hook to store any mutable value we like , so we could use that to keep track of if it's the first time the useEffect function is being run. If we want the effect to run in the same phase that componentDidUpdate does, we can use useLayoutEffect instead. Example const { useState, useRef, useLayoutEffect } = React; function ComponentDidUpdateFunction() { const [count, setCount] = useState(0); const firstUpdate = useRef(true); useLayoutEffect(() => { if (firstUpdate.current) { firstUpdate.current = false; return; } console.log(\"componentDidUpdateFunction\"); }); return ( <div> <p>componentDidUpdateFunction: {count} times</p> <button onClick={() => { setCount(count + 1); }} > Click Me </button> </div> ); } ReactDOM.render( <ComponentDidUpdateFunction />, document.getElementById(\"app\") ); <script src=\"https://unpkg.com/react@16.7.0-alpha.0/umd/react.development.js\"></script> <script src=\"https://unpkg.com/react-dom@16.7.0-alpha.0/umd/react-dom.development.js\"></script> <div id=\"app\"></div>",
    "answer_score": 318,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 119,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      318,
      372,
      363451,
      119,
      -220413948
    ]
  },
  {
    "question_id": 55304436,
    "question_url": "https://stackoverflow.com/questions/55304436/webpack-with-typescript-getting-typescript-emitted-no-output-error",
    "question_title": "Webpack with typescript getting TypeScript emitted no output error",
    "question_text": "I've got this configuration from https://www.npmjs.com/package/ts-loader : webpack.config.js: var path = require('path'); var webpack = require('webpack'); module.exports = { mode: \"development\", devtool: \"inline-source-map\", entry: \"./src/Api.ts\", output: { filename: \"bundle.js\" }, resolve: { // Add `.ts` and `.tsx` as a resolvable extension. extensions: [\".ts\", \".tsx\", \".js\"] }, module: { rules: [ // all files with a `.ts` or `.tsx` extension will be handled by `ts-loader` { test: /\\.tsx?$/, loader: \"ts-loader\" } ] } }; ./src/Api.ts: export class Api { ... } But when I run webpack I get: Error: TypeScript emitted no output for Api.ts",
    "question_tags": [
      "typescript",
      "webpack"
    ],
    "question_score": 105,
    "question_view_count": 84815,
    "question_creation_date": 1553273765,
    "answer_id": 55304691,
    "answer_text": "Check that you don't have noEmit set to true In your tsconfig.json file.",
    "answer_score": 317,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 13,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      317,
      105,
      84815,
      13,
      -209115957
    ]
  },
  {
    "question_id": 57847594,
    "question_url": "https://stackoverflow.com/questions/57847594/accessing-up-to-date-state-from-within-a-callback",
    "question_title": "Accessing up-to-date state from within a callback",
    "question_text": "We use a third party library (over which there is limited control) that takes a callback as argument to a function. What is the correct way to provide that callback with the latest state? In class components, this would be done through the use of this . In React hooks, due to the way state is encapsulated in the functions of React.useState() , if a callback gets the state through React.useState() , it will be stale (the value when the callback was setup). But if it sets the state, it will have access to the latest state through the passed argument. This means we can potentially get the latest state in such a callback with React hooks by setting the state to be the same as it was. This works, but is counter-intuitive. With the following code, every time the callback accesses it, it's back at its default value. The console will keep printing Count is: 0 no matter how many times I click. function Card(title) { const [count, setCount] = React.useState(0) const [callbackSetup, setCallbackSetup] = React.useState(false) function setupConsoleCallback(callback) { console.log(\"Setting up callback\") setInterval(callback, 3000) } function clickHandler() { setCount(count+1); if (!callbackSetup) { setupConsoleCallback(() => {console.log(`Count is: ${count}`)}) setCallbackSetup(true) } } return (<div> Active count {count} <br/> <button onClick={clickHandler}>Increment</button> </div>); } const el = document.querySelector(\"#root\"); ReactDOM.render(<Card title='Example Component' />, el); CodePen I've had no problem setting state within a callback, only in accessing the latest state. If I was to take a guess, I'd think that any change of state creates a new instance of the Card function. And that the callback is referring to the old one. Based on the documentation at https://reactjs.org/docs/hooks-reference.html#functional-updates , I had an idea to take the approach of calling setState in the callback, and passing a function to setState, to see if I could access the current state from within setState. Replacing setupConsoleCallback(() => {console.log(`Count is: ${count}`)}) with setupConsoleCallback(() => {setCount(prevCount => {console.log(`Count is: ${prevCount}`); return prevCount})}) CodePen Does work. I need to call setState to access the previous state. Even though I have no intention of setting the state. How can I access the latest state information from within a callback?",
    "question_tags": [
      "javascript",
      "reactjs",
      "react-hooks"
    ],
    "question_score": 284,
    "question_view_count": 148109,
    "question_creation_date": 1568000296,
    "answer_id": 60643670,
    "answer_text": "For your scenario (where you cannot keep creating new callbacks and passing them to your 3rd party library), you can use useRef to keep a mutable object with the current state. Like so: function Card(title) { const [count, setCount] = React.useState(0) const [callbackSetup, setCallbackSetup] = React.useState(false) const stateRef = useRef(); // make stateRef always have the current count // your \"fixed\" callbacks can refer to this object whenever // they need the current value. Note: the callbacks will not // be reactive - they will not re-run the instant state changes, // but they *will* see the current value whenever they do run stateRef.current = count; function setupConsoleCallback(callback) { console.log(\"Setting up callback\") setInterval(callback, 3000) } function clickHandler() { setCount(count+1); if (!callbackSetup) { setupConsoleCallback(() => {console.log(`Count is: ${stateRef.current}`)}) setCallbackSetup(true) } } return (<div> Active count {count} <br/> <button onClick={clickHandler}>Increment</button> </div>); } Your callback can refer to the mutable object to \"read\" the current state. It will capture the mutable object in its closure, and every render the mutable object will be updated with the current state value.",
    "answer_score": 309,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 176,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      309,
      284,
      148109,
      176,
      -194389394
    ]
  },
  {
    "question_id": 54150783,
    "question_url": "https://stackoverflow.com/questions/54150783/react-hooks-usestate-with-object",
    "question_title": "React Hooks useState() with Object",
    "question_text": "What is the correct way of updating state, in a nested object, in React with Hooks? export Example = () => { const [exampleState, setExampleState] = useState( {masterField: { fieldOne: \"a\", fieldTwo: { fieldTwoOne: \"b\" fieldTwoTwo: \"c\" } } }) How would one use setExampleState to update exampleState to a (appending an field)? const a = { masterField: { fieldOne: \"a\", fieldTwo: { fieldTwoOne: \"b\", fieldTwoTwo: \"c\" } }, masterField2: { fieldOne: \"c\", fieldTwo: { fieldTwoOne: \"d\", fieldTwoTwo: \"e\" } }, } } b (Changing values)? const b = {masterField: { fieldOne: \"e\", fieldTwo: { fieldTwoOne: \"f\" fieldTwoTwo: \"g\" } } })",
    "question_tags": [
      "javascript",
      "reactjs",
      "react-hooks"
    ],
    "question_score": 321,
    "question_view_count": 661931,
    "question_creation_date": 1547225225,
    "answer_id": 54150873,
    "answer_text": "You can pass new value like this: setExampleState({...exampleState, masterField2: { fieldOne: \"a\", fieldTwo: { fieldTwoOne: \"b\", fieldTwoTwo: \"c\" } }, })",
    "answer_score": 298,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 21,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      298,
      321,
      661931,
      21,
      -215164465
    ]
  },
  {
    "question_id": 71703933,
    "question_url": "https://stackoverflow.com/questions/71703933/what-is-the-difference-between-vite-and-vite-preview",
    "question_title": "What is the difference between &quot;vite&quot; and &quot;vite preview&quot;?",
    "question_text": "I created a project template using Vite. Under package.json, I saw this: \"scripts\": { \"dev\": \"vite\", \"build\": \"vue-tsc --noEmit && vite build\", \"preview\": \"vite preview\" }, What's the difference between vite and vite preview ? When should one use vite instead of vite preview ?",
    "question_tags": [
      "javascript",
      "vue.js",
      "vite"
    ],
    "question_score": 176,
    "question_view_count": 94196,
    "question_creation_date": 1648801592,
    "answer_id": 71703991,
    "answer_text": "npm run dev (or vite ) starts a local web server with Hot Module Replacement for development, and will automatically change when code changes npm run build (or vite build ) builds the project, and outputs to the folder ./dist npm run preview (or vite preview ) start a local web server that serves the built solution from ./dist for previewing Beware You need to run build before preview . Preview will always preview the latest build, and will not update automatically when code changes.",
    "answer_score": 286,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 85,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      286,
      176,
      94196,
      85,
      -113588203
    ]
  },
  {
    "question_id": 53608244,
    "question_url": "https://stackoverflow.com/questions/53608244/how-to-add-multiple-data-types-for-vuejs-props",
    "question_title": "How to add multiple data types for VueJs Props?",
    "question_text": "This error got me when passing different values to the component.",
    "question_tags": [
      "vue.js",
      "vuejs2",
      "vue-component"
    ],
    "question_score": 135,
    "question_view_count": 120620,
    "question_creation_date": 1543910563,
    "answer_id": 53608245,
    "answer_text": "Here is the solution I found. props: { value: [Number, String, Array] }",
    "answer_score": 281,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 13,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      281,
      135,
      120620,
      13,
      -218479232
    ]
  },
  {
    "question_id": 54432583,
    "question_url": "https://stackoverflow.com/questions/54432583/when-should-i-not-want-to-use-pandas-apply-in-my-code",
    "question_title": "When should I (not) want to use pandas apply() in my code?",
    "question_text": "I have seen many answers posted to questions on Stack Overflow involving the use of the Pandas method apply . I have also seen users commenting under them saying that \" apply is slow, and should be avoided\". I have read many articles on the topic of performance that explain apply is slow. I have also seen a disclaimer in the docs about how apply is simply a convenience function for passing UDFs (can't seem to find that now). So, the general consensus is that apply should be avoided if possible. However, this raises the following questions: If apply is so bad, then why is it in the API? How and when should I make my code apply -free? Are there ever any situations where apply is good (better than other possible solutions)?",
    "question_tags": [
      "python",
      "pandas",
      "performance",
      "apply"
    ],
    "question_score": 243,
    "question_view_count": 69485,
    "question_creation_date": 1548815669,
    "answer_id": 54432584,
    "answer_text": "apply , the Convenience Function you Never Needed We start by addressing the questions in the OP, one by one. \"If apply is so bad, then why is it in the API?\" DataFrame.apply and Series.apply are convenience functions defined on DataFrame and Series object respectively. apply accepts any user defined function that applies a transformation/aggregation on a DataFrame. apply is effectively a silver bullet that does whatever any existing pandas function cannot do. Some of the things apply can do: Run any user-defined function on a DataFrame or Series Apply a function either row-wise ( axis=1 ) or column-wise ( axis=0 ) on a DataFrame Perform index alignment while applying the function Perform aggregation with user-defined functions (however, we usually prefer agg or transform in these cases) Perform element-wise transformations Broadcast aggregated results to original rows (see the result_type argument). Accept positional/keyword arguments to pass to the user-defined functions. ...Among others. For more information, see Row or Column-wise Function Application in the documentation. So, with all these features, why is apply bad? It is because apply is slow . Pandas makes no assumptions about the nature of your function, and so iteratively applies your function to each row/column as necessary. Additionally, handling all of the situations above means apply incurs some major overhead at each iteration. Further, apply consumes a lot more memory, which is a challenge for memory bounded applications. There are very few situations where apply is appropriate to use (more on that below). If you're not sure whether you should be using apply , you probably shouldn't. pandas 2.2 update: apply now supports engine='numba' More info in the release notes as well as GH54666 Choose between the python (default) engine or the numba engine in apply. The numba engine will attempt to JIT compile the passed function, which may result in speedups for large DataFrames. It also supports the following engine_kwargs : nopython (compile the function in nopython mode) nogil (release the GIL inside the JIT compiled function) parallel (try to apply the function in parallel over the DataFrame) Note: Due to limitations within numba/how pandas interfaces with numba, you should only use this if raw=True Let's address the next question. \"How and when should I make my code apply -free?\" To rephrase, here are some common situations where you will want to get rid of any calls to apply . Numeric Data If you're working with numeric data, there is likely already a vectorized cython function that does exactly what you're trying to do (if not, please either ask a question on Stack Overflow or open a feature request on GitHub). Contrast the performance of apply for a simple addition operation. df = pd.DataFrame({\"A\": [9, 4, 2, 1], \"B\": [12, 7, 5, 4]}) df A B 0 9 12 1 4 7 2 2 5 3 1 4 <!- -> df.apply(np.sum) A 16 B 28 dtype: int64 df.sum() A 16 B 28 dtype: int64 Performance wise, there's no comparison, the cythonized equivalent is much faster. There's no need for a graph, because the difference is obvious even for toy data. %timeit df.apply(np.sum) %timeit df.sum() 2.22 ms ± 41.2 µs per loop (mean ± std. dev. of 7 runs, 100 loops each) 471 µs ± 8.16 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each) Even if you enable passing raw arrays with the raw argument, it's still twice as slow. %timeit df.apply(np.sum, raw=True) 840 µs ± 691 µs per loop (mean ± std. dev. of 7 runs, 100 loops each) Another example: df.apply(lambda x: x.max() - x.min()) A 8 B 8 dtype: int64 df.max() - df.min() A 8 B 8 dtype: int64 %timeit df.apply(lambda x: x.max() - x.min()) %timeit df.max() - df.min() 2.43 ms ± 450 µs per loop (mean ± std. dev. of 7 runs, 100 loops each) 1.23 ms ± 14.7 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each) In general, seek out vectorized alternatives if possible. String/Regex Pandas provides \"vectorized\" string functions in most situations, but there are rare cases where those functions do not... \"apply\", so to speak. A common problem is to check whether a value in a column is present in another column of the same row. df = pd.DataFrame({ 'Name': ['mickey', 'donald', 'minnie'], 'Title': ['wonderland', \"welcome to donald's castle\", 'Minnie mouse clubhouse'], 'Value': [20, 10, 86]}) df Name Value Title 0 mickey 20 wonderland 1 donald 10 welcome to donald's castle 2 minnie 86 Minnie mouse clubhouse This should return the row second and third row, since \"donald\" and \"minnie\" are present in their respective \"Title\" columns. Using apply, this would be done using df.apply(lambda x: x['Name'].lower() in x['Title'].lower(), axis=1) 0 False 1 True 2 True dtype: bool df[df.apply(lambda x: x['Name'].lower() in x['Title'].lower(), axis=1)] Name Title Value 1 donald welcome to donald's castle 10 2 minnie Minnie mouse clubhouse 86 However, a better solution exists using list comprehensions. df[[y.lower() in x.lower() for x, y in zip(df['Title'], df['Name'])]] Name Title Value 1 donald welcome to donald's castle 10 2 minnie Minnie mouse clubhouse 86 <!- -> %timeit df[df.apply(lambda x: x['Name'].lower() in x['Title'].lower(), axis=1)] %timeit df[[y.lower() in x.lower() for x, y in zip(df['Title'], df['Name'])]] 2.85 ms ± 38.4 µs per loop (mean ± std. dev. of 7 runs, 100 loops each) 788 µs ± 16.4 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each) The thing to note here is that iterative routines happen to be faster than apply , because of the lower overhead. If you need to handle NaNs and invalid dtypes, you can build on this using a custom function you can then call with arguments inside the list comprehension. For more information on when list comprehensions should be considered a good option, see my writeup: Are for-loops in pandas really bad? When should I care? . Note Date and datetime operations also have vectorized versions. So, for example, you should prefer pd.to_datetime(df['date']) , over, say, df['date'].apply(pd.to_datetime) . Read more at the docs . A Common Pitfall: Exploding Columns of Lists s = pd.Series([[1, 2]] * 3) s 0 [1, 2] 1 [1, 2] 2 [1, 2] dtype: object People are tempted to use apply(pd.Series) . This is horrible in terms of performance. s.apply(pd.Series) 0 1 0 1 2 1 1 2 2 1 2 A better option is to listify the column and pass it to pd.DataFrame. pd.DataFrame(s.tolist()) 0 1 0 1 2 1 1 2 2 1 2 <!- -> %timeit s.apply(pd.Series) %timeit pd.DataFrame(s.tolist()) 2.65 ms ± 294 µs per loop (mean ± std. dev. of 7 runs, 100 loops each) 816 µs ± 40.5 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each) Lastly, \"Are there any situations where apply is good?\" Apply is a convenience function, so there are situations where the overhead is negligible enough to forgive. It really depends on how many times the function is called. Functions that are Vectorized for Series, but not DataFrames What if you want to apply a string operation on multiple columns? What if you want to convert multiple columns to datetime? These functions are vectorized for Series only, so they must be applied over each column that you want to convert/operate on. df = pd.DataFrame( pd.date_range('2018-12-31','2019-01-31', freq='2D').date.astype(str).reshape(-1, 2), columns=['date1', 'date2']) df date1 date2 0 2018-12-31 2019-01-02 1 2019-01-04 2019-01-06 2 2019-01-08 2019-01-10 3 2019-01-12 2019-01-14 4 2019-01-16 2019-01-18 5 2019-01-20 2019-01-22 6 2019-01-24 2019-01-26 7 2019-01-28 2019-01-30 df.dtypes date1 object date2 object dtype: object This is an admissible case for apply : df.apply(pd.to_datetime, errors='coerce').dtypes date1 datetime64[ns] date2 datetime64[ns] dtype: object Note that it would also make sense to stack , or just use an explicit loop. All these options are slightly faster than using apply , but the difference is small enough to forgive. %timeit df.apply(pd.to_datetime, errors='coerce') %timeit pd.to_datetime(df.stack(), errors='coerce').unstack() %timeit pd.concat([pd.to_datetime(df[c], errors='coerce') for c in df], axis=1) %timeit for c in df.columns: df[c] = pd.to_datetime(df[c], errors='coerce') 5.49 ms ± 247 µs per loop (mean ± std. dev. of 7 runs, 100 loops each) 3.94 ms ± 48.1 µs per loop (mean ± std. dev. of 7 runs, 100 loops each) 3.16 ms ± 216 µs per loop (mean ± std. dev. of 7 runs, 100 loops each) 2.41 ms ± 1.71 ms per loop (mean ± std. dev. of 7 runs, 1 loop each) You can make a similar case for other operations such as string operations, or conversion to category. u = df.apply(lambda x: x.str.contains(...)) v = df.apply(lambda x: x.astype(category)) v/s u = pd.concat([df[c].str.contains(...) for c in df], axis=1) v = df.copy() for c in df: v[c] = df[c].astype(category) And so on... Converting Series to str : astype versus apply This seems like an idiosyncrasy of the API. Using apply to convert integers in a Series to string is comparable (and sometimes faster) than using astype . The graph was plotted using the perfplot library. import perfplot perfplot.show( setup=lambda n: pd.Series(np.random.randint(0, n, n)), kernels=[ lambda s: s.astype(str), lambda s: s.apply(str) ], labels=['astype', 'apply'], n_range=[2**k for k in range(1, 20)], xlabel='N', logx=True, logy=True, equality_check=lambda x, y: (x == y).all()) With floats, I see the astype is consistently as fast as, or slightly faster than apply . So this has to do with the fact that the data in the test is integer type. GroupBy operations with chained transformations GroupBy.apply has not been discussed until now, but GroupBy.apply is also an iterative convenience function to handle anything that the existing GroupBy functions do not. One common requirement is to perform a GroupBy and then two prime operations such as a \"lagged cumsum\": df = pd.DataFrame({\"A\": list('aabcccddee'), \"B\": [12, 7, 5, 4, 5, 4, 3, 2, 1, 10]}) df A B 0 a 12 1 a 7 2 b 5 3 c 4 4 c 5 5 c 4 6 d 3 7 d 2 8 e 1 9 e 10 <!- -> You'd need two successive groupby calls here: df.groupby('A').B.cumsum().groupby(df.A).shift() 0 NaN 1 12.0 2 NaN 3 NaN 4 4.0 5 9.0 6 NaN 7 3.0 8 NaN 9 1.0 Name: B, dtype: float64 Using apply , you can shorten this to a a single call. df.groupby('A').B.apply(lambda x: x.cumsum().shift()) 0 NaN 1 12.0 2 NaN 3 NaN 4 4.0 5 9.0 6 NaN 7 3.0 8 NaN 9 1.0 Name: B, dtype: float64 It is very hard to quantify the performance because it depends on the data. But in general, apply is an acceptable solution if the goal is to reduce a groupby call (because groupby is also quite expensive). Other Caveats Aside from the caveats mentioned above, it is also worth mentioning that apply operates on the first row (or column) twice. This is done to determine whether the function has any side effects. If not, apply may be able to use a fast-path for evaluating the result, else it falls back to a slow implementation. df = pd.DataFrame({ 'A': [1, 2], 'B': ['x', 'y'] }) def func(x): print(x['A']) return x df.apply(func, axis=1) # 1 # 1 # 2 A B 0 1 x 1 2 y This behaviour is also seen in GroupBy.apply on pandas versions <0.25 (it was fixed for 0.25, see here for more information .)",
    "answer_score": 269,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 1862,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      269,
      243,
      69485,
      1862,
      -213573992
    ]
  },
  {
    "question_id": 59125857,
    "question_url": "https://stackoverflow.com/questions/59125857/how-to-watch-props-change-with-vue-composition-api-vue-3",
    "question_title": "How to watch props change with Vue Composition API / Vue 3?",
    "question_text": "While Vue Composition API RFC Reference site has many advanced use scenarios with the watch module, there are no examples of how to watch component props . Neither is it mentioned in Vue Composition API RFC's main page or vuejs/composition-api in Github . I've created a Codesandbox to elaborate on this issue. <template> <div id=\"app\"> <img width=\"25%\" src=\"./assets/logo.png\"> <br> <p>Prop watch demo with select input using v-model:</p> <PropWatchDemo :selected=\"testValue\"/> </div> </template> <script> import { createComponent, onMounted, ref } from \"@vue/composition-api\"; import PropWatchDemo from \"./components/PropWatchDemo.vue\"; export default createComponent({ name: \"App\", components: { PropWatchDemo }, setup: (props, context) => { const testValue = ref(\"initial\"); onMounted(() => { setTimeout(() => { console.log(\"Changing input prop value after 3s delay\"); testValue.value = \"changed\"; // This value change does not trigger watchers? }, 3000); }); return { testValue }; } }); </script> <template> <select v-model=\"selected\"> <option value=\"null\">null value</option> <option value>Empty value</option> </select> </template> <script> import { createComponent, watch } from \"@vue/composition-api\"; export default createComponent({ name: \"MyInput\", props: { selected: { type: [String, Number], required: true } }, setup(props) { console.log(\"Setup props:\", props); watch((first, second) => { console.log(\"Watch function called with args:\", first, second); // First arg function registerCleanup, second is undefined }); // watch(props, (first, second) => { // console.log(\"Watch props function called with args:\", first, second); // // Logs error: // // Failed watching path: \"[object Object]\" Watcher only accepts simple // // dot-delimited paths. For full control, use a function instead. // }) watch(props.selected, (first, second) => { console.log( \"Watch props.selected function called with args:\", first, second ); // Both props are undefined so it's just a bare callback func to be run }); return {}; } }); </script> Although my question and code example were initially with JavaScript, I'm using TypeScript. Tony Tom's first answer although working, led to a type error. Which was solved by Michal Levý's answer. So I've tagged this question with typescript afterward. Here is my polished yet barebones version of the reactive wirings for this custom select component, on top of <b-form-select> from bootstrap-vue (otherwise agnostic-implementation but this underlying component does emit @input and @change events both, based on whether the change was made programmatically or by user interaction) . <template> <b-form-select v-model=\"selected\" :options=\"{}\" @input=\"handleSelection('input', $event)\" @change=\"handleSelection('change', $event)\" /> </template> <script lang=\"ts\"> import { createComponent, SetupContext, Ref, ref, watch, computed, } from '@vue/composition-api'; interface Props { value?: string | number | boolean; } export default createComponent({ name: 'CustomSelect', props: { value: { type: [String, Number, Boolean], required: false, // Accepts null and undefined as well }, }, setup(props: Props, context: SetupContext) { // Create a Ref from prop, as two-way binding is allowed only with sync -modifier, // with passing prop in parent and explicitly emitting update event on child: // Ref: https://v2.vuejs.org/v2/guide/components-custom-events.html#sync-Modifier // Ref: https://medium.com/@jithilmt/vue-js-2-two-way-data-binding-in-parent-and-child-components-1cd271c501ba const selected: Ref<Props['value']> = ref(props.value); const handleSelection = function emitUpdate(type: 'input' | 'change', value: Props['value']) { // For sync -modifier where 'value' is the prop name context.emit('update:value', value); // For @input and/or @change event propagation // @input emitted by the select component when value changed <programmatically> // @change AND @input both emitted on <user interaction> context.emit(type, value); }; // Watch prop value change and assign to value 'selected' Ref watch(() => props.value, (newValue: Props['value']) => { selected.value = newValue; }); return { selected, handleSelection, }; }, }); </script>",
    "question_tags": [
      "javascript",
      "typescript",
      "vue.js",
      "vuejs3",
      "vue-composition-api"
    ],
    "question_score": 198,
    "question_view_count": 346319,
    "question_creation_date": 1575206094,
    "answer_id": 59127059,
    "answer_text": "If you take a look at watch typings here it makes it clear the first argument of watch could be an array , function or Ref<T> props passed to the setup function are a reactive object (likely by readonly(reactive()) , it's properties are getters. So what you are doing is passing the value of the getter as the 1st argument of watch , string \"initial\" in this case. Because Vue 2 $watch API is used under the hood (and same function exists in Vue 3), you are effectively trying to watch non-existent property with name \"initial\" on your component instance. Your callback was only called once. The reason it was called at least once is because the new watch API is behaving like the current $watch with the immediate option ( UPDATE 03/03/2021 - this was later changed and in release version of Vue 3, watch is lazy same way as it was in Vue 2) So by accident you are doing the same thing Tony Tom suggested but with the wrong value. In both cases, it is not valid code when you are using TypeScript. You can do this instead: watch(() => props.selected, (first, second) => { console.log( \"Watch props.selected function called with args:\", first, second ); }); Here the 1st function is executed immediately by Vue to collect dependencies (to know what should trigger the callback) and 2nd function is the callback itself. Other way would be to convert props object using toRefs so it's properties would be of type Ref<T> and you can pass them as the first argument of watch . However, most of the time watching props is not needed. Simply use props.xxx directly in your template (or setup ) and let Vue do the rest.",
    "answer_score": 259,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 291,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      259,
      198,
      346319,
      291,
      -187183701
    ]
  },
  {
    "question_id": 69631437,
    "question_url": "https://stackoverflow.com/questions/69631437/error-cannot-find-module-webpack-lib-rules-descriptiondatamatcherruleplugin-r",
    "question_title": "Error: Cannot find module &#39;webpack/lib/rules/DescriptionDataMatcherRulePlugin&#39; Require stack:",
    "question_text": "I have webpack-cli installed on my laravel project. I don't know why first of all we need it to run my vue app but this is causing an error: When I run npm run dev or npm run hot [webpack-cli] Error: Cannot find module 'webpack/lib/rules/DescriptionDataMatcherRulePlugin' Require stack: - C:\\Users\\Viruss\\Desktop\\test-meme-library\\meme-library\\node_modules\\vue-loader\\lib\\plugin-webpack5.js - C:\\Users\\Viruss\\Desktop\\test-meme-library\\meme-library\\node_modules\\vue-loader\\lib\\plugin.js - C:\\Users\\Viruss\\Desktop\\test-meme-library\\meme-library\\node_modules\\vue-loader\\lib\\index.js - C:\\Users\\Viruss\\Desktop\\test-meme-library\\meme-library\\node_modules\\laravel-mix\\src\\components\\Vue.js - C:\\Users\\Viruss\\Desktop\\test-meme-library\\meme-library\\node_modules\\laravel-mix\\src\\components\\ComponentRegistrar.js - C:\\Users\\Viruss\\Desktop\\test-meme-library\\meme-library\\node_modules\\laravel-mix\\src\\Mix.js - C:\\Users\\Viruss\\Desktop\\test-meme-library\\meme-library\\node_modules\\laravel-mix\\setup\\webpack.config.js - C:\\Users\\Viruss\\Desktop\\test-meme-library\\meme-library\\node_modules\\webpack-cli\\lib\\webpack-cli.js - C:\\Users\\Viruss\\Desktop\\test-meme-library\\meme-library\\node_modules\\webpack-cli\\lib\\bootstrap.js - C:\\Users\\Viruss\\Desktop\\test-meme-library\\meme-library\\node_modules\\webpack-cli\\bin\\cli.js - C:\\Users\\Viruss\\Desktop\\test-meme-library\\meme-library\\node_modules\\webpack\\bin\\webpack.js at Function.Module._resolveFilename (internal/modules/cjs/loader.js:902:15) at Function.Module._load (internal/modules/cjs/loader.js:746:27) at Module.require (internal/modules/cjs/loader.js:974:19) at require (internal/modules/cjs/helpers.js:93:18) at Object.<anonymous> (C:\\Users\\Viruss\\Desktop\\test-meme-library\\meme-library\\node_modules\\vue-loader\\lib\\plugin-webpack5.js:6:42) at Module._compile (internal/modules/cjs/loader.js:1085:14) at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10) at Module.load (internal/modules/cjs/loader.js:950:32) at Function.Module._load (internal/modules/cjs/loader.js:790:12) at Module.require (internal/modules/cjs/loader.js:974:19) { code: 'MODULE_NOT_FOUND', requireStack: [ 'C:\\\\Users\\\\Viruss\\\\Desktop\\\\test-meme-library\\\\meme-library\\\\node_modules\\\\vue-loader\\\\lib\\\\plugin-webpack5.js', 'C:\\\\Users\\\\Viruss\\\\Desktop\\\\test-meme-library\\\\meme-library\\\\node_modules\\\\vue-loader\\\\lib\\\\plugin.js', 'C:\\\\Users\\\\Viruss\\\\Desktop\\\\test-meme-library\\\\meme-library\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js', 'C:\\\\Users\\\\Viruss\\\\Desktop\\\\test-meme-library\\\\meme-library\\\\node_modules\\\\laravel-mix\\\\src\\\\components\\\\Vue.js', 'C:\\\\Users\\\\Viruss\\\\Desktop\\\\test-meme-library\\\\meme-library\\\\node_modules\\\\laravel-mix\\\\src\\\\components\\\\ComponentRegistrar.js', 'C:\\\\Users\\\\Viruss\\\\Desktop\\\\test-meme-library\\\\meme-library\\\\node_modules\\\\laravel-mix\\\\src\\\\Mix.js', 'C:\\\\Users\\\\Viruss\\\\Desktop\\\\test-meme-library\\\\meme-library\\\\node_modules\\\\laravel-mix\\\\setup\\\\webpack.config.js', 'C:\\\\Users\\\\Viruss\\\\Desktop\\\\test-meme-library\\\\meme-library\\\\node_modules\\\\webpack-cli\\\\lib\\\\webpack-cli.js', 'C:\\\\Users\\\\Viruss\\\\Desktop\\\\test-meme-library\\\\meme-library\\\\node_modules\\\\webpack-cli\\\\lib\\\\bootstrap.js', 'C:\\\\Users\\\\Viruss\\\\Desktop\\\\test-meme-library\\\\meme-library\\\\node_modules\\\\webpack-cli\\\\bin\\\\cli.js', 'C:\\\\Users\\\\Viruss\\\\Desktop\\\\test-meme-library\\\\meme-library\\\\node_modules\\\\webpack\\\\bin\\\\webpack.js' ] } Vue is installed also vue-loader, can't understand why it can't find those files. Also, I looked at the node_modules everything is in there ...",
    "question_tags": [
      "node.js",
      "laravel",
      "vue.js",
      "webpack"
    ],
    "question_score": 80,
    "question_view_count": 84727,
    "question_creation_date": 1634649012,
    "answer_id": 69631556,
    "answer_text": "You need to update your vue-loader npm update vue-loader And if it is not installed, install it npm i vue-loader",
    "answer_score": 249,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 20,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      249,
      80,
      84727,
      20,
      -127740710
    ]
  },
  {
    "question_id": 59070216,
    "question_url": "https://stackoverflow.com/questions/59070216/webpack-file-loader-outputs-object-module",
    "question_title": "Webpack file-loader outputs [object Module]",
    "question_text": "I am using webpack with HtmlWebpackPlugin , html-loader and file-loader . I have a simple project structure in which I use no frameworks, but only typescript. Thus, I write my HTML code directly to index.html . I also use this HTML file as my template in HtmlWebpackPlugin . As all websites do I need to put an image which refers to a PNG in my assets folder. file-loader should load the file correctly put the new filename inside the src tag but that is not what is happening. Instead, as the value of src tag, I have [object Module] . I assume the file-loader emits some object and it is represented like this when its .toString() method is run. However, I can see that file-loader has processed the file successfully and emitted with new name to the output path. I get no errors. Here is my webpack configuration and index.html . const projectRoot = path.resolve(__dirname, '..'); { entry: path.resolve(projectRoot, 'src', 'app.ts'), mode: 'production', output: { path: path.resolve(projectRoot, 'dist'), filename: 'app.bundle.js' }, resolve: { extensions: ['.ts', '.js'] }, module: { rules: [ { test: /\\.html$/i, use: 'html-loader' }, { test: /\\.(eot|ttf|woff|woff2|svg|png)$/i, use: 'file-loader' }, { test: /\\.scss$/i, use: [ { loader: MiniCssExtractPlugin.loader, options: { hmr: false } }, { loader: 'css-loader', options: { sourceMap: false } }, { loader: 'sass-loader', options: { sourceMap: false } } ] }, { exclude: /node_modules/, test: /\\.ts$/, use: 'ts-loader' } ] }, plugins: [ new CleanWebpackPlugin(), new HtmlWebpackPlugin({ template: path.resolve(projectRoot, 'src', 'index.html') }), new MiniCssExtractPlugin({ filename: '[name].[hash].css', chunkFilename: '[id].[hash].css', ignoreOrder: false }) ] }; index.html: <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"utf-8\"> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"> <title></title> </head> <body class=\"dark\"> <header> <nav class=\"navigation\"> <div class=\"left\"> <img src=\"assets/logo.png\" class=\"logo\"> <!-- This logo is output as [object Module] --> </div> <div class=\"right\"> </div> </nav> </header> </body> </html> Project structure: config/ webpack.config.js dist/ src/ styles/ assets/ logo.png index.html app.ts Edit My package.json dependencies: \"clean-webpack-plugin\": \"^3.0.0\", \"css-loader\": \"^3.2.0\", \"file-loader\": \"^5.0.2\", \"html-webpack-plugin\": \"^3.2.0\", \"mini-css-extract-plugin\": \"^0.8.0\", \"node-sass\": \"^4.13.0\", \"sass-loader\": \"^8.0.0\", \"style-loader\": \"^1.0.0\", \"ts-loader\": \"^6.2.1\", \"typescript\": \"^3.7.2\", \"webpack\": \"^4.41.2\", \"webpack-cli\": \"^3.3.10\", \"webpack-dev-server\": \"^3.9.0\"",
    "question_tags": [
      "javascript",
      "html",
      "webpack"
    ],
    "question_score": 113,
    "question_view_count": 58745,
    "question_creation_date": 1574857585,
    "answer_id": 59075858,
    "answer_text": "Per the file-loader docs : By default, file-loader generates JS modules that use the ES modules syntax. There are some cases in which using ES modules is beneficial, like in the case of module concatenation and tree shaking. It seems that webpack resolves ES module require() calls to an object that looks like this: {default: module} , instead of to the flattened module itself. This behavior is somewhat controversial and is discussed in this issue . Therefore, to get your src attribute to resolve correctly, you need to be able to access the default property of the exported module. If you're using a framework, you should be able to do something like this: <img src={require('assets/logo.png').default}/> <!-- React --> <!-- OR --> <img src=\"require('assets/logo.png').default\"/> <!-- Vue --> Alternatively, you can enable file-loader's CommonJS module syntax, which webpack will resolve directly to the module itself. Set esModule:false in your webpack config. webpack.config.js: { test: /\\.(png|jpe?g|gif)$/i, use: [ { loader: 'file-loader', options: { esModule: false, }, }, ], },",
    "answer_score": 247,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 166,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      247,
      113,
      58745,
      166,
      -187532137
    ]
  },
  {
    "question_id": 63471824,
    "question_url": "https://stackoverflow.com/questions/63471824/vue-js-3-event-bus",
    "question_title": "Vue.js 3 Event Bus",
    "question_text": "How to create Event Bus in Vue 3? In Vue 2, it was: export const bus = new Vue(); bus.$on(...) bus.$emit(...) In Vue 3, Vue is not a constructor anymore, and Vue.createApp({}); returns an object that has no $on and $emit methods.",
    "question_tags": [
      "javascript",
      "vue.js",
      "vue-component",
      "vuejs3",
      "vue-composition-api"
    ],
    "question_score": 127,
    "question_view_count": 114429,
    "question_creation_date": 1597764419,
    "answer_id": 64019074,
    "answer_text": "As suggested in official docs you could use mitt library to dispatch events between components, let suppose that we have a sidebar and header which contains a button that close/open the sidebar and we need that button to toggle some property inside the sidebar component : in main.js import that library and create an instance of that emitter and define as a global property : Installation : npm install --save mitt Usage : import { createApp } from 'vue' import App from './App.vue' import mitt from 'mitt'; const emitter = mitt(); const app = createApp(App); app.config.globalProperties.emitter = emitter; app.mount('#app'); in header emit the toggle-sidebar event with some payload : <template> <header> <button @click=\"toggleSidebar\"/>toggle</button> </header> </template> <script > export default { data() { return { sidebarOpen: true }; }, methods: { toggleSidebar() { this.sidebarOpen = !this.sidebarOpen; this.emitter.emit(\"toggle-sidebar\", this.sidebarOpen); } } }; </script> In sidebar receive the event with the payload: <template> <aside class=\"sidebar\" :class=\"{'sidebar--toggled': !isOpen}\"> .... </aside> </template> <script> export default { name: \"sidebar\", data() { return { isOpen: true }; }, mounted() { this.emitter.on(\"toggle-sidebar\", isOpen => { this.isOpen = isOpen; }); } }; </script> For those using composition api they could use emitter as follows : Create a file src/composables/useEmitter.js import { getCurrentInstance } from 'vue' export default function useEmitter() { const internalInstance = getCurrentInstance(); const emitter = internalInstance.appContext.config.globalProperties.emitter; return emitter; } And from there on you can use useEmitter just like you would with useRouter : import useEmitter from '@/composables/useEmitter' export default { setup() { const emitter = useEmitter() ... } ... } Using the composition API You could also take benefit from the new composition API and define a composable event bus : eventBus.js import { ref } from \"vue\"; const bus = ref(new Map()); export default function useEventsBus(){ function emit(event, ...args) { bus.value.set(event, args); } return { emit, bus } } in component A do: import useEventsBus from './eventBus'; ... //in script setup or inside the setup hook const {emit}=useEventsBus() ... emit('sidebarCollapsed',val) in component B : const { bus } = useEventsBus() watch(()=>bus.value.get('sidebarCollapsed'), (val) => { // destruct the parameters const [sidebarCollapsedBus] = val ?? [] sidebarCollapsed.value = sidebarCollapsedBus })",
    "answer_score": 225,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 353,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      225,
      127,
      114429,
      353,
      -164625376
    ]
  },
  {
    "question_id": 54958244,
    "question_url": "https://stackoverflow.com/questions/54958244/how-to-use-query-parameters-in-nest-js",
    "question_title": "How to use query parameters in Nest.js?",
    "question_text": "I am a freshman in Nest.js. And my code as below @Get('findByFilter/:params') async findByFilter(@Query() query): Promise<Article[]> { } I have used postman to test this router http://localhost:3000/article/findByFilter/bug?google=1&baidu=2 Actually, I can get the query result { google: '1', baidu: '2' } . But I'm not clear why the url has a string 'bug' ? If I delete that word just like http://localhost:3000/article/findByFilter?google=1&baidu=2 then the postman will shows statusCode 404 . Actually, I don't need the word bug , how to custom the router to realize my destination just like http://localhost:3000/article/findByFilter?google=1&baidu=2 Here's another question is how to make mutiple router point to one method?",
    "question_tags": [
      "javascript",
      "node.js",
      "typescript",
      "express",
      "nestjs"
    ],
    "question_score": 119,
    "question_view_count": 311604,
    "question_creation_date": 1551527766,
    "answer_id": 54965455,
    "answer_text": "Query parameters You have to remove :params for it to work as expected: @Get('findByFilter') async findByFilter(@Query() query): Promise<Article[]> { // ... } Path parameters The :param syntax is for path parameters and matches any string on a path: @Get('products/:id') getProduct(@Param('id') id) { matches the routes localhost:3000/products/1 localhost:3000/products/2abc // ... Route wildcards To match multiple endpoints to the same method you can use route wildcards: @Get('other|te*st') will match localhost:3000/other localhost:3000/test localhost:3000/te123st // ...",
    "answer_score": 224,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 72,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      224,
      119,
      311604,
      72,
      -210861999
    ]
  },
  {
    "question_id": 54021037,
    "question_url": "https://stackoverflow.com/questions/54021037/how-to-mock-window-location-href-with-jest-vuejs",
    "question_title": "How to mock window.location.href with Jest + Vuejs?",
    "question_text": "Currently, I am implementing unit tests for my project and there is a file that contains window.location.href . I want to mock this to test and here is my sample code: it(\"method A should work correctly\", () => { const url = \"http://dummy.com\"; Object.defineProperty(window.location, \"href\", { value: url, writable: true }); const data = { id: \"123\", name: null }; window.location.href = url; wrapper.vm.methodA(data); expect(window.location.href).toEqual(url); }); But I get this error: TypeError: Cannot redefine property: href at Function.defineProperty (<anonymous>) How should I resolve it?",
    "question_tags": [
      "vue.js",
      "unit-testing",
      "jestjs",
      "jasmine",
      "vue-test-utils"
    ],
    "question_score": 202,
    "question_view_count": 281639,
    "question_creation_date": 1546513374,
    "answer_id": 54021633,
    "answer_text": "You can try: window = Object.create(window); const url = \"http://dummy.com\"; Object.defineProperty(window, 'location', { value: { href: url }, writable: true // possibility to override }); expect(window.location.href).toEqual(url); Have a look at the Jest Issue for that problem: Jest Issue",
    "answer_score": 223,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 38,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      223,
      202,
      281639,
      38,
      -215876421
    ]
  },
  {
    "question_id": 62023604,
    "question_url": "https://stackoverflow.com/questions/62023604/where-to-find-or-how-to-set-htmlwebpackplugin-options-title-in-project-created-w",
    "question_title": "where to find or how to set htmlWebpackPlugin.options.title in project created with vue cli 3?",
    "question_text": "I wanted to set title to my webpage created with vue cli 3 and thus looked into public/index.html . There, I found <title><%= htmlWebpackPlugin.options.title %></title> . How do I set and modify htmlWebpackPlugin.options.title in vue cli 3 project?",
    "question_tags": [
      "javascript",
      "html",
      "node.js",
      "typescript",
      "vue.js"
    ],
    "question_score": 120,
    "question_view_count": 64959,
    "question_creation_date": 1590500780,
    "answer_id": 67846199,
    "answer_text": "Looking at the popularity of the question, I decided to add an elaborate answer with references to make it more authentic and complete. I have also created an article on this topic and covered this topic in this and this courses. Though the question is looking for setting htmlWebpackPlugin.options.title , the ultimate effect is changing the title of the web-page. 1. Most convenient and trivial solution The simplest way to do this is to modify the public/index.html and hard-code the title. <!DOCTYPE html> <html lang=\"\"> <head> <meta charset=\"utf-8\"> <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"> <meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\"> <link rel=\"icon\" href=\"<%= BASE_URL %>favicon.ico\"> <title> <%= htmlWebpackPlugin.options.title %> </title> </head> <body> <noscript> <strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled. Please enable it to continue.</strong> </noscript> <div id=\"app\"></div> <!-- built files will be auto injected --> </body> </html> This is the default public/index.html that is generated by vue cli. And in this, you just need to change <title> <%= htmlWebpackPlugin.options.title %> </title> to <title>Title of your choice</title> 2. Change the name field in package.json Another simple solution is to change the \"name\": \"your-project-name\" . However, there are many restrictions on the name you can use in package.json . You can read more about this here . Basically, package.json must contain a name and that must be lowercase and one word, and may contain hyphens and underscores. 3. Using pages field in vue.config.js vue.config.js is an optional file that you can add to provide additional configurations to Vue CLI and this file, if present, will be automatically loaded by Vue CLI. You need to create vue.config.js in the root folder - the folder containing you package.json file. According to Vue documentation , you can use pages field to define entrypoint for multi-page app. However, you can also use this to define title for single page app as well. Create vue.config.js in the root directory and add pages field to your exports as follows: module.exports = { pages: { index: { // entry for the page entry: 'src/main.js', title: 'My Title', }, } } Note that if you are already running development server, this change will be reflected only when you stop and restart the development server. In other words, these changes will not be hot reloaded. 4. Chaining Webpack You can chain Webpack in vue.config.js as shown below module.exports = { chainWebpack: config => { config .plugin('html') .tap(args => { args[0].title = \"My Vue App\"; return args; }) } } Note that similar to solution 3, this change will be reflected only when you stop and restart the development server, in case you are already running development server. In other words, these changes will not be hot reloaded. 5. Modify title in lifecycle hooks using JavaScript The next solution in the list is to use JavaScript to modify the title. You can do this either in mounted lifecycle hook of your root component or if you want different title for different routes, you can do the same for components loaded by each route. <script> export default { data() { return { // }; }, mounted() { document.title = 'new title' } } </script> 6. Use Vue Meta Finally you can use Vue Meta to manage all metadata for your Vue app including title. First you need to add Vue Meta to your project and then use metaInfo field as shown below to configure metadata for your page or route. { metaInfo: { meta: [ { charset: 'utf-8' }, { name: 'viewport', content: 'width=device-width, initial-scale=1' }, { title: 'My title'} ] } } Conclusion The first 4 solutions are static ways of changing your title or in other words you can't change your title at runtime using these ways. Also all of these are not hot reloaded. The last 2 options use JavaScript and can manipulate the title at runtime.",
    "answer_score": 202,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 637,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      202,
      120,
      64959,
      637,
      -171889015
    ]
  },
  {
    "question_id": 53558916,
    "question_url": "https://stackoverflow.com/questions/53558916/babel-7-referenceerror-regeneratorruntime-is-not-defined",
    "question_title": "Babel 7 - ReferenceError: regeneratorRuntime is not defined",
    "question_text": "I have an application that is a node backend and a react frontend. I get the following error when i try to build/run my node application. Node: v10.13.0 Error: dist/index.js:314 regeneratorRuntime.mark(function _callee(productId) { ^ ReferenceError: regeneratorRuntime is not defined .babelrc { \"presets\": [ [ \"@babel/preset-env\", { \"targets\": { \"node\": \"current\" }, } ], \"@babel/preset-react\"], \"plugins\": [ \"@babel/plugin-proposal-class-properties\" ] } webpack.config.js { mode: \"development\", entry: \"./src/index.js\", target: \"node\", externals: [nodeExternals()], // in order to ignore all modules in node_modules folder stats: { colors: true }, devtool: \"source-map\", output: { path: path.resolve(__dirname, \"dist\"), filename: \"index.js\", sourceMapFilename: \"index.js.map\" }, module: { rules: [ { enforce: \"pre\", test: /\\.js$/, exclude: /node_modules/, loader: \"eslint-loader\", }, { test: /\\.m?js$/, exclude: /(node_modules|bower_components)/, use: { loader: \"babel-loader\", options: { presets: [\"@babel/preset-env\"] } } } ], }, node: { __dirname: false, __filename: false, }, \"plugins\": [ new CleanWebpackPlugin(), new WebpackShellPlugin({ onBuildStart: [], onBuildEnd: [\"nodemon dist/index.js\"] }), ] }, package.json \"dependencies\": { \"connect\": \"^3.6.6\", \"cors\": \"^2.8.5\", \"dotenv\": \"^6.1.0\", \"express\": \"^4.16.4\", \"hellojs\": \"^1.17.1\", \"i18n-iso-countries\": \"^3.7.8\", \"morgan\": \"^1.9.1\", \"react\": \"^16.6.3\", \"react-dom\": \"^16.6.3\", \"request\": \"^2.88.0\", \"request-promise-native\": \"^1.0.5\", \"serve-static\": \"^1.13.2\", \"vhost\": \"^3.0.2\" }, \"devDependencies\": { \"@babel/cli\": \"^7.1.5\", \"@babel/core\": \"^7.1.6\", \"@babel/plugin-proposal-class-properties\": \"^7.1.0\", \"@babel/preset-env\": \"^7.1.6\", \"@babel/preset-react\": \"^7.0.0\", \"babel-eslint\": \"^10.0.1\", \"babel-loader\": \"^8.0.4\", \"clean-webpack-plugin\": \"^1.0.0\", \"copy-webpack-plugin\": \"^4.6.0\", \"css-loader\": \"^1.0.1\", \"eslint\": \"^5.9.0\", \"eslint-config-google\": \"^0.10.0\", \"eslint-loader\": \"^2.1.1\", \"eslint-plugin-react\": \"^7.11.1\", \"extract-loader\": \"^3.0.0\", \"file-loader\": \"^2.0.0\", \"node-sass\": \"^4.10.0\", \"sass-loader\": \"^7.1.0\", \"style-loader\": \"^0.23.1\", \"webpack\": \"^4.26.0\", \"webpack-cli\": \"^3.1.2\", \"webpack-node-externals\": \"^1.7.2\", \"webpack-shell-plugin\": \"^0.5.0\" }",
    "question_tags": [
      "javascript",
      "node.js",
      "webpack",
      "babeljs"
    ],
    "question_score": 109,
    "question_view_count": 103328,
    "question_creation_date": 1543586142,
    "answer_id": 54490329,
    "answer_text": "Updated Answer: If you are using Babel 7.4.0 or newer, then @babel/polyfill has been deprecated . Instead, you will want to use the following at the top of your main js file (likely index.js or similar): import \"core-js/stable\"; import \"regenerator-runtime/runtime\"; Install these packages either with npm: npm install --save core-js npm install --save regenerator-runtime or with yarn: yarn add core-js yarn add regenerator-runtime Original Answer: I just encountered this problem and came across the following solution: In package.json I had @babel/polyfill as a dependency. However, in my index.js (My main js file) I had neglected to place the following line at the the top: import '@babel/polyfill' Once I imported it, everything worked fine. I did not need to install babel-runtime as other answers are suggesting.",
    "answer_score": 202,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 125,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      202,
      109,
      103328,
      125,
      -218803580
    ]
  },
  {
    "question_id": 58579843,
    "question_url": "https://stackoverflow.com/questions/58579843/how-to-solve-vue-cli-service-is-not-recognized-as-an-internal-or-external-comm",
    "question_title": "How to solve &#39;vue-cli-service&#39; is not recognized as an internal or external command?",
    "question_text": "I am getting an error when trying to run npm run serve . At first I installed node.js then vue as well as vue/cli. But when I am trying to run server as -> npm run serve at that time I'm getting error like 'vue-cli-service' is not recognized as an internal or external command. I used below codes for installation: npm install -g vue npm install -g @vue/cli can someone guide me what to do to solve this issue ?",
    "question_tags": [
      "vue.js",
      "vue-cli-3"
    ],
    "question_score": 127,
    "question_view_count": 231505,
    "question_creation_date": 1572182839,
    "answer_id": 58580403,
    "answer_text": "I think you are using cmd in windows. Try deleting the node_modules folder and after that run npm i from the cmd. Then try running npm run serve again and see if it works this time",
    "answer_score": 199,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 36,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      199,
      127,
      231505,
      36,
      -190206956
    ]
  },
  {
    "question_id": 71083110,
    "question_url": "https://stackoverflow.com/questions/71083110/vue-uncaught-referenceerror-process-is-not-defined",
    "question_title": "Vue Uncaught ReferenceError: process is not defined",
    "question_text": "I'm working on a Vue + typescript project. I want to use process.env.var_name to adjust the project is in development mode or production mode, just like const isProduct = process.env.APP_ENV === \"prod\"; ; however I got an error below. I never meet this error before, so could any one give me a clue why this would happen so I can try to figure out what happend in the project and then fix it.",
    "question_tags": [
      "typescript",
      "vue.js",
      "webpack"
    ],
    "question_score": 86,
    "question_view_count": 109489,
    "question_creation_date": 1644595520,
    "answer_id": 71406233,
    "answer_text": "If you are using Vite, use import.meta.env instead, process.env is removed. And make sure variables start with VITE_ in .env file. VITE_SOME_KEY=123 more https://vitejs.dev/guide/env-and-mode.html",
    "answer_score": 198,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 24,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      198,
      86,
      109489,
      24,
      -117794202
    ]
  },
  {
    "question_id": 70020046,
    "question_url": "https://stackoverflow.com/questions/70020046/quasar-error-cannot-find-module-ajv-dist-compile-codegen",
    "question_title": "Quasar Error: Cannot find module &#39;ajv/dist/compile/codegen&#39;",
    "question_text": "(node:21216) UnhandledPromiseRejectionWarning: Error: Cannot find module 'ajv/dist/compile/codegen' loader.js:815 Function.Module._resolveFilename internal/modules/cjs/loader.js:815:15 loader.js:667 Function.Module._load internal/modules/cjs/loader.js:667:27 loader.js:887 Module.require internal/modules/cjs/loader.js:887:19 helpers.js:74 require internal/modules/cjs/helpers.js:74:18 typeof.js:3 Object. [front]/[mini-css-extract-plugin]/[ajv-keywords]/dist/definitions/typeof.js:3:19 loader.js:999 Module._compile internal/modules/cjs/loader.js:999:30 loader.js:1027 Object.Module._extensions..js internal/modules/cjs/loader.js:1027:10 loader.js:863 Module.load internal/modules/cjs/loader.js:863:32 loader.js:708 Function.Module._load internal/modules/cjs/loader.js:708:14 loader.js:887 Module.require internal/modules/cjs/loader.js:887:19 (node:21216) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag --unhandled-rejections=strict (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode ). (rejection id: 1) (node:21216) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.",
    "question_tags": [
      "javascript",
      "node.js",
      "vue.js",
      "webpack",
      "quasar-framework"
    ],
    "question_score": 83,
    "question_view_count": 238285,
    "question_creation_date": 1637239362,
    "answer_id": 72959510,
    "answer_text": "I had the same issue when I used JHipster, which I solved by running this command npm install --save-dev ajv@^7 Thanks to this answer",
    "answer_score": 195,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 24,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      195,
      83,
      238285,
      24,
      -125150360
    ]
  },
  {
    "question_id": 58270663,
    "question_url": "https://stackoverflow.com/questions/58270663/samesite-warning-chrome-77",
    "question_title": "SameSite warning Chrome 77",
    "question_text": "Since the last update, I'm having an error with cookies, related with SameSite attribute. The cookies are from third party developers (Fontawesome, jQuery, Google Analytics, Google reCaptcha, Google Fonts, etc.) The errors in the Chrome console are like this. A cookie associated with a cross-site resource at <URL> was set without the `SameSite` attribute. A future release of Chrome will only deliver cookies with cross-site requests if they are set with `SameSite=None` and `Secure`. You can review cookies in developer tools under Application>Storage>Cookies and see more details at <URL> and <URL>. (index):1 A cookie associated with a cross-site resource at http://jquery.com/ was set without the `SameSite` attribute. A future release of Chrome will only deliver cookies with cross-site requests if they are set with `SameSite=None` and `Secure`. You can review cookies in developer tools under Application>Storage>Cookies and see more details at https://www.chromestatus.com/feature/5088147346030592 and https://www.chromestatus.com/feature/5633521622188032. (index):1 A cookie associated with a cross-site resource at http://fontawesome.com/ was set without the `SameSite` attribute. A future release of Chrome will only deliver cookies with cross-site requests if they are set with `SameSite=None` and `Secure`. You can review cookies in developer tools under Application>Storage>Cookies and see more details at https://www.chromestatus.com/feature/5088147346030592 and https://www.chromestatus.com/feature/5633521622188032. (index):1 A cookie associated with a cross-site resource at http://google.com/ was set without the `SameSite` attribute. A future release of Chrome will only deliver cookies with cross-site requests if they are set with `SameSite=None` and `Secure`. You can review cookies in developer tools under Application>Storage>Cookies and see more details at https://www.chromestatus.com/feature/5088147346030592 and https://www.chromestatus.com/feature/5633521622188032. (index):1 A cookie associated with a cross-site resource at https://google.com/ was set without the `SameSite` attribute. A future release of Chrome will only deliver cookies with cross-site requests if they are set with `SameSite=None` and `Secure`. You can review cookies in developer tools under Application>Storage>Cookies and see more details at https://www.chromestatus.com/feature/5088147346030592 and https://www.chromestatus.com/feature/5633521622188032. (index):1 A cookie associated with a cross-site resource at https://www.google.com/ was set without the `SameSite` attribute. A future release of Chrome will only deliver cookies with cross-site requests if they are set with `SameSite=None` and `Secure`. You can review cookies in developer tools under Application>Storage>Cookies and see more details at https://www.chromestatus.com/feature/5088147346030592 and https://www.chromestatus.com/feature/5633521622188032. (index):1 A cookie associated with a cross-site resource at http://www.google.com/ was set without the `SameSite` attribute. A future release of Chrome will only deliver cookies with cross-site requests if they are set with `SameSite=None` and `Secure`. You can review cookies in developer tools under Application>Storage>Cookies and see more details at https://www.chromestatus.com/feature/5088147346030592 and https://www.chromestatus.com/feature/5633521622188032. (index):1 A cookie associated with a cross-site resource at http://gstatic.com/ was set without the `SameSite` attribute. A future release of Chrome will only deliver cookies with cross-site requests if they are set with `SameSite=None` and `Secure`. You can review cookies in developer tools under Application>Storage>Cookies and see more details at https://www.chromestatus.com/feature/5088147346030592 and https://www.chromestatus.com/feature/5633521622188032. Is there anything I need to do in my local machine or server or is just some feature they should implement in future releases of their libraries?",
    "question_tags": [
      "javascript",
      "google-chrome",
      "cookies",
      "samesite"
    ],
    "question_score": 246,
    "question_view_count": 274627,
    "question_creation_date": 1570455272,
    "answer_id": 58320564,
    "answer_text": "This console warning is not an error or an actual problem — Chrome is just spreading the word about this new standard to increase developer adoption. It has nothing to do with your code. It is something their web servers will have to support. Release date for a fix is February 4, 2020 per: https://www.chromium.org/updates/same-site February, 2020: Enforcement rollout for Chrome 80 Stable: The SameSite-by-default and SameSite=None-requires-Secure behaviors will begin rolling out to Chrome 80 Stable for an initial limited population starting the week of February 17, 2020 , excluding the US President’s Day holiday on Monday. We will be closely monitoring and evaluating ecosystem impact from this initial limited phase through gradually increasing rollouts. For the full Chrome release schedule, see here . I solved same problem by adding in response header response.setHeader(\"Set-Cookie\", \"HttpOnly;Secure;SameSite=Strict\"); SameSite prevents the browser from sending the cookie along with cross-site requests. The main goal is mitigating the risk of cross-origin information leakage. It also provides some protection against cross-site request forgery attacks. Possible values for the flag are Lax or Strict. SameSite cookies explained here Please refer this before applying any option.",
    "answer_score": 185,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 188,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      185,
      246,
      274627,
      188,
      -191934409
    ]
  },
  {
    "question_id": 54633690,
    "question_url": "https://stackoverflow.com/questions/54633690/how-can-i-use-multiple-refs-for-an-array-of-elements-with-hooks",
    "question_title": "How can I use multiple refs for an array of elements with hooks?",
    "question_text": "As far as I understood I can use refs for a single element like this: const { useRef, useState, useEffect } = React; const App = () => { const elRef = useRef(); const [elWidth, setElWidth] = useState(); useEffect(() => { setElWidth(elRef.current.offsetWidth); }, []); return ( <div> <div ref={elRef} style={{ width: \"100px\" }}> Width is: {elWidth} </div> </div> ); }; ReactDOM.render( <App />, document.getElementById(\"root\") ); <script src=\"https://unpkg.com/react@16/umd/react.production.min.js\"></script> <script src=\"https://unpkg.com/react-dom@16/umd/react-dom.production.min.js\"></script> <div id=\"root\"></div> How can I implement this for an array of elements? Obviously not like that: (I knew it even I did not try it:) const { useRef, useState, useEffect } = React; const App = () => { const elRef = useRef(); const [elWidth, setElWidth] = useState(); useEffect(() => { setElWidth(elRef.current.offsetWidth); }, []); return ( <div> {[1, 2, 3].map(el => ( <div ref={elRef} style={{ width: `${el * 100}px` }}> Width is: {elWidth} </div> ))} </div> ); }; ReactDOM.render( <App />, document.getElementById(\"root\") ); <script src=\"https://unpkg.com/react@16/umd/react.production.min.js\"></script> <script src=\"https://unpkg.com/react-dom@16/umd/react-dom.production.min.js\"></script> <div id=\"root\"></div> I have seen this and hence this . But, I'm still confused about how to implement that suggestion for this simple case.",
    "question_tags": [
      "javascript",
      "reactjs",
      "react-hooks"
    ],
    "question_score": 327,
    "question_view_count": 423900,
    "question_creation_date": 1549898326,
    "answer_id": 54633947,
    "answer_text": "A ref is initially just { current: null } object. useRef keeps the reference to this object between component renders. current value is primarily intended for component refs but can hold anything. There should be an array of refs at some point. In case the array length may vary between renders, an array should scale accordingly: const arrLength = arr.length; const [elRefs, setElRefs] = React.useState([]); React.useEffect(() => { // add or remove refs setElRefs((elRefs) => Array(arrLength) .fill() .map((_, i) => elRefs[i] || createRef()), ); }, [arrLength]); return ( <div> {arr.map((el, i) => ( <div ref={elRefs[i]} style={...}> ... </div> ))} </div> ); This piece of code can be optimized by unwrapping useEffect and replacing useState with useRef but it should be noted that doing side effects in render function is generally considered a bad practice: const arrLength = arr.length; const elRefs = React.useRef([]); if (elRefs.current.length !== arrLength) { // add or remove refs elRefs.current = Array(arrLength) .fill() .map((_, i) => elRefs.current[i] || createRef()); } return ( <div> {arr.map((el, i) => ( <div ref={elRefs.current[i]} style={...}> ... </div> ))} </div> );",
    "answer_score": 174,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 178,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      174,
      327,
      423900,
      178,
      -212491364
    ]
  },
  {
    "question_id": 55188478,
    "question_url": "https://stackoverflow.com/questions/55188478/meaning-of-v-slotactivator-on",
    "question_title": "Meaning of v-slot:activator=&quot;{ on }&quot;",
    "question_text": "Looking at the Vuetify example code for v-toolbar , what is the purpose of v-slot:activator=\"{ on }\" ? For example: <template v-slot:activator=\"{ on }\"> <v-toolbar-title v-on=\"on\"> <span>All</span> <v-icon dark>arrow_drop_down</v-icon> </v-toolbar-title> </template> <script> export default { data: () => ({ items: [ 'All', 'Family', 'Friends', 'Coworkers' ] }) } </script> As far as I can see, on is not a defined variable anywhere, so I don't see how this is working. When I try it in my project, Internet Explorer throws an error on the <template v-slot:activator=\"{ on }\"> , but if I remove it, the page renders.",
    "question_tags": [
      "vue.js",
      "vuejs2",
      "vuetify.js"
    ],
    "question_score": 136,
    "question_view_count": 114952,
    "question_creation_date": 1552673301,
    "answer_id": 55194478,
    "answer_text": "You're likely referring to this example: <v-toolbar color=\"grey darken-1\" dark> <v-menu :nudge-width=\"100\"> <template v-slot:activator=\"{ on }\"> <v-toolbar-title v-on=\"on\"> <span>All</span> <v-icon dark>arrow_drop_down</v-icon> </v-toolbar-title> </template> ... </v-menu> </v-toolbar> The following line declares a scoped slot named activator , and it is provided a scope object (from VMenu ), which contains a property named on : <template v-slot:activator=\"{ on }\"> This uses destructuring syntax on the scope object, which IE does not support . For IE, you'd have to dereference on from the scope object itself: <template v-slot:activator=\"scope\"> <v-toolbar-title v-on=\"scope.on\"> But the ideal solution IMO is to use a Vue CLI generated project, which includes a Babel preset ( @vue/babel-preset-app ) to automatically include the transforms/polyfills needed for the target browsers. In this case, babel-plugin-transform-es2015-destructuring would be automatically applied during the build. Details on the activator slot VMenu allows users to specify a slotted template named activator , containing component(s) that activate/open the menu upon certain events (e.g., click ). VMenu provides listeners for those events via an object , passed to the activator slot: <v-menu> <template v-slot:activator=\"scopeDataFromVMenu\"> <!-- slot content goes here --> </template> </v-menu> The slot content can access VMenu 's event listeners like this: <v-menu> <template v-slot:activator=\"scopeDataFromVMenu\"> <button v-on=\"scopeDataFromVMenu.on\">Click</button> </template> </v-menu> For improved readability, the scoped data can also be destructured in the template: <!-- equivalent to above --> <v-menu> <template v-slot:activator=\"{ on }\"> <button v-on=\"on\">Click</button> </template> </v-menu> The listeners from the scope object are passed to the <button> with v-on 's object syntax, which binds one or more event/listener pairs to the element. For this value of on : { click: activatorClickHandler // activatorClickHandler is an internal VMenu mixin } ...the button's click handler is bound to a VMenu method.",
    "answer_score": 172,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 281,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      172,
      136,
      114952,
      281,
      -209716494
    ]
  },
  {
    "question_id": 56150402,
    "question_url": "https://stackoverflow.com/questions/56150402/vue-cli-css-pre-processor-option-dart-sass-vs-node-sass",
    "question_title": "Vue CLI CSS pre-processor option: dart-sass VS node-sass?",
    "question_text": "When creating a new project with CLI (v3.7.0), there is an option to choose between dart-sass or node-sass compiler. How do these compare to each other, to be more specific than declared in Vue docs ? A Tip on Sass Performance Note that when using Dart Sass, synchronous compilation is twice as fast as asynchronous compilation by default, due to the overhead of asynchronous callbacks. To avoid this overhead, you can use the fibers package to call asynchronous importers from the synchronous code path. To enable this, simply install fibers as a project dependency: npm install -D fibers Please also be aware, as it's a native module, there may be compatibility issues vary on the OS and build environment. In that case, please run npm uninstall -D fibers to fix the problem. ? Pick a CSS pre-processor (PostCSS, Autoprefixer and CSS Modules are supported by default): (Use arrow keys) ❯ Sass/SCSS (with dart-sass) Sass/SCSS (with node-sass) Less Stylus EDIT 2020/01: Vue CLI 4.2.2 create new project is still suggesting dart-sass as the first option before node-sass . Yet it has been established here that node-sass is the more performant choice, and almost nobody uses dart-sass (ccleve's comment). EDIT 2020/09: As Ali Bahrami updated his extensive answer, dart-sass is the preferred choice as node-sass is being marked as deprecated . Too bad dart-sass in it's a JS-compiled version has poor performance. However, it's developers are well aware of this, and are working towards greater performance as stated in this issue .",
    "question_tags": [
      "vue.js",
      "webpack",
      "sass",
      "vue-cli",
      "node-sass"
    ],
    "question_score": 183,
    "question_view_count": 73277,
    "question_creation_date": 1557926358,
    "answer_id": 56422541,
    "answer_text": "Update 09/17/2020 : As this answer gets up-votes every day, I thought maybe it is worth diving deeper into this topic. Considering sass-lang website : Dart Sass is the primary implementation of Sass, which means it gets new features before any other implementation. It's fast, easy to install, and it compiles to pure JavaScript which makes it easy to integrate into modern web development workflows. Dart-Sass is fast, but not the JS compiled version . Practically when we say Dart-Sass there are two options: Dart-Sass on Dart-VM Dart-Sass on NPM which is pure JS compiled version I compiled Bootstrap 4 Sass file to CSS with Node-Sass, Dart-Sass and Dart-Sass(JS) and you can see the following result: In this particular case, two seconds is not a big deal; but consider Dart-Sass(JS) is nine times slower than Dart-Sass(Dart VM) and three times slower than node-sass. I had a project with +20 themes, it took 30 seconds with node-sass, but I tried to use Dart-Sass(JS), and it took a century! Although Dart-Sass(Dart VM) is the fastest but installing or integrating it is a bit tricky. And Node-Sass is considered deprecated . I blogged about it here, you can read more about it here.",
    "answer_score": 170,
    "answer_is_accepted": true,
    "answer_has_code": false,
    "answer_has_steps": false,
    "answer_word_count": 200,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      170,
      183,
      73277,
      200,
      -204463364
    ]
  },
  {
    "question_id": 72083968,
    "question_url": "https://stackoverflow.com/questions/72083968/replace-color-adjust-to-print-color-adjust-the-color-adjust-shorthand-is-curren",
    "question_title": "Replace color-adjust to print-color-adjust. The color-adjust shorthand is currently deprecated",
    "question_text": "How can I solve this warning when creating laravel project? Steps to replicate: composer create-project --prefer-dist laravel/laravel example cd example composer require laravel/ui php artisan ui vue --auth npm install vue@next vue-router@next vue-loader@next npm install npm run dev WARNING in ./resources/sass/app.scss (./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6.use[1]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6.use[2]!./node_modules/resolve-url-loader/index.js??clonedRuleSet-6.use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6.use[4]!./resources/sass/app.scss) Module Warning (from ./node_modules/postcss-loader/dist/cjs.js): Warning (2423:3) autoprefixer: Replace color-adjust to print-color-adjust. The color-adjust shorthand is currently deprecated. Child mini-css-extract-plugin C:\\xampp\\htdocs\\lva\\node_modules\\css-loader\\dist\\cjs.js??clonedRuleSet-6.use[1]!C:\\xampp\\htdocs\\lva\\node_modules\\postcss-loader\\dist\\cjs.js??clonedRuleSet-6.use[2]!C:\\xampp\\htdocs\\lva\\node_modules\\resolve-url-loader\\index.js??clonedRuleSet-6.use[3]!C:\\xampp\\htdocs\\lva\\node_modules\\sass-loader\\dist\\cjs.js??clonedRuleSet-6.use[4]!C:\\xampp\\htdocs\\lva\\resources\\sass\\app.scss compiled with 1 warning webpack compiled with 1 warning How can I solve this?",
    "question_tags": [
      "laravel",
      "vue.js",
      "npm",
      "webpack"
    ],
    "question_score": 79,
    "question_view_count": 86408,
    "question_creation_date": 1651479098,
    "answer_id": 72097301,
    "answer_text": "The color-adjust shorthand is currently deprecated and it depends on the autoprefixer@10.4.6 ( source ). I was able to fix this by reverting the autoprefixer package as well as @Benno to version 10.4.5. Run this: npm install autoprefixer@10.4.5 --save-exact",
    "answer_score": 155,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 39,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      155,
      79,
      86408,
      39,
      -110910624
    ]
  },
  {
    "question_id": 54059179,
    "question_url": "https://stackoverflow.com/questions/54059179/what-is-require-context",
    "question_title": "What is `require.context`?",
    "question_text": "Webpack Docs You can create your own context with the require.context() function. Great. What is a \"context\"? What does this actually do? It allows you to pass in a directory to search, a flag indicating whether subdirectories should be searched too, and a regular expression to match files against. Allows me to \"search\"? Search for files I'm assuming, and then what? What does this function ultimately do? What is it used for?",
    "question_tags": [
      "webpack"
    ],
    "question_score": 153,
    "question_view_count": 123774,
    "question_creation_date": 1546755981,
    "answer_id": 54066904,
    "answer_text": "One of the main features of webpack's compiler is to recursively parse all the modules, starting from the entries, to build a graph of all the module dependencies by analyzing require() , require.context() , import and import() expressions. The usual interpretation of \"context\" in webpack, and similarly in Node.js, is some directory that is used as a base for resolving paths to modules. For example, the current working directory is used as the default context for webpack to resolve the actual path to the index.js entry module; the context for the request require.resolve('../../../foo.js') is __dirname . require.context is a special feature supported by webpack's compiler that allows you to get all matching modules starting from some base directory. The intention is to tell webpack at compile time to transform that expression into a dynamic list of all the possible matching module requests that it can resolve, in turn adding them as build dependencies and allowing you to require them at runtime. In short, you would use require.context in the exact same situation when in Node.js at runtime you would use globs to dynamically build a list of module paths to require. The return value is a callable object that behaves like require, whose keys contain the necessary module request data that can be passed to it as an argument to require the module. There are several ways you can use it, but I think the two most common use cases are to either automagically require some well-known kind of modules (e.g. you just add some.test.js test module and in some module you use require.context to dynamically discover all the tests, thus not having to document and remember to do it manually every time you add a new test module) or to load static assets in the repository to emit files to the build output (new webpack users coming from other build tools are usually surprised that their images, fonts, audio files and other assets do not appear in the output unless they are required from some module).",
    "answer_score": 154,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 337,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      154,
      153,
      123774,
      337,
      -215633741
    ]
  },
  {
    "question_id": 57837758,
    "question_url": "https://stackoverflow.com/questions/57837758/navigationduplicated-navigating-to-current-location-search-is-not-allowed",
    "question_title": "NavigationDuplicated Navigating to current location (&quot;/search&quot;) is not allowed",
    "question_text": "When I want to do a search multiple times it shows me the NavigationDuplicated error. My search is in the navbar and the way I have configured the search is to take the value using a model and then pass the value as a parameter to the ContentSearched component, and then receive the value of the search in that component. I know the right way is to use an emitter, but I still don't know how to learn to use it. To access the emit is context.emit('', someValue) NavigationDuplicated {_name: \"NavigationDuplicated\", name: \"NavigationDuplicated\", message: \"Navigating to current location (\"/search\") is not allowed\", stack: \"Error↵ at new NavigationDuplicated (webpack-int…node_modules/vue/dist/vue.runtime.esm.js:1853:26)\"} NavBar.vue <template> <nav class=\"navbar navbar-expand-lg navbar-dark bg-nav\" v-bind:class=\"{'navbarOpen': show }\"> <div class=\"container\"> <router-link to=\"/\" class=\"navbar-brand\"> <img src=\"../assets/logo.png\" alt=\"Horizon Anime\" id=\"logo\"> </router-link> <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\" v-on:click.prevent=\"toggleNavbar\"> <span class=\"navbar-toggler-icon\"></span> </button> <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\" v-bind:class=\"{'show': show }\"> <ul class=\"navbar-nav mr-auto\"> <li class=\"nav-item\"> <router-link class=\"nav-link\" to=\"/\" ><i class=\"fas fa-compass\"></i> Series</router-link> </li> <li class=\"nav-item\"> <router-link class=\"nav-link\" :to=\"{name: 'EpisodesSection'}\" ><i class=\"fas fa-compact-disc\"></i> Episodios</router-link> </li> <li class=\"nav-item\"> <router-link class=\"nav-link\" :to=\"{name: 'MovieSection'}\" ><i class=\"fas fa-film\"></i> Peliculas</router-link> </li> </ul> <div class=\"search-bar\"> <form class=\"form-inline my-2 my-lg-0\"> <input class=\"form-control mr-sm-2\" v-model=\"query\" type=\"search\" placeholder=\"Buscar películas, series ...\" aria-label=\"Search\"> <button class=\"btn btn-main my-2 my-sm-0\" @click.prevent=\"goto()\" type=\"submit\"><i class=\"fas fa-search\"></i></button> </form> </div> </div> </div> </nav> </template> <script> import {value} from 'vue-function-api'; import {useRouter} from '@u3u/vue-hooks'; export default { name: \"NavBar\", setup(context){ const {router} = useRouter(); const query = value(\"\"); let show = value(true); const toggleNavbar = () => show.value = !show.value; const goto = () =>{ let to = {name: 'ContentSearched' , params:{query: query}} router.push(to); }; return{ show, toggleNavbar, goto, query } } } </script> ContentSearched.vue <template> <div class=\"container\"> <BoxLink/> <main class=\"Main\"> <div class=\"alert alert-primary\" role=\"alert\"> Resultados para \"{{query}}\" </div> <div v-if=\"isLoading\"> <!-- <img class=\"loading\" src=\"../assets/loading.gif\" alt=\"loading\"> --> </div> <div v-else> <ul class=\"ListEpisodios AX Rows A06 C04 D02\"> <li v-for=\"(content, index) in contentSearched\" :key=\"index\"> <div v-if=\"content.type === 'serie'\"> <Series :series=\"content\"/> </div> <div v-if=\"content.type === 'pelicula'\"> <Movies :movies=\"content\"/> </div> </li> </ul> </div> </main> </div> </template> <script> import {onCreated} from \"vue-function-api\" import {useState , useRouter , useStore} from '@u3u/vue-hooks'; import BoxLink from \"../components/BoxLink\"; import Movies from \"../components/Movies\"; import Series from \"../components/Series\"; export default{ name: 'ContentSearched', components:{ BoxLink, Movies, Series }, setup(context){ const store = useStore(); const {route} = useRouter(); const state = { ...useState(['contentSearched' , 'isLoading']) }; const query = route.value.params.query; onCreated(() =>{ store.value.dispatch('GET_CONTENT_SEARCH' , query.value); }); return{ ...state, query, } } }; </script>",
    "question_tags": [
      "javascript",
      "vue.js",
      "vuejs2"
    ],
    "question_score": 128,
    "question_view_count": 156167,
    "question_creation_date": 1567893745,
    "answer_id": 58747480,
    "answer_text": "This happened to me when I had a router-link pointing to the same route. e.g. /products/1 . The user is able to click on the products, but if a product was already clicked (and the component view was already loaded) and the user attempts to click it again, the error/warning shows in the console. You can learn more on the github issue. . Posva, one of the main contributors of vue-router suggests: router.push('your-path').catch(err => {}) However, if you don't want to have a catch block which does nothing, in order to solve the issue you can compare the router navigation with the current route and only navigate if they differ: const path = `/products/${id}` if (this.$route.path !== path) this.$router.push(path) Note: $route is an object provided by vue-router to every component. See The Route Object for more info.",
    "answer_score": 148,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 137,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      148,
      128,
      156167,
      137,
      -194496050
    ]
  },
  {
    "question_id": 66374123,
    "question_url": "https://stackoverflow.com/questions/66374123/warning-text-content-did-not-match-server-im-out-client-im-in-div",
    "question_title": "Warning: Text content did not match. Server: &quot;I&#39;m out&quot; Client: &quot;I&#39;m in&quot; div",
    "question_text": "I'm using universal-cookie in Next.js project and this the simple code that return a warning in console: import React, { useState } from \"react\"; import Cookies from \"universal-cookie\"; import styles from \"../styles/Home.module.css\"; export default function Home() { const cook = new Cookies(); const [session, setSession] = useState(cook.get(\"key\")); const setCookie = () => { cook.set(\"key\", \"hola\", { secure: true }); setSession(cook.get(\"key\")); }; const deleteCookie = () => { cook.remove(\"key\", { secure: true }); setSession(undefined); }; return ( <div className={styles.container}> <button onClick={() => setCookie()}>Save Cookie</button> <button onClick={() => deleteCookie()}>Delete Cookie</button> {session ? <>I'm in</> : <>I'm out</>} </div> ); } When \"I'M IN\" and then I refresh the page the follow warning appear in console: I have already looked everywhere for a solution.",
    "question_tags": [
      "reactjs",
      "cookies",
      "next.js"
    ],
    "question_score": 77,
    "question_view_count": 131409,
    "question_creation_date": 1614276566,
    "answer_id": 66374800,
    "answer_text": "Next.js pre-renders every page on the server. By default, Next.js pre-renders every page. This means that Next.js generates HTML for each page in advance, instead of having it all done by client-side JavaScript. Pre-rendering can result in better performance and SEO. (...) When a page is loaded by the browser, its JavaScript code runs and makes the page fully interactive (this process is called hydration in React). — Next.js, Building Your Application, Rendering The hydration issue occurs because the HTML rendered on the browser doesn't match the one generated on the server. In your case this is because cook.get(\"key\") returns different things in both. There are a couple of options to solve the issue. #1 Moving setting state to useEffect The first solution is to move setting the state inside a useEffect . This forces the state to only be set on the client-side, so no mismatches will occur. export default function Home() { const cook = new Cookies(); const [session, setSession] = useState(); // `setCookie` and `deleteCookie` code here useEffect(() => { setSession(cook.get(\"key\")); }, []); return ( <div className={styles.container}> <button onClick={() => setCookie()}>Save Cookie</button> <button onClick={() => deleteCookie()}>Delete Cookie</button> {session ? <>I'm in</> : <>I'm out</>} </div> ); } #2 Using next/dynamic with { ssr: false } As an alternate solution, the issue can also be circumvented by dynamically importing the React component with next/dynamic using { ssr: false } , wherever the component is used. This prevents the component from being included on the server, and dynamically loads it on the client-side only. const Home = dynamic( () => import('../components/Home'), { ssr: false } )",
    "answer_score": 137,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 267,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      137,
      77,
      131409,
      267,
      -148113115
    ]
  },
  {
    "question_id": 63100658,
    "question_url": "https://stackoverflow.com/questions/63100658/add-global-variable-in-vue-js-3",
    "question_title": "Add global variable in Vue.js 3",
    "question_text": "How to add a global variable in Vue.js 3? In Vue.js 2 we use this in the main.js file: Vue.prototype.$myGlobalVariable = globalVariable",
    "question_tags": [
      "javascript",
      "vue.js",
      "vue-component",
      "vuejs3",
      "vue-script-setup"
    ],
    "question_score": 87,
    "question_view_count": 176873,
    "question_creation_date": 1595769388,
    "answer_id": 63101214,
    "answer_text": "The most direct replacement is app.config.globalProperties . See: https://vuejs.org/api/application.html#app-config-globalproperties So: Vue.prototype.$myGlobalVariable = globalVariable becomes: const app = createApp(RootComponent) app.config.globalProperties.$myGlobalVariable = globalVariable This is scoped to a particular application rather than being global as it was with Vue.prototype . This is by design, all 'global' configuration options are now scoped to an application. The relevant RFC is here: https://github.com/vuejs/rfcs/blob/master/active-rfcs/0009-global-api-change.md Properties added to globalProperties will be available via the component instance for all components within the application. So if you're using the Options API you'll be able to access them using this.$myGlobalVariable , just like you could with Vue.prototype . They'll also be available in the template without the this. , e.g. {{ $myGlobalVariable }} . If you're using the Composition API then you'll still be able to use these properties within the template, but you won't have access to the component instance within setup , so these properties won't be accessible there. While hacks involving getCurrentInstance() can be used to access globalProperties within setup , those hacks involve using undocumented APIs and are not the recommended approach. Instead, application-level provide / inject (also discussed in that RFC) can be used as an alternative to Vue.prototype : const app = createApp(RootComponent) app.provide('myGlobalVariable', globalVariable) In the descendant component this can then be accessed using inject . e.g. With <script setup> : <script setup> import { inject } from 'vue' const myGlobalVariable = inject('myGlobalVariable') </script> Or with an explicit setup function: import { inject } from 'vue' export default { setup() { const myGlobalVariable = inject('myGlobalVariable') // Expose it to the template, if required return { myGlobalVariable } } } Or with the Options API: export default { inject: ['myGlobalVariable'] } Docs: https://vuejs.org/api/application.html#app-provide The idea here is that the component can explicitly declare the property rather than inheriting it by magic. That avoids problems like name collisions, so there's no need to use a $ prefix. It can also help to make it clearer where exactly a property is coming from. It is common for the inject function to be wrapped in a composable. For example, the useRoute composable exposed by Vue Router is just a wrapper around inject . In addition to globalProperties and provide / inject , there are various other techniques that might be used to solve the same problems as Vue.prototype . For example, ES modules, stores, or even global mixins. These aren't necessarily direct answers to the specific question posted here, but I've gone into more detail describing the various approaches at: https://skirtles-code.github.io/vue-examples/patterns/global-properties.html Which approach you prefer will depend on your circumstances.",
    "answer_score": 134,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 423,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      134,
      87,
      176873,
      423,
      -166620407
    ]
  },
  {
    "question_id": 65627536,
    "question_url": "https://stackoverflow.com/questions/65627536/the-token-is-not-a-valid-statement-separator-in-this-version",
    "question_title": "The token &#39;&amp;&amp;&#39; is not a valid statement separator in this version",
    "question_text": "On the way of installing Webpack on my React Project, the following problem hinders my progress: last step to configure the Webpack npm run build && node ./dist/main.js Error on Windows Power Shell / on Visual Studio Code PS C:\\Users\\pythonbuddha\\Desktop\\to_experiment\\to-do-list> npm run build && node ./dist/main.js At line:1 char:15 + npm run build && node ./dist/main.js + ~~ The token '&&' is not a valid statement separator in this version. + CategoryInfo : ParserError: (:) [], ParentContainsErrorRecordException + FullyQualifiedErrorId : InvalidEndOfLine Tutorial which promised to configure the webpack https://developerhandbook.com/webpack/webpack-4-from-absolute-scratch/ https://developerhandbook.com/webpack/how-to-configure-scss-modules-for-webpack/",
    "question_tags": [
      "javascript",
      "reactjs",
      "powershell",
      "webpack"
    ],
    "question_score": 103,
    "question_view_count": 175546,
    "question_creation_date": 1610102598,
    "answer_id": 65627596,
    "answer_text": "It's because you're in PowerShell < V7, try upgrading or running it in CMD or Git Bash Alternatively (if you wish to continue in old PS): (npm run build) -and (node ./dist/main.js) 3rd Alternative, just run them separately.",
    "answer_score": 132,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 38,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      132,
      103,
      175546,
      38,
      -152287124
    ]
  },
  {
    "question_id": 54258233,
    "question_url": "https://stackoverflow.com/questions/54258233/do-i-have-to-store-tokens-in-cookies-or-localstorage-or-session",
    "question_title": "Do I have to store tokens in cookies or localstorage or session?",
    "question_text": "I am using React SPA, Express, Express-session, Passport, and JWT. I'm confused about some of the different client-side storage options to store tokens: Cookies, Session, and JWT / Passport. Do tokens have to be stored in cookies, even if I can store them in req.sessionID ? Many websites use cookies to store shopping cart tokens. So far I have stored shopping cart data based on the session ID without adding any cookies. So when users visit my website, I will match it with their req.sessionID and then retrieve the data in the database like shopping carts and user session. Do I need to store cookies? I can access it via req.sessionID to get the data needed. And the second I have made authentication using a passport-google-oauth20 .After I successfully login, the data is saved into the session. and to send it to the client I have to send it via the URL query ?token='sdsaxas' . in this case I get a lot of difference of opinion. someone saved it into local storage and someone saved it into cookies by converting it to a token using JWT. jwt.sign( payload, keys.jwt.secretOrPrivateKey, { expiresIn:keys.jwt.expiresIn // < i dont know what is this expired for cookies or localstorage ? }, (err, token) => { res.redirect(keys.origin.url + \"?token=\" + token); }); Can I indeed store everything related to the session by using sessionID (without cookies or localstorage)? Only by doing fetch once or every page refresh and retrieving the data and then saved into redux because I use React SPA.",
    "question_tags": [
      "javascript",
      "reactjs",
      "cookies",
      "jwt",
      "local-storage"
    ],
    "question_score": 100,
    "question_view_count": 147076,
    "question_creation_date": 1547830012,
    "answer_id": 54258744,
    "answer_text": "This answer is based on the stateless approach and therefore it doesn't talk about the traditional session management You have asked two altogether different questions: Shopping cart - which is more related to business functionality OAuth 2 & JWT - which is related to security and authentication As a user of an ecommerce website, I'd expect that any item I add to my shopping cart from my mobile device while commuting to my workplace, should be available in the cart when I login to the website from my PC after reaching home. Therefore, the cart data should be saved in the back-end DB and linked to my user account. When it comes to authentication using OAuth 2.0, the JWT access token and / or refresh token need to be stored somewhere in the client device, so that once the user authenticates himself by providing login credentials, he doesn't need to provide his credentials again to navigate through the website. In this context, the browser local storage, session storage and cookies are all valid options. However, note that here the cookie is not linked to any session on the server side. In other words, the cookie doesn't store any session id. The cookie is merely used as a storage for access token which is passed to the server with every http request and the server then validates the token using the digital signature to ensure that it is not tampered and it is not expired. Although all three storage options for access and / or refresh tokens are popular, cookie seems to be the most secured option when used in the correct way. To understand this better, I recommend you read this and this along with the OAuth 2.0 specification. Update On 16-Feb-2019 I said earlier that cookie seems to be the most secured options. I'd like to further clarify the point here. The reason I think browser localStorage and sessionStorage do not provide enough security for storing auth tokens are as follows: If XSS occurs, the malicious script can easily read the tokens from there and send them to a remote server. There on-wards the remote server or attacker would have no problem in impersonating the victim user. localStorage and sessionStorage are not shared across sub-domains. So, if we have two SPA running on different sub-domains, we won't get the SSO functionality because the token stored by one app won't be available to the other app within the organization. There are some solutions using iframe , but those look more like workarounds rather than a good solution. And when the response header X-Frame-Options is used to avoid clickjacking attacks with iframe , any solution with iframe is out of question. These risks can, however, be mitigated by using a fingerprint (as mentioned in OWASP JWT Cheat Sheet ) which again in turn requires a cookie. The idea of fingerprint is, generate a cryptographically strong random string of bytes. The Base64 string of the raw string will then be stored in a HttpOnly , Secure , SameSite cookie with name prefix __Secure- . Proper values for Domain and Path attributes should be used as per business requirement. A SHA256 hash of the string will also be passed in a claim of JWT. Thus even if an XSS attack sends the JWT access token to an attacker controlled remote server, it cannot send the original string in cookie and as a result the server can reject the request based on the absence of the cookie. The cookie being HttpOnly cannot be read by XSS scripts. Therefore, even when we use localStorage and sessionStorage , we have to use a cookie to make it secured. On top of that, we add the sub-domain restriction as mentioned above. Now, the only concern about using a cookie to store JWT is, CSRF attack. Since we use SameSite cookie, CSRF is mitigated because cross-site requests (AJAX or just through hyperlinks) are not possible. If the site is used in any old browser or some other not so popular browsers that do not support SameSite cookie, we can still mitigate CSRF by additionally using a CSRF cookie with a cryptographically strong random value such that every AJAX request reads the cookie value and add the cookie value in a custom HTTP header (except GET and HEAD requests which are not supposed to do any state modifications). Since CSRF cannot read anything due to same origin policy and it is based on exploiting the unsafe HTTP methods like POST, PUT and DELETE, this CSRF cookie will mitigate the CSRF risk. This approach of using CSRF cookie is used by all modern SPA frameworks. The Angular approach is mentioned here . Also, since the cookie is httpOnly and Secured , XSS script cannot read it. Thus XSS is also mitigated. It may be also worth mentioning that XSS and script injection can be further mitigated by using appropriate content-security-policy response header. Other CSRF mitigation approaches State Variable (Auth0 uses it) - The client will generate and pass with every request a cryptographically strong random nonce which the server will echo back along with its response allowing the client to validate the nonce. It's explained in Auth0 doc . Always check the referer header and accept requests only when referer is a trusted domain. If referer header is absent or a non-whitelisted domain, simply reject the request. When using SSL/TLS referrer is usually present. Landing pages (that is mostly informational and not containing login form or any secured content) may be little relaxed ​and allow requests with missing referer header. TRACE HTTP method should be blocked in the server as this can be used to read the httpOnly cookie. Also, set the header Strict-Transport-Security: max-age=; includeSubDomains​ to allow only secured connections to prevent any man-in-the-middle overwrite the CSRF cookies from a sub-domain.",
    "answer_score": 130,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 972,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      130,
      100,
      147076,
      972,
      -214559669
    ]
  },
  {
    "question_id": 66382293,
    "question_url": "https://stackoverflow.com/questions/66382293/how-to-use-props-in-script-setup-in-vue3",
    "question_title": "How to use props in &lt;script setup&gt; in vue3",
    "question_text": "Just like the title says, related Links: New script setup (without ref sugar) <template> <TopNavbar title=\"room\" /> <div> {{ no }} </div> </template> <script setup> import TopNavbar from '@/layout/TopNavbar.vue' import { defineProps, reactive } from 'vue' defineProps({ no: String }) const state = reactive({ room: {} }) const init = async () => { // I want use props in this // const { data } = await getRoomByNo(props.no) // console.log(data); } init() </script> <style> </style>",
    "question_tags": [
      "javascript",
      "vue.js",
      "vuejs3",
      "vue-composition-api",
      "vue-script-setup"
    ],
    "question_score": 105,
    "question_view_count": 135554,
    "question_creation_date": 1614327369,
    "answer_id": 66680351,
    "answer_text": "To use props with <script setup> you need to call defineProps() with the component prop options as the argument, this defines the props on the component instance and returns a reactive object with the props which you can use as follows: <template> <TopNavbar title=\"room\" /> <div> {{ no }} </div> </template> <script setup> import TopNavbar from \"@/layout/TopNavbar.vue\"; import { defineProps, reactive } from \"vue\"; const props = defineProps({ no: String, }); const { no } = toRefs(props); const state = reactive({ room: {}, }); const init = async () => { const { data } = await getRoomByNo(no.value); console.log(data); }; init(); </script> If you are using typescript the alternative way to do this is pass a type only declaration and infer the prop types from that. Pro's are that you'll get stricter type safety but you cannot have default values. <template> <TopNavbar title=\"room\" /> <div> {{ no }} </div> </template> <script setup> import TopNavbar from \"@/layout/TopNavbar.vue\"; import { defineProps, reactive } from \"vue\"; const props = defineProps<{ no: string, }>(); const { no } = toRefs(props); const state = reactive({ room: {}, }); const init = async () => { const { data } = await getRoomByNo(no.value); console.log(data); }; init(); </script> EDIT Defaults with type only props are now possible: interface Props { msg?: string } const props = withDefaults(defineProps<Props>(), { msg: 'hello' })",
    "answer_score": 127,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 224,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      127,
      105,
      135554,
      224,
      -148062426
    ]
  },
  {
    "question_id": 66239691,
    "question_url": "https://stackoverflow.com/questions/66239691/what-does-npm-install-legacy-peer-deps-do-exactly-when-is-it-recommended-wh",
    "question_title": "What does npm install --legacy-peer-deps do exactly? When is it recommended / What&#39;s a potential use case?",
    "question_text": "Just ran into this error: npm ERR! code ERESOLVE npm ERR! ERESOLVE unable to resolve dependency tree npm ERR! npm ERR! While resolving: nexttwin@0.1.0 npm ERR! Found: react@17.0.1 npm ERR! node_modules/react npm ERR! react@\"17.0.1\" from the root project npm ERR! npm ERR! Could not resolve dependency: npm ERR! peer react@\"^16.8.0\" from react-hook-mousetrap@2.0.4 npm ERR! node_modules/react-hook-mousetrap npm ERR! react-hook-mousetrap@\"*\" from the root project npm ERR! The module I am trying to install seems to have a different peer dependency from what I have installed. It seems like npm changed its behaviour in this regard and now lets the install fail. What can I do now to fix this? I don't want to downgrade my React version for this. I know there is a flag called --legacy-peer-deps but I am not sure what exactly this does and whether it's recommended to use it / what the potential disadvantages are? I assume there is a reason npm did let the install fail. It's just strange because I was using yarn up until very recently and everything was fine.",
    "question_tags": [
      "javascript",
      "node.js",
      "reactjs",
      "npm",
      "npm-install"
    ],
    "question_score": 588,
    "question_view_count": 788912,
    "question_creation_date": 1613556235,
    "answer_id": 66346921,
    "answer_text": "Here's how I solved this problem: First, what's happening: react-hook-mousetrap is looking for react@16.8.0, but it is not finding it. Instead it is finding @react17.0.1, which is a newer version. For some reason mousetrap doesn't like this newer version, and you are being notified (it is not a big deal, but they decided it was worth stopping your build). One solution: forcibly install the specific version of react that mousetrap wants: yarn add react@16.8.0 What this does is roll back your react version to a slightly older one that is compatible with mousetrap. You won't notice any difference, and in future iterations, hopefully mousetrap is updated, so this goes away. Another solution: make a sweeping decision to not install any older version dependencies: npm add xxxx --legacy-peer-deps What this does is ignore old dependencies for this package. It is more comprehensive, and makes a lot of the decisions for you.",
    "answer_score": 125,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 150,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      125,
      588,
      788912,
      150,
      -148833455
    ]
  },
  {
    "question_id": 56663785,
    "question_url": "https://stackoverflow.com/questions/56663785/invalid-hook-call-hooks-can-only-be-called-inside-of-the-body-of-a-function-com",
    "question_title": "Invalid hook call. Hooks can only be called inside of the body of a function component",
    "question_text": "I want to show some records in a table using React but I got this error: Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons: You might have mismatching versions of React and the renderer (such as React DOM) You might be breaking the Rules of Hooks You might have more than one copy of React in the same app See for tips about how to debug and fix this problem. import React, { Component } from 'react'; import { makeStyles } from '@material-ui/core/styles'; import Table from '@material-ui/core/Table'; import TableBody from '@material-ui/core/TableBody'; import TableCell from '@material-ui/core/TableCell'; import TableHead from '@material-ui/core/TableHead'; import TableRow from '@material-ui/core/TableRow'; import Paper from '@material-ui/core/Paper'; const useStyles = makeStyles(theme => ({ root: { width: '100%', marginTop: theme.spacing(3), overflowX: 'auto' }, table: { minWidth: 650 } })); class allowance extends Component { constructor() { super(); this.state = { allowances: [] }; } componentWillMount() { fetch('http://127.0.0.1:8000/allowances') .then(data => { return data.json(); }) .then(data => { this.setState({ allowances: data }); console.log('allowance state', this.state.allowances); }); } render() { const classes = useStyles(); return (<Paper className={classes.root}> <Table className={classes.table}> <TableHead> <TableRow> <TableCell>Allow ID</TableCell> <TableCell align=\"right\">Description</TableCell> <TableCell align=\"right\">Allow Amount</TableCell> <TableCell align=\"right\">AllowType</TableCell> </TableRow> </TableHead> <TableBody> { this.state.allowances.map(row => (<TableRow key={row.id}> <TableCell component=\"th\" scope=\"row\">{row.AllowID}</TableCell> <TableCell align=\"right\">{row.AllowDesc}</TableCell> <TableCell align=\"right\">{row.AllowAmt}</TableCell> <TableCell align=\"right\">{row.AllowType}</TableCell> </TableRow> )) } </TableBody> </Table> </Paper> ); } } export default allowance;",
    "question_tags": [
      "javascript",
      "reactjs",
      "react-hooks",
      "material-ui"
    ],
    "question_score": 348,
    "question_view_count": 1076733,
    "question_creation_date": 1560934635,
    "answer_id": 56664084,
    "answer_text": "You can only call hooks from React functions. Read more here . Just convert the Allowance class component to a functional component. Working CodeSandbox demo . const Allowance = () => { const [allowances, setAllowances] = useState([]); useEffect(() => { fetch('http://127.0.0.1:8000/allowances') .then(data => { return data.json(); }) .then(data => { setAllowances(data); }) .catch(err => { console.log(123123); }); }, []); const classes = useStyles(); return (<Paper className={classes.root}> <Table className={classes.table}> <TableHead> <TableRow> <TableCell> Allow ID </TableCell> <TableCell align=\"right\"> Description </TableCell> <TableCell align=\"right\"> Allow Amount </TableCell> <TableCell align=\"right\"> AllowType </TableCell> </TableRow> </TableHead> <TableBody>{ allowances.map(row => (<TableRow key={row.id}> <TableCell component=\"th\" scope=\"row\">{row.AllowID}</TableCell> <TableCell align=\"right\"> {row.AllowDesc}</TableCell> <TableCell align=\"right\"> {row.AllowAmt}</TableCell> <TableCell align=\"right\">{row.AllowType}</TableCell> </TableRow> )) } </TableBody> </Table> </Paper> ); }; export default Allowance;",
    "answer_score": 117,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 116,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      117,
      348,
      1076733,
      116,
      -201455055
    ]
  },
  {
    "question_id": 69300341,
    "question_url": "https://stackoverflow.com/questions/69300341/typeerror-failed-to-fetch-dynamically-imported-module-on-vue-vite-vanilla-set",
    "question_title": "&quot;TypeError: Failed to fetch dynamically imported module&quot; on Vue/Vite vanilla setup",
    "question_text": "We have a vanilla Vue/Vite setup and I'm receiving TypeError: Failed to fetch dynamically imported module on sentry logs. It seems like the errors are correlated in time with new deployment to prod, although I don't have enough data to confirm. It doesn't happen on local and appears only on deployed code. I've seen some similar questions for react's setups, but none with a satisfactory response. I've also found a similar question regarding dynamically imported svgs , but our errors happen for full components. The only place where we use dynamic imported components is on routing: export const router = createRouter({ history: routerHistory, strict: true, routes: [ { path: '/', name: routes.homepage.name, component: () => import('@/views/Home.vue'), children: [ { path: '/overview', name: routes.overview.name, component: () => import('@/views/Overview.vue'), }, // other similar routes ], }, ], }); Our deps versions: \"vue\": \"^3.0.9\", \"vue-router\": \"^4.0.5\", \"vite\": \"^2.0.5\", Any additional information on this issue and how to debug it would be much appreciated!",
    "question_tags": [
      "javascript",
      "typescript",
      "vue.js",
      "webpack",
      "vite"
    ],
    "question_score": 105,
    "question_view_count": 238687,
    "question_creation_date": 1632401291,
    "answer_id": 74057337,
    "answer_text": "When you dynamically import a route/component, during build it creates a separate chunk. By default, chunk filenames are hashed according to their content – Overview.abc123.js . If you don't change the component code, the hash remains the same. If the component code changes, the hash changes too - Overview.32ab1c.js . This is great for caching. Now this is what happens when you get this error: You deploy the application Your Home chunk has a link to /overview route, which would load Overview.abc123.js Client visits your site You make changes in your code, not necessarily to the Overview component itself, but maybe to some children components that Overview imports. You deploy changes, and Overview is built with a different hash now - Overview.32ab1c.js Client clicks on /overview link - gets the Failed to fetch dynamically imported module error, because Overview.abc123.js no longer exists That is why the errors correlate with deployments. One way to fix it is to not use lazy loaded routes, but that's not a great solution when you have many heavy routes - it will make your main bundle large",
    "answer_score": 114,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 182,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      114,
      105,
      238687,
      182,
      -129988431
    ]
  },
  {
    "question_id": 68707553,
    "question_url": "https://stackoverflow.com/questions/68707553/uncaught-referenceerror-buffer-is-not-defined",
    "question_title": "Uncaught ReferenceError: Buffer is not defined",
    "question_text": "Our application kept showing the error in the title. The problem is very likely related to Webpack 5 polyfill and after going through a couple of solutions: Setting fallback + install with npm fallback: { \"stream\": require.resolve(\"stream-browserify\"), \"buffer\": require.resolve(\"buffer/\") } Setting alias alias: { \"buffer\": \"buffer\", \"stream\": \"stream-browserify\" } We are still seeing the dreadful error: rfc6979.js:3 Uncaught ReferenceError: Buffer is not defined at Object.4142 (rfc6979.js:3) at r (bootstrap:19) at Object.5892 (js.js:4) at r (bootstrap:19) at Object.4090 (bip32.js:5) at r (bootstrap:19) at Object.7786 (index.js:3) at r (bootstrap:19) at Object.1649 (MnemonicKey.js:50) at r (bootstrap:19) Our setup is vanilla NodeJS + TypeScript + Webpack for multi-target: node + browser. Any help would be great!",
    "question_tags": [
      "node.js",
      "webpack"
    ],
    "question_score": 107,
    "question_view_count": 242880,
    "question_creation_date": 1628489665,
    "answer_id": 68723223,
    "answer_text": "Answering my own question. Two things helped to resolve the issue: Adding plugins section with ProviderPlugin into webpack.config.js const webpack = require('webpack'); module.exports = { // ... plugins: [ // Work around for Buffer is undefined: // https://github.com/webpack/changelog-v5/issues/10 new webpack.ProvidePlugin({ Buffer: ['buffer', 'Buffer'], }), new webpack.ProvidePlugin({ process: 'process/browser', }), ], Also add in resolve.fallback into webpack.config.js: resolve: { extensions: [ '.ts', '.js' ], fallback: { \"stream\": require.resolve(\"stream-browserify\"), \"buffer\": require.resolve(\"buffer\") } },",
    "answer_score": 113,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 71,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      113,
      107,
      242880,
      71,
      -133900057
    ]
  },
  {
    "question_id": 57650692,
    "question_url": "https://stackoverflow.com/questions/57650692/where-to-store-the-refresh-token-on-the-client",
    "question_title": "Where to store the refresh token on the Client?",
    "question_text": "My SPA application uses the following architecture ( source ): This assumes that my client application knows about the refresh token, because I need it to request a new access token if no user credentials (e.g. email/password) are present. My question: Where do I store the refresh token in my client-side application? There are lots of questions/answers about this topic on SO, but regarding the refresh token the answer are not clear. Access token and refresh token shouldn't be stored in the local/session storage, because they are not a place for any sensitive data. Hence I would store the access token in a httpOnly cookie (even though there is CSRF) and I need it for most of my requests to the Resource Server anyway. But what about the refresh token? I cannot store it in a cookie, because (1) it would be send with every request to my Resource Server as well which makes it vulnerable to CSRF too and (2) it would send expose both access/refresh token with an identical attack vector. There are three solutions I could think of: 1) Storing the refresh token in an in-memory JavaScript variable, which has two drawbacks: a) It's vulnerable to XSS (but may be not as obvious as local/session storage b) It looses the \"session\" if a user closes the browser tab Especially the latter drawback makes will turn out as a bad UX. 2) Storing the access token in session storage and sending it via a Bearer access_token authorization header to my resource server. Then I can use httpOnly cookies for the refresh token. This has one drawback that I can think of: a) The refresh token is exposed to CSRF with every request made to the Resource Server. 3) Keep both tokens in httpOnly cookies which has the mentioned drawback that both tokens are exposed to the same attack vector. Maybe there is another way or more than my mentioned drawbacks (please let me know), but in the end everything boils down to where do I keep my refresh token on the client-side ? Is it httpOnly cookie or an in-memory JS variable? If it is the former, where do I put my access token then? Would be super happy to get any clues about how to do this the best way from people who are familiar with the topic.",
    "question_tags": [
      "authentication",
      "cookies",
      "oauth",
      "oauth-2.0",
      "token"
    ],
    "question_score": 159,
    "question_view_count": 170443,
    "question_creation_date": 1566779671,
    "answer_id": 57826596,
    "answer_text": "You can store tokens securely in HttpOnly cookies. https://medium.com/@sadnub/simple-and-secure-api-authentication-for-spas-e46bcea592ad If you worry about long-living Refresh Token. You can skip storing it and not use it at all. Just keep Access Token in memory (JavaScript variable) and do silent sign-in when Access Token expires. Don't use Implicit flow because it's obsolete . The most secure way of authentication for SPA is Authorization Code with PKCE . In general, it's better to use existing libraries based on oidc-client than building something on your own.",
    "answer_score": 97,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 82,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      97,
      159,
      170443,
      82,
      -195610010
    ]
  },
  {
    "question_id": 67926476,
    "question_url": "https://stackoverflow.com/questions/67926476/webpack-dev-server-config-contentbase-not-working-in-latest-version",
    "question_title": "Webpack Dev Server Config - contentBase not working in latest version",
    "question_text": "When I upgrade webpack to 4.0.0-beta.3 and run npx webpack serve I get this error: [webpack-cli] Invalid configuration object. Object has been initialized using a configuration object that does not match the API schema. - configuration has an unknown property 'contentBase'. These properties are valid: object { bonjour?, client?, compress?, devMiddleware?, firewall?, headers?, historyApiFallback?, host?, hot?, http2?, https?, liveReload?, onAfterSetupMiddleware?, onBeforeSetupMiddleware?, onListening?, open?, port?, proxy?, public?, setupExitSignals?, static?, transportMode?, watchFiles? } This is my webpack.config.js that works in 3.11.2: const path = require('path'); const ArcGISPlugin = require(\"@arcgis/webpack-plugin\"); module.exports = { mode: 'development', entry: { main: './app/main.js' }, plugins: [ new ArcGISPlugin() ], devServer: { contentBase: './' } } my devDependencies from package.json: \"devDependencies\": { \"@arcgis/webpack-plugin\": \"^4.18.0\", \"dojo-typings\": \"^1.11.11\", \"webpack-cli\": \"^4.7.2\", \"webpack-dev-server\": \"^4.0.0-beta.3\" How do I need to update my config to get the latest version working? When I take out the dev server object, the server will run, but serve content out of ./public which doesn't exist. I'm new to webpack, so I'm not yet familiar with the application, config, and requirements.",
    "question_tags": [
      "webpack",
      "webpack-dev-server",
      "webpack-cli"
    ],
    "question_score": 80,
    "question_view_count": 72311,
    "question_creation_date": 1623348765,
    "answer_id": 67926693,
    "answer_text": "devServer: { static: './' } I should read the errors more closely. The above object made my config work again.",
    "answer_score": 95,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 20,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      95,
      80,
      72311,
      20,
      -139040957
    ]
  },
  {
    "question_id": 53795179,
    "question_url": "https://stackoverflow.com/questions/53795179/keycloak-missing-form-parameter-grant-type",
    "question_title": "Keycloak Missing form parameter: grant_type",
    "question_text": "I have keycloak standalone running on my local machine. I created new realm called 'spring-test', then new client called 'login-app' According to the rest documentation: POST: http://localhost:8080/auth/realms/spring-test/protocol/openid-connect/token { \"client_id\": \"login-app\", \"username\": \"user123\", \"password\": \"pass123\", \"grant_type\": \"password\" } should give me the jwt token but I get bad request with response { \"error\": \"invalid_request\", \"error_description\": \"Missing form parameter: grant_type\" } I am assuming that something is missing in my configuration. EDIT: I was using json body but it should be application/x-www-form-urlencoded : the following body works: token_type_hint:access_token&token:{token}&client_id:{client_id}&client_secret:{client_secret}",
    "question_tags": [
      "java",
      "authentication",
      "keycloak"
    ],
    "question_score": 81,
    "question_view_count": 89481,
    "question_creation_date": 1544892219,
    "answer_id": 53795226,
    "answer_text": "You should send your data in a POST request with Content-Type header value set to application/x-www-form-urlencoded , not json.",
    "answer_score": 91,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 19,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      91,
      81,
      89481,
      19,
      -217497491
    ]
  },
  {
    "question_id": 53529521,
    "question_url": "https://stackoverflow.com/questions/53529521/typescript-error-cannot-find-name-process",
    "question_title": "typescript error - cannot find name &#39;process&#39;",
    "question_text": "I am setting up a new project with express+ typescript and facing typescript error - cann't find name 'processs' package.json \"dependencies\": { \"express\": \"^4.16.4\", \"nodemon\": \"^1.18.7\", \"tsc\": \"^1.20150623.0\", \"typescript\": \"^3.1.6\" }, \"devDependencies\": { \"@types/express\": \"^4.16.0\", \"@types/mocha\": \"^5.2.5\", \"@types/node\": \"^10.12.10\", \"eslint\": \"^5.9.0\", \"eslint-config-airbnb-base\": \"^13.1.0\", \"eslint-plugin-import\": \"^2.14.0\", \"eslint-plugin-promise\": \"^4.0.1\", \"mocha\": \"^5.2.0\", \"supertest\": \"^3.3.0\", \"typescript-eslint-parser\": \"^21.0.1\" } I tried to follow the solution and added types tsconfig { \"compilerOptions\": { \"target\": \"es6\", \"module\": \"commonjs\", \"outDir\": \"dist\", \"sourceMap\": true, \"types\": [\"node\"] ----- }, \"include\": [ \"src/**/*.ts\" ], \"exclude\": [ \"node_modules\" ] } But I still get the error. I have installed npm (6.4.1) and node (8.14.0) to start building up my new project. Can someone highlight what I am doing wrong?",
    "question_tags": [
      "node.js",
      "typescript",
      "express"
    ],
    "question_score": 136,
    "question_view_count": 138475,
    "question_creation_date": 1543446742,
    "answer_id": 53529594,
    "answer_text": "Your new configuration looks right. Although, you probably have to restart typescript language server if it still uses previous version of the tsconfig. In order to do this in VS Code, you do Ctrl+Shift+P and Reload Window or TypeScript: Restart TS server if available. Also you don't need tsc package in your dependencies, because it is deprecated now, and typescript package comes with tsc executable.",
    "answer_score": 90,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 65,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      90,
      136,
      138475,
      65,
      -218943023
    ]
  },
  {
    "question_id": 55377365,
    "question_url": "https://stackoverflow.com/questions/55377365/what-does-keyof-typeof-mean-in-typescript",
    "question_title": "What does &quot;keyof typeof&quot; mean in TypeScript?",
    "question_text": "Explain to me what keyof typeof means in TypeScript Example: enum ColorsEnum { white = '#ffffff', black = '#000000', } type Colors = keyof typeof ColorsEnum; The last row is equivalent to: type Colors = \"white\" | \"black\" But how does it work? I would expect typeof ColorsEnum to return something like \"Object\" and then keyof \"Object\" to not do anything interesting. But I am obviously wrong.",
    "question_tags": [
      "typescript",
      "typeof",
      "union-types",
      "keyof"
    ],
    "question_score": 389,
    "question_view_count": 233247,
    "question_creation_date": 1553690197,
    "answer_id": 65958095,
    "answer_text": "keyof takes an object type and returns a type that accepts any of the object's keys. type Point = { x: number; y: number }; type P = keyof Point; // type '\"x\" || \"y\"' const coordinate: P = 'z' // Type '\"z\"' is not assignable to type '\"x\" | \"y\"'. typeof with TypeScript types typeof behaves differently when called on javascript objects, to when it is called on typescript types. TypeScript uses javascript's typeof when called on javascript values at runtime and returns one of \"undefined\", \"object\", \"boolean\", \"number\", \"bigint\", \"string\", \"symbol\", \"function\" TypeScript's typeof is called on type values, but can also be called on javascript values when in a type expression. It can also infer the type of javascript objects, returning a more detailed object type. type Language = 'EN' | 'ES'; const userLanguage: Language = 'EN'; const preferences = { language: userLanguage, theme: 'light' }; console.log(typeof preferences); // \"object\" type Preferences = typeof preferences; // type '{language: 'EN''; theme: string; }' Because the second typeof preferences is in a type expression it is actually TypeScript's own typeof that get called, and not javascript's. keyof typeof Because keyof is a TypeScript concept we will be calling TypeScript's verion of typeof . keyof typeof will infer the type of a javascript object and return a type that is the union of its keys. Because it can infer the exact value of the keys it can return a union of their literal types instead of just returning \"string\". type PreferenceKeys = keyof typeof preferences; // type '\"language\" | \"theme\"'",
    "answer_score": 87,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 260,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      87,
      389,
      233247,
      260,
      -208699579
    ]
  },
  {
    "question_id": 53298478,
    "question_url": "https://stackoverflow.com/questions/53298478/has-been-blocked-by-cors-policy-response-to-preflight-request-doesn-t-pass-acce",
    "question_title": "Has been blocked by CORS policy: Response to preflight request doesn’t pass access control check",
    "question_text": "I have created trip server. It works fine and we are able to make POST request by Insomnia but when we make POST request by axios on our front-end, it sends an error: has been blocked by CORS policy: Response to preflight request doesn’t pass access control check: It does not have HTTP ok status. Our request on axios: let config = { headers: { \"Content-Type\": \"application/json\", 'Access-Control-Allow-Origin': '*', } } let data = { \"id\": 4 } axios.post('http://196.121.147.69:9777/twirp/route.FRoute/GetLists', data, config) .then((res) => { console.log(res) }) .catch((err) => { console.log(err) }); } My go file: func setupResponse(w *http.ResponseWriter, req *http.Request) { (*w).Header().Set(\"Access-Control-Allow-Origin\", \"*\") (*w).Header().Set(\"Access-Control-Allow-Methods\", \"POST,GET,OPTIONS, PUT, DELETE\") (*w).Header().Set(\"Access-Control-Allow-Headers\", \"Accept, Content-Type, Content-Length, Accept-Encoding, X-CSRF-Token, Authorization\") } func WithUserAgent(base http.Handler) http.Handler { return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) { ctx := r.Context() ua := r.Header.Get(\"Jwt\") ctx = context.WithValue(ctx, \"jwt\", ua) r = r.WithContext(ctx) setupResponse(&w, r) base.ServeHTTP(w, r) }) } const ( host = \"localhost\" port = 5432 user = \"postgres\" password = \"postgres\" dbname = \"postgres\" ) func main() { psqlInfo := fmt.Sprintf(\"host=%s port=%d user=%s \"+ \"password=%s dbname=%s sslmode=disable\", host, port, user, password, dbname) server := &s.Server{psqlInfo} twirpHandler := p.NewFinanceServiceServer(server, nil) wrap := WithUserAgent(twirpHandler) log.Fatalln(http.ListenAndServe(\":9707\", wrap)) } As I said before on Insomnia it works great, but when we make an axios POST request, on browser's console following appears: has been blocked by CORS policy: Response to preflight request doesn’t pass access control check: It does not have HTTP ok status.",
    "question_tags": [
      "rest",
      "google-chrome",
      "go",
      "axios",
      "cors"
    ],
    "question_score": 135,
    "question_view_count": 758226,
    "question_creation_date": 1542192750,
    "answer_id": 53304135,
    "answer_text": "I believe this is the simplest example: header := w.Header() header.Add(\"Access-Control-Allow-Origin\", \"*\") header.Add(\"Access-Control-Allow-Methods\", \"DELETE, POST, GET, OPTIONS\") header.Add(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization, X-Requested-With\") You can also add a header for Access-Control-Max-Age and of course you can allow any headers and methods that you wish. Finally you want to respond to the initial request: if r.Method == \"OPTIONS\" { w.WriteHeader(http.StatusOK) return } Edit (June 2019): We now use gorilla for this. Their stuff is more actively maintained and they have been doing this for a really long time. Leaving the link to the old one, just in case. Old Middleware Recommendation below: Of course it would probably be easier to just use middleware for this. I don't think I've used it, but this one seems to come highly recommended.",
    "answer_score": 82,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 126,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      82,
      135,
      758226,
      126,
      -220196982
    ]
  },
  {
    "question_id": 56870661,
    "question_url": "https://stackoverflow.com/questions/56870661/angular-7-2-1-es6-class-referenceerror-cannot-access-x-before-initializatio",
    "question_title": "Angular: 7.2.1 ES6 class ReferenceError : Cannot access &#39;X&#39; before initialization",
    "question_text": "I'm having the following TypeScript class export class Vehicule extends TrackableEntity { vehiculeId: number; constructor() { super(); return super.proxify(this); } } my typescript target in tsconfig.json is configured as es6: \"compilerOptions\": { \"module\": \"es2015\", \"moduleResolution\": \"node\", \"emitDecoratorMetadata\": true, \"experimentalDecorators\": true, \"target\": \"es6\", } At runtime, here in Chrome, the code is failing with: ReferenceError: Cannot access 'Vehicule' before initialization at Module.Vehicule (https://localhost:44338/src-app-components-dispositifsDATI-dispositifsDATI-module.js:10559:100) at Module../src/app/domain/models/VehiculeGpsBoxInfo.ts (https://localhost:44338/src-app-components-dispositifsDATI-dispositifsDATI-module.js:11156:69) at __webpack_require__ (https://localhost:44338/runtime.js:84:30) at Module../src/app/domain/models/Vehicule.ts (https://localhost:44338/src-app-components-dispositifsDATI-dispositifsDATI-module.js:10571:78) at __webpack_require__ (https://localhost:44338/runtime.js:84:30) at Module../src/app/components/dispositifsDATI/mainDATI/listDATI/listDATI.component.ts (https://localhost:44338/src-app-components-dispositifsDATI-dispositifsDATI-module.js:6447:82) at __webpack_require__ (https://localhost:44338/runtime.js:84:30) at Module../src/app/components/dispositifsDATI/index.ts (https://localhost:44338/src-app-components-dispositifsDATI-dispositifsDATI-module.js:3053:95) at __webpack_require__ (https://localhost:44338/runtime.js:84:30) at Module../src/app/components/dispositifsDATI/dispositifsDATI.routes.ts (https://localhost:44338/src-app-components-dispositifsDATI-dispositifsDATI-module.js:2982:64) I needed to change es5 to es6 to solve this other problem . EDIT: The VehiculeGpsBoxInfo.ts file is importing Vehicule like this: import { Vehicule } from \"./Vehicule\"; EDIT 2: I vould say that this may be webpack related, the way that modules are exported/imported in the genrated modules. EDIT 3: After further research, this seems to have nothing to do with the code shown above. Started a new question about webpack and ES6 .",
    "question_tags": [
      "javascript",
      "angular",
      "typescript",
      "webpack",
      "es6-class"
    ],
    "question_score": 93,
    "question_view_count": 170151,
    "question_creation_date": 1562158519,
    "answer_id": 59424454,
    "answer_text": "You're probably running into this Angular issue: https://github.com/angular/angular-cli/issues/15077 . From that issue: Hi, is there a reason why you need emitDecoratorMetadata to be true? This TypeScript option has a fundamental design limitation with ES2015+ code and is best avoided when targeting such output. As such this is an issue with TypeScript itself and not Angular. Angular 8+ no longer requires the option. It was also previously only required for JIT mode which is typically only used in development. The solution is to set \"emitDecoratorMetadata\": false in your tsconfig.json file. Side note: I must say, given that previous versions of the Angular CLI automatically added emitDecoratorMetadata: true , and there's no reason I can see why a dev should know that emitDecoratorMetadata should now be false , it's pretty horrible that the Angular team basically said \"this isn't our problem\" and closed the issue without action. This could have been easily \"fixed\" by adding some better documentation (as pointed out by someone in the linked issue).",
    "answer_score": 81,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 165,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      81,
      93,
      170151,
      165,
      -200231203
    ]
  },
  {
    "question_id": 65495912,
    "question_url": "https://stackoverflow.com/questions/65495912/storybook-tailwind-how-should-i-add-tailwind-to-storybook",
    "question_title": "Storybook-tailwind. How should I add tailwind to storybook",
    "question_text": "I want to add tailwind to storybook. So that Stories will render just like it will render on web. I used create-react-app project-name --template typescript to create the project. Then to install the tailwind I followed this https://tailwindcss.com/docs/guides/create-react-app instruction from the documentation of tailwind. Once I finished it I ran the code npm sb init . Which made sure that storybook ran. Now I need to tell storybook to use tailwindcss for styling. But I have no idea how. Every other answer I saw tells to edit postcss.config.js files. But I followed this https://tailwindcss.com/docs/guides/create-react-app documentation where I didnt even have to create postcss.config.js file. So I am confused to what to do now. For clarity I will include some configuration file below. craco.config.js module.exports = { style: { postcss: { plugins: [ require('tailwindcss'), require('autoprefixer'), ], }, }, } .storybook/preview.js import \"../src/index.css\" export const parameters = { actions: { argTypesRegex: \"^on[A-Z].*\" }, } .storybook/main.js module.exports = { \"stories\": [ \"../src/**/*.stories.mdx\", \"../src/**/*.stories.@(js|jsx|ts|tsx)\" ], \"addons\": [ \"@storybook/addon-links\", \"@storybook/addon-essentials\", \"@storybook/preset-create-react-app\" ] } src/index.css @tailwind base; @tailwind components; @tailwind utilities; tailwind.config.js module.exports = { purge: ['./src/**/*.{js,jsx,ts,tsx}', './public/index.html'], darkMode: false, // or 'media' or 'class' theme: { extend: {}, }, variants: { extend: {}, }, plugins: [], } package.json `{ \"name\": \"memory\", \"version\": \"0.1.0\", \"private\": true, \"dependencies\": { \"@craco/craco\": \"^6.0.0\", \"@tailwindcss/postcss7-compat\": \"^2.0.2\", \"@testing-library/jest-dom\": \"^5.11.4\", \"@testing-library/react\": \"^11.1.0\", \"@testing-library/user-event\": \"^12.1.10\", \"@types/jest\": \"^26.0.15\", \"@types/node\": \"^12.0.0\", \"@types/react\": \"^16.14.2\", \"@types/react-dom\": \"^16.9.8\", \"autoprefixer\": \"^9.8.6\", \"postcss\": \"^7.0.35\", \"react\": \"^17.0.1\", \"react-dom\": \"^17.0.1\", \"react-scripts\": \"4.0.1\", \"tailwindcss\": \"npm:@tailwindcss/postcss7-compat@^2.0.2\", \"typescript\": \"^4.0.3\", \"web-vitals\": \"^0.2.4\" }, \"scripts\": { \"start\": \"craco start\", \"build\": \"craco build\", \"test\": \"craco test\", \"eject\": \"react-scripts eject\", \"storybook\": \"start-storybook -p 6006 -s public\", \"build-storybook\": \"build-storybook -s public\" }, \"eslintConfig\": { \"extends\": [ \"react-app\", \"react-app/jest\" ] }, \"browserslist\": { \"production\": [ \">0.2%\", \"not dead\", \"not op_mini all\" ], \"development\": [ \"last 1 chrome version\", \"last 1 firefox version\", \"last 1 safari version\" ] }, \"devDependencies\": { \"@storybook/addon-actions\": \"^6.1.11\", \"@storybook/addon-essentials\": \"^6.1.11\", \"@storybook/addon-links\": \"^6.1.11\", \"@storybook/node-logger\": \"^6.1.11\", \"@storybook/preset-create-react-app\": \"^3.1.5\", \"@storybook/react\": \"^6.1.11\" } } tsconfig.json { \"compilerOptions\": { \"target\": \"es5\", \"lib\": [ \"dom\", \"dom.iterable\", \"esnext\" ], \"allowJs\": true, \"skipLibCheck\": true, \"esModuleInterop\": true, \"allowSyntheticDefaultImports\": true, \"strict\": true, \"forceConsistentCasingInFileNames\": true, \"noFallthroughCasesInSwitch\": true, \"module\": \"esnext\", \"moduleResolution\": \"node\", \"resolveJsonModule\": true, \"isolatedModules\": true, \"noEmit\": true, \"jsx\": \"react-jsx\" }, \"include\": [ \"src\" ] }",
    "question_tags": [
      "reactjs",
      "typescript",
      "webpack",
      "tailwind-css",
      "storybook"
    ],
    "question_score": 87,
    "question_view_count": 65201,
    "question_creation_date": 1609261484,
    "answer_id": 68757745,
    "answer_text": "Storybook recommends using the @storybook/addon-postcss for customizing the postCSS config from now on (instead of relying on customizing the postcss-loader ): Add the postCSS addon to your installation npm i -D @storybook/addon-postcss # or yarn add -D @storybook/addon-postcss Create the postcss.config.js in the project root // postcss.config.js module.exports = { plugins: { tailwindcss: {}, autoprefixer: {}, } } Add the plugin to your .storybook/main.js // .storybook/main.js module.exports = { ... addons: [ ... { name: '@storybook/addon-postcss', options: { cssLoaderOptions: { // When you have splitted your css over multiple files // and use @import('./other-styles.css') importLoaders: 1, }, postcssLoaderOptions: { // When using postCSS 8 implementation: require('postcss'), }, }, }, ], }; Import your css file in the .storybook/preview.js // .storybook/preview.js import '../src/styles.css';",
    "answer_score": 80,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 122,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      80,
      87,
      65201,
      122,
      -153128238
    ]
  },
  {
    "question_id": 62807717,
    "question_url": "https://stackoverflow.com/questions/62807717/how-can-i-solve-postgresql-scram-authentication-problem",
    "question_title": "How can I solve Postgresql SCRAM authentication problem?",
    "question_text": "I am getting an error after moving the project to production. The error is as follows while running with production server pg_connect(): Unable to connect to PostgreSQL server: SCRAM authentication requires libpq version 10 or above. Here is my PostgreSQL version: Development Version : PostgreSQL 11.5 on x86_64-pc-linux-gnu, compiled by gcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-36), 64-bit Production Version : PostgreSQL 11.5 (EnterpriseDB Advanced Server 11.5.12) on x86_64-pc-linux-gnu, compiled by gcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-36), 64-bit",
    "question_tags": [
      "postgresql",
      "authentication",
      "libpq"
    ],
    "question_score": 87,
    "question_view_count": 256876,
    "question_creation_date": 1594270837,
    "answer_id": 62808487,
    "answer_text": "Your application uses an API that is linked with the PostgreSQL client C library libpq . The version of that library must be 9.6 or older, and SCRAM authentication was introduced in v10. Upgrade libpq on the application end and try again. If you don't need scram-sha-256 authentication, you can revert to md5 : set password_encryption = md5 in postgresql.conf change the authentication method to md5 in pg_hba.conf reload PostgreSQL change the password of the user to get an MD5 encrypted password",
    "answer_score": 59,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 82,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      59,
      87,
      256876,
      82,
      -168118873
    ]
  },
  {
    "question_id": 54904746,
    "question_url": "https://stackoverflow.com/questions/54904746/scrolling-list-in-vuetify",
    "question_title": "scrolling list in Vuetify",
    "question_text": "Here's my Vuetify code for using list: <v-list> <v-list-tile v-for=\"user in users\" :key=\"user.id\" avatar @click=\"\" > <v-list-tile-content> <v-list-tile-title v-text=\"user.name\"></v-list-tile-title> </v-list-tile-content> <v-btn icon> <v-icon>edit</v-icon> </v-btn> </v-list-tile> </v-list> The problem is, that I have over 100 users and the list is not scrollable by default. Is there any trait that helps with it?",
    "question_tags": [
      "javascript",
      "css",
      "vue.js",
      "frontend",
      "vuetify.js"
    ],
    "question_score": 25,
    "question_view_count": 42871,
    "question_creation_date": 1551267899,
    "answer_id": 54919449,
    "answer_text": "I achieved this by giving the style of max-height: 100px and adding vuetify class overflow-y-auto to <v-list></v-list> For eg: <v-list style=\"max-height: 100px\" class=\"overflow-y-auto\" > <template v-for=\"user in users\" > <v-list-tile :key=\"user.id\" avatar @click=\"\" > <v-list-tile-content> <v-list-tile-title v-text=\"user.name\"></v-list-tile-title> </v-list-tile-content> <v-btn icon> <v-icon>edit</v-icon> </v-btn> </v-list-tile> </template> </v-list>",
    "answer_score": 59,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 45,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      59,
      25,
      42871,
      45,
      -211121842
    ]
  },
  {
    "question_id": 72233594,
    "question_url": "https://stackoverflow.com/questions/72233594/stripe-api-no-valid-payment-method-types-for-this-payment-intent",
    "question_title": "Stripe API &quot;No valid payment method types for this Payment Intent.&quot;",
    "question_text": "As you can imagine I'm currently setting up the payment API with using Stripe. Problem is, I've never done such thing before and am following the docs pretty much one by one. So I require stripe using (100% the right!) key. const stripe = require(\"stripe\")( \"keyhere\" ); create the intent in a method... const paymentIntent = stripe.paymentIntents.create({ amount: process.env.AUDIT_PRICE, currency: \"eur\", automatic_payment_methods: { enabled: true }, }); call that method on a certain express route: exports.createNewCashOrder = async (req, res) => { const intent = await paymentIntent(); res.json({ client_secret: intent.client_secret }); }; The rest is irrelevant for now, since my backend server doesn't even start on localhost. Actually it's live for like 0.001 seconds and than crashes with this error: StripeInvalidRequestError: No valid payment method types for this Payment Intent. Please ensure that you have activated payment methods compatible with your chosen currency in your dashboard It also sends back a large error object, where at the end it says that pretty much everything (also the payment methods) are undefined. Now on my dashboard, I did activate card payment, but it obviously somehow does not recognize it... Any ideas what I've done wrong? Glad for any help!",
    "question_tags": [
      "express",
      "stripe-payments",
      "backend"
    ],
    "question_score": 24,
    "question_view_count": 20935,
    "question_creation_date": 1652463979,
    "answer_id": 72234077,
    "answer_text": "This is just a hunch but is your amount too small? https://stripe.com/docs/api/payment_intents/create#create_payment_intent-amount If that is the case you get this error because you specified automatic_payment_methods: {enabled: true} Stripe is looking for a payment method that can handle an amount lower than the minimum so that's why you get this error. Try specifying a payment method and see if you get a different error message that indicates the amount is too low. Remember the docs state the amount is represented as A positive integer representing how much to charge in the smallest currency unit (e.g., 100 cents to charge $1.00 or 100 to charge ¥100, a zero-decimal currency). Update As of the Stripe API version 2023-08-16 automatic_payment_methods are enabled by default. This means you may hit this error without specifying automatic_payment_methods in your request to the Payment Intent API if you are on the latest version.",
    "answer_score": 58,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 145,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      58,
      24,
      20935,
      145,
      -109925845
    ]
  },
  {
    "question_id": 54622621,
    "question_url": "https://stackoverflow.com/questions/54622621/what-does-the-shims-tsx-d-ts-file-do-in-a-vue-typescript-project",
    "question_title": "What does the shims-tsx.d.ts file do in a Vue-Typescript project?",
    "question_text": "When creating a Vue project with typescript, two declaration files are included: shims-vue.d.ts and shims.tsx.d.ts . //shims-vue.d.ts declare module \"*.vue\" { import Vue from 'vue'; export default Vue; } And: //shims-tsx.d.ts import Vue, { VNode } from 'vue'; declare global { namespace JSX { // tslint:disable no-empty-interface interface Element extends VNode {} // tslint:disable no-empty-interface interface ElementClass extends Vue {} interface IntrinsicElements { [elem: string]: any; } } } While creating a small project (without the Vue CLI) I forgot to include the second ( shims.tsx.d.ts ) and my project compiles and runs as expected (without error). I found this post about it: https://github.com/vuejs/vue-cli/issues/1198 , but was hoping for more clarification. I am just curious what this file does and why it is included? In other words, what I would have to do to \"break\" my app if I don't include this declaration file. Thanks!",
    "question_tags": [
      "typescript",
      "vue.js"
    ],
    "question_score": 92,
    "question_view_count": 78609,
    "question_creation_date": 1549845639,
    "answer_id": 54622972,
    "answer_text": "The first file helps your IDE to understand what a file ending in .vue is The second file allows you to use .tsx files while enabling jsx syntax support in your IDE to write JSX-style typescript code.",
    "answer_score": 56,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 37,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      56,
      92,
      78609,
      37,
      -212544156
    ]
  },
  {
    "question_id": 62373473,
    "question_url": "https://stackoverflow.com/questions/62373473/how-to-organize-types-definitions-in-a-react-project-using-typescript",
    "question_title": "How to organize types definitions in a React project using Typescript",
    "question_text": "I have been using typescript in my projects for a month and there're some doubts that I'm struggling with. Is there a pattern/recommended way to organize types in project architecture? Let's suppose we have a context with the following interfaces: export type ToastMessageType = 'info' | 'success' | 'error'; export interface ToastMessageData { id: string; title: string; description: string; type: ToastMessageType; } export interface ToastsStateContextData { messages: ToastMessageData[]; } export interface ToastsDispatchContextData { addToast: (message: Omit<ToastMessageData, 'id'>) => void; removeToast: (id: string) => void; } And there's another component called ToastMessage that receives a message prop and has the type of ToastMessageData : interface ToastMessageProps { message: ToastMessageData; style: React.CSSProperties; } const ToastMessage: React.FC<ToastMessageProps> = ({ message, style }) => { I fell that it is weird to import an interface from a context inside of a component, so there's something wrong going on. What do you guys recommend?",
    "question_tags": [
      "reactjs",
      "typescript",
      "frontend"
    ],
    "question_score": 38,
    "question_view_count": 34223,
    "question_creation_date": 1592142924,
    "answer_id": 62373785,
    "answer_text": "Generally, if the type alias/interface is specific only for the component, it is alright to write it within the same .tsx file, as you can consider them to be used \"locally\" for that component. However, there can be scenarios when you need to reuse that type alias/interface across other components, or other helper files (For instance, the interface from component A extends the interface from component B). For this, it will be better to store the type alias/interface in a separate file. For instance, you could have a shared directly that houses all the common type aliases/interfaces that are to be exported. - pages - ComponentA - ComponentB - shared - interfaces - messages.interface.ts - geo.interface.ts // etc - services - helper // etc The main advantage of doing so, is that you will be able to prevent the risk of cyclic dependencies , especially when you find out that you are writing code whereby multiple components are exporting and importing stuff from each other.",
    "answer_score": 55,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 165,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      55,
      38,
      34223,
      165,
      -170246817
    ]
  },
  {
    "question_id": 63423384,
    "question_url": "https://stackoverflow.com/questions/63423384/you-may-need-an-additional-loader-to-handle-the-result-of-these-loaders",
    "question_title": "&quot;You may need an additional loader to handle the result of these loaders.&quot;",
    "question_text": "I am currently trying to build a State Management Library for ReactJs. But as soon as I implement it into my React project (created with create-react-app ), it starts dropping this error: Failed to compile. path/to/agile/dist/runtime.js 116:104 Module parse failed: Unexpected token (116:104) File was processed with these loaders: * ./node_modules/babel-loader/lib/index.js You may need an additional loader to handle the result of these loaders. | if (subscriptionContainer instanceof sub_1.CallbackContainer) subscriptionContainer.callback(); // If Component based subscription call the updateMethod which every framework has to define | > if (subscriptionContainer instanceof sub_1.ComponentContainer) if (this.agileInstance.integration?.updateMethod) this.agileInstance.integration?.updateMethod(subscriptionContainer.component, Runtime.formatChangedPropKeys(subscriptionContainer)); | }); // Log Job | If I comment out the highlighted lines of code mentioned in the error, it jumps to another point and complains there. But it can't be a syntax error because then TypeScript would complain in the IDE, too. How the tool works: At the start you have to define a framework, in this case React. Then you can create a State and subscribe this State to a React Functional Component via a Hook. The Hook used to bind the State to the React Component simply creates a callback which triggers a re-render (via mutating a useReducer ) and assigns this callback to the subscribed State. If you want to know more checkout this repo: https://github.com/agile-ts/agile Dependencies: Third Party State Management library: \"dependencies\": { \"@types/chai\": \"^4.2.12\", \"@types/mocha\": \"^8.0.2\", \"chai\": \"^4.2.0\", \"eslint-config-prettier\": \"^6.11.0\", \"mocha\": \"^8.1.1\", \"prettier\": \"2.0.5\", \"ts-node\": \"^8.10.2\", \"tsc-watch\": \"^4.1.0\", \"tslib\": \"^2.0.0\", \"typescript\": \"^3.9.7\" } Node: v14.8.0 React Project: \"dependencies\": { \"@testing-library/jest-dom\": \"^4.2.4\", \"@testing-library/react\": \"^9.3.2\", \"@testing-library/user-event\": \"^7.1.2\", \"@types/jest\": \"^24.0.0\", \"@types/node\": \"^12.0.0\", \"@types/react\": \"^16.9.0\", \"@types/react-dom\": \"^16.9.0\", \"react\": \"^16.13.1\", \"react-dom\": \"^16.13.1\", \"react-scripts\": \"3.4.3\", \"typescript\": \"~3.7.2\", \"agile-framework\": \"file:../../\" }, React: 16.13.1 NPM: 6.14.7",
    "question_tags": [
      "javascript",
      "reactjs",
      "typescript",
      "npm",
      "webpack"
    ],
    "question_score": 98,
    "question_view_count": 295257,
    "question_creation_date": 1597474064,
    "answer_id": 63423634,
    "answer_text": "The problem is that you're emitting ES2020 to dist/ . If you look at the line it's complaining about: if (subscriptionContainer instanceof sub_1.ComponentContainer) if (this.agileInstance.integration?.updateMethod) this.agileInstance.integration?.updateMethod(subscriptionContainer.component, Runtime.formatChangedPropKeys(subscriptionContainer)); // ^^ // ^^ you can see it's using the optional chaining operator in the emitted code. Consumers of your library will therefore need to have appropriate configuration to handle this kind of code. Your example consumer, the CRA app, is using Babel; although the setup does have the transform for optional chaining, it's only run on the source code for the React app itself, not its dependencies (including your library). One option for fixing it is to emit less modern code, which will reduce the amount of configuration needed by consumers. For example, if you target ES6 using the following settings in tsconfig.json : { \"target\": \"ES6\", \"lib\": [\"DOM\", \"ES6\", \"DOM.Iterable\", \"ScriptHost\", \"ES2016.Array.Include\"], // ... } the React app can at least start without you needing to change your source code.",
    "answer_score": 49,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 159,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      49,
      98,
      295257,
      159,
      -164915658
    ]
  },
  {
    "question_id": 58191969,
    "question_url": "https://stackoverflow.com/questions/58191969/how-to-fix-set-samesite-cookie-to-none-warning",
    "question_title": "How to fix &quot;set SameSite cookie to none&quot; warning?",
    "question_text": "I created a chrome extension and from popup.js I called PHP script (Using Xhttprequest) that reads the cookie. Like this: $cookie_name = \"mycookie\"; if(isset($_COOKIE[$cookie_name])) { echo $_COOKIE[$cookie_name]; } else{ echo \"nocookie\"; } But I'm getting this warning at errors in extensions. A cookie associated with a cross-site resource at (Here is my domain) was set without the SameSite attribute. A future release of Chrome will only deliver cookies with cross-site requests if they are set with SameSite=None and Secure . You can review cookies in developer tools under Application>Storage>Cookies and see more details at https://www.chromestatus.com/feature/5088147346030592 and https://www.chromestatus.com/feature/5633521622188032 . I tried to create a cookie like this but it didn't help. setcookie($cookie_name,$cookie_value, time() + 3600*24, \"/;samesite=None \",\"mydomain.com\", 1); Following instructions from this question.",
    "question_tags": [
      "php",
      "cookies"
    ],
    "question_score": 73,
    "question_view_count": 233801,
    "question_creation_date": 1569962350,
    "answer_id": 58238399,
    "answer_text": "I'm also in a \"trial and error\" for that, but this answer from Google Chrome Labs' GitHub helped me a little. I defined it into my main file and it worked - well, for only one third-party domain. Still making tests, but I'm eager to update this answer with a better solution :) I'm using PHP 7.4 now, and this syntax is working good (Sept 2020): $cookie_options = array( 'expires' => time() + 60*60*24*30, 'path' => '/', 'domain' => '.example.com', // leading dot for compatibility or use subdomain 'secure' => true, // or false 'httponly' => false, // or false 'samesite' => 'None' // None || Lax || Strict ); setcookie('cors-cookie', 'my-site-cookie', $cookie_options); If you have PHP 7.2 or lower (as Robert's answered below): setcookie('key', 'value', time()+(7*24*3600), \"/; SameSite=None; Secure\"); If your host is already updated to PHP 7.3 , you can use (thanks to Mahn's comment): setcookie('cookieName', 'cookieValue', [ 'expires' => time()+(7*24*3600, 'path' => '/', 'domain' => 'example.com', 'samesite' => 'None', 'secure' => true, 'httponly' => true ]); Another thing you can try to check the cookies, is to enable the flag below, which—in their own words—\"will add console warning messages for every single cookie potentially affected by this change\": chrome://flags/#cookie-deprecation-messages See the whole code at: https://github.com/GoogleChromeLabs/samesite-examples/blob/master/php.md , they have the code for same-site-cookies too.",
    "answer_score": 47,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 216,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      47,
      73,
      233801,
      216,
      -192427331
    ]
  },
  {
    "question_id": 74548318,
    "question_url": "https://stackoverflow.com/questions/74548318/how-to-resolve-error-error0308010cdigital-envelope-routinesunsupported-no",
    "question_title": "How to resolve &quot;Error: error:0308010C:digital envelope routines::unsupported&quot; Nodejs 18 error",
    "question_text": "I need help with my NuxtJS application. I recently had ESLint conflicts in the app after I left it for some time without updating (2 months). So after I started working on it, it presented a challenge trying to resolve the ESLint issue. I then had to migrate the project to a newer version of Node and ESLint. After doing this, I solved the conflict issue and my project could install my dependencies, but now the server won't start. Node is now throwing an error that I don't even know how to fix. I don't know if many others are facing this issue after upgrading their versions of Node.js, but it's throwing an error about an unsupported hash function. Here is a screenshot of the terminal error that is preventing my server from starting up: I have resolved all ESLint and syntax errors that came with the migration, so I don't know what else to do. Below is a snippet of my nuxt.config.js file: export default { // Global page headers: https://go.nuxtjs.dev/config-head head: { title: 'heritage-fd', meta: [ { charset: 'utf-8' }, { name: 'viewport', content: 'width=device-width, initial-scale=1' }, { hid: 'description', name: 'description', content: '' }, { name: 'format-detection', content: 'telephone=no' } ], link: [ { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' } ], script: [ { src: '~/static/css/bootstrap.min.js', }, ], }, // Global CSS: https://go.nuxtjs.dev/config-css css: [ {src: '~/static/css/bootstrap.min.css', lang: 'scss'}, {src: '~/assets/scss/custom.scss', lang: 'scss'}, {src: \"~layouts/global.css\"}, {src: '~/static/css/style.css', lang: 'scss'}, {src: '~/assets/css/main.css'} ], // Plugins to run before rendering page: https://go.nuxtjs.dev/config-plugins plugins: [ \"~/plugins/vee-validate.js\", { src: '~/plugins/persistedState.client.js', ssr: false } ], // Auto import components: https://go.nuxtjs.dev/config-components components: true, // Modules for dev and build (recommended): https://go.nuxtjs.dev/config-modules buildModules: [ // https://go.nuxtjs.dev/eslint '@nuxtjs/eslint-module', 'nuxt-gsap-module', '@nuxtjs/fontawesome', ], // Modules: https://go.nuxtjs.dev/config-modules modules: [ // https://go.nuxtjs.dev/axios '@nuxtjs/axios', // https://go.nuxtjs.dev/pwa '@nuxtjs/pwa', '@nuxtjs/auth-next', 'nuxt-vue-select' ], // Axios module configuration: https://go.nuxtjs.dev/config-axios axios: { // Workaround to avoid enforcing hard-coded localhost:3000: https://github.com/nuxt-community/axios-module/issues/308 baseURL: 'http://localhost:8000/api/', }, // PWA module configuration: https://go.nuxtjs.dev/pwa pwa: { manifest: { lang: 'en', }, }, // Build Configuration: https://go.nuxtjs.dev/config-build build: { transpile: [\"vee-validate/dist/rules\"], vendor: [\"vue-tables-2\"] }, }",
    "question_tags": [
      "javascript",
      "node.js",
      "vue.js",
      "frontend",
      "nuxt.js"
    ],
    "question_score": 45,
    "question_view_count": 174455,
    "question_creation_date": 1669213354,
    "answer_id": 74562544,
    "answer_text": "Concerning this error, after doing some much research, i finally discovered that the whole error comes with the nodejs upgrade to version v18.12.1, so i advice everyone facing this same issue who just recently upgraded tio node v18.12.1 to downgrade back to node v16.0.0, if u need help with this , you can use nvm . some steps are outlined below, with some link to resources ` Download and install nvm Follow instructions here Install Nodejs v16.0.0 nvm install 16.0.0 Uninstall nodejs v18.12.1 nvm uninstall 18.12.1 or your own version of node I truly this helps someone as it did for me, I know the pains that come with framework errors. Please comment if you need further assistance. thank you.",
    "answer_score": 47,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 120,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      47,
      45,
      174455,
      120,
      -93176387
    ]
  },
  {
    "question_id": 53715465,
    "question_url": "https://stackoverflow.com/questions/53715465/can-i-set-state-inside-a-useeffect-hook",
    "question_title": "Can I set state inside a useEffect hook",
    "question_text": "Lets say I have some state that is dependent on some other state (eg when A changes I want B to change). Is it appropriate to create a hook that observes A and sets B inside the useEffect hook? Will the effects cascade such that, when I click the button, the first effect will fire, causing b to change, causing the second effect to fire, before the next render? Are there any performance downsides to structuring code like this? let MyComponent = props => { let [a, setA] = useState(1) let [b, setB] = useState(2) useEffect( () => { if (/*some stuff is true*/) { setB(3) } }, [a], ) useEffect( () => { // do some stuff }, [b], ) return ( <button onClick={() => { setA(5) }} > click me </button> ) }",
    "question_tags": [
      "javascript",
      "reactjs",
      "react-hooks"
    ],
    "question_score": 297,
    "question_view_count": 460453,
    "question_creation_date": 1544486016,
    "answer_id": 53717795,
    "answer_text": "Effects are always executed after the render phase is completed even if you setState inside the one effect, another effect will read the updated state and take action on it only after the render phase. Having said that its probably better to take both actions in the same effect unless there is a possibility that b can change due to reasons other than changing a in which case too you would want to execute the same logic",
    "answer_score": 46,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 77,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      46,
      297,
      460453,
      77,
      -217903674
    ]
  },
  {
    "question_id": 55316490,
    "question_url": "https://stackoverflow.com/questions/55316490/vue-best-practice-for-calling-a-method-in-a-child-component",
    "question_title": "Vue best practice for calling a method in a child component",
    "question_text": "I have been reading lots of articles about this, and it seems that there are multiple ways to do this with many authors advising against some implementations. To make this simple I have created a really simple version of what I would like to achieve. I have a parent Vue, parent.vue . It has a button: <template> <div> <button v-on:click=\"XXXXX call method in child XXXX\">Say Hello</button> </div> </template> In the child Vue, child.vue I have a method with a function: methods: { sayHello() { alert('hello'); } } I would like to call the sayHello() function when I click the button in the parent. I am looking for the best practice way to do this. Suggestions I have seen include Event Bus, and Child Component Refs and props, etc. What would be the simplest way to just execute the function in my method? Apologies, this does seem extremely simple, but I have really tried to do some research. Thanks!",
    "question_tags": [
      "vue.js"
    ],
    "question_score": 112,
    "question_view_count": 132430,
    "question_creation_date": 1553362197,
    "answer_id": 55318187,
    "answer_text": "You can create a ref and access the methods, but this is not recommended. You shouldn't rely on the internal structure of a component. The reason for this is that you'll tightly couple your components and one of the main reasons to create components is to loosely couple them. You should rely on the contract (interface in some frameworks/languages) to achieve this. The contract in Vue relies on the fact that parents communicate with children via props and children communicate with parents via events . There are also at least 2 other methods to communicate when you want to communicate between components that aren't parent/child: the event bus vuex I'll describe now how to use a prop: Define it on your child component props: ['testProp'], methods: { sayHello() { alert('hello'); } } Define a trigger data on the parent component data () { return { trigger: 0 } } Use the prop on the parent component <template> <div> <childComponent :testProp=\"trigger\"/> </div> </template> Watch testProp in the child component and call sayHello watch: { testProp: function(newVal, oldVal) { this.sayHello() } } Update trigger from the parent component. Make sure that you always change the value of trigger , otherwise the watch won't fire. One way of doing this is to increment trigger, or toggle it from a truthy value to a falsy one ( this.trigger = !this.trigger )",
    "answer_score": 45,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 227,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      45,
      112,
      132430,
      227,
      -209027598
    ]
  },
  {
    "question_id": 60041854,
    "question_url": "https://stackoverflow.com/questions/60041854/what-is-the-correct-way-to-setup-multiple-logically-organized-sub-folders-in-a-t",
    "question_title": "What is the correct way to setup multiple logically organized sub folders in a terraform repo?",
    "question_text": "Currently I am working on a infrastructure in azure that comprises of the following: resource group application gateway app service etc everything I have is in one single main.tf file which I know was a mistake however I wanted to start from there. I am currently trying to move each section into its own sub folder in my repo. Which would look something like this: terraform-repo/ ├── applicationGateway/ │ ├── main.tf │ ├── vars.tf ├── appService/ │ ├── main.tf │ └── vars.tf ├── main.tf └── vars.tfvars However when I create this while trying to move over from the single file structure I get issues with my remote state where it wants to delete anything that isn't a part of the currently worked on sub folder. For example if I wanted to run terraform apply applicationGateway I will get the following: # azurerm_virtual_network.prd_vn will be destroyed Plan: 0 to add, 2 to change, 9 to destroy. What is the correct way to setup multiple logically organized sub folders in a terraform repo? Or do I have to destroy my current environment to get it to be setup like this ?",
    "question_tags": [
      "directory",
      "structure",
      "terraform",
      "backend",
      "devops"
    ],
    "question_score": 43,
    "question_view_count": 76346,
    "question_creation_date": 1580742184,
    "answer_id": 60043818,
    "answer_text": "You are seeing this issue because terraform ignores subfolders, so those resources are not being included at all anymore. You would need to configure the subfolders to be Terraform Modules , and then include those modules in your root main.tf",
    "answer_score": 45,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 40,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      45,
      43,
      76346,
      40,
      -181647640
    ]
  },
  {
    "question_id": 63067555,
    "question_url": "https://stackoverflow.com/questions/63067555/how-to-make-an-import-shortcut-alias-in-create-react-app",
    "question_title": "How to make an import shortcut/alias in create-react-app?",
    "question_text": "How to set import shortcuts/aliases in create-react-app? From this: import { Layout } from '../../Components/Layout' to this: import { Layout } from '@Components/Layout' I have a webpack 4.42.0 version. I don't have a webpack.config.js file in the root directory. I've tried to create one myself with this code inside: const path = require('path') module.exports = { resolve: { alias: { '@': path.resolve(__dirname, 'src/'), } } }; But it doesn't seem to work. I've seen the NODE_PATH=. variant in .env file. But I believe, it is deprecated - better not to use. And also, I have a posstcss.config.js file. Because I've installed the TailwindCss and I import the CSS library there. I've tried to paste the same code there, but it also didn't work.",
    "question_tags": [
      "javascript",
      "reactjs",
      "webpack",
      "alias",
      "create-react-app"
    ],
    "question_score": 90,
    "question_view_count": 112974,
    "question_creation_date": 1595569563,
    "answer_id": 63068531,
    "answer_text": "// Absolute path: paths which are relative to a specific path import Input from 'components' // src/components import UsersUtils from 'page/users/utils' // src/page/users/utils // Alias path: other naming to specific path import Input from '@components' // src/components import UsersUtils from '@userUtils' // src/page/users/utils In order for webpack's aliases to work, you need to configure the default webpack.config.js of create-react-app . The official way is to use the eject script . But the recommended way is to use a library without ejecting (find the most modern library for that). VSCode IntelliSense In addition, you should add jsconfig.json file for path IntelliSense in VSCode (or tsconfig.json ), see followup question . Now such code with IntelliSense will work: // NOTE THAT THOSE ARE ALIASES, NOT ABSOLUTE PATHS // AutoComplete and redirection works import {ColorBox} from '@atoms'; import {RECOIL_STATE} from '@state';",
    "answer_score": 44,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 138,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      44,
      90,
      112974,
      138,
      -166820159
    ]
  },
  {
    "question_id": 54340240,
    "question_url": "https://stackoverflow.com/questions/54340240/create-react-app-build-uncaught-syntaxerror-unexpected-token",
    "question_title": "Create-React-App build - &quot;Uncaught SyntaxError: Unexpected token &lt;&quot;",
    "question_text": "I realize this question has been asked multiple times but nothing has worked for me... I'm trying to create a static build of a create-react-app project but I'm getting the following errors: Uncaught SyntaxError: Unexpected token < 1.ca81c833.chunk.js:1 Uncaught SyntaxError: Unexpected token < main.7ced8661.chunk.js:1 Due to these files being minified, I'm not sure where to begin in debugging them. Per other SO responses, here are some things I've tried: //Original index.html file, which gets included in the built file: <script type=\"text/babel\" src=\"https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.24/browser.min.js\"></script> //package.json \"babel-preset-es2015\": \"^6.24.1\", \"babel-preset-react\": \"^6.24.1\", //.babelrc file { \"presets\": [\"react\", \"es2015\", \"stage-1\"] } Not sure if this is relevant, but I have this on my express server, which I believe is standard: if (process.env.NODE_ENV === \"production\") { app.use(express.static('client/built')); app.get(\"*\", (req, res) => { res.sendFile(require('path') .resolve(__dirname, 'client', 'build', 'index.html')); }) } Assuming it's actually a JSX issue, the whole thing is very confusing - shouldn't create-react-app be handling JSX automatically? UPDATE : I just posted this question but already have a relevant update. I'm able to serve the page statically through pm2 by running pm2 serve build so I think the issue may be with my server configuration.",
    "question_tags": [
      "reactjs",
      "webpack",
      "jsx",
      "create-react-app"
    ],
    "question_score": 78,
    "question_view_count": 99091,
    "question_creation_date": 1548309691,
    "answer_id": 54375564,
    "answer_text": "I ended up finding an answer here: https://github.com/facebook/create-react-app/issues/1812 I trimmed down the full solution from above, but I changed: app.use(express.static('client/build')); app.get(\"*\", (req, res) => { res.sendFile(require('path') .resolve(__dirname, 'client', 'build', 'index.html')); }) to: const root = require('path').join(__dirname, 'client', 'build') app.use(express.static(root)); app.get(\"*\", (req, res) => { res.sendFile('index.html', { root }); }) It's definitely a bit strange to me that the first block didn't work. I assume it has something to do with the relative links in my React project since I do get an index.html file delivered to browser, despite getting the error. Maybe a completely static file would work with the first block, but I'd be interested to know if that's accurate.",
    "answer_score": 39,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 111,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      39,
      78,
      99091,
      111,
      -214080031
    ]
  },
  {
    "question_id": 71957848,
    "question_url": "https://stackoverflow.com/questions/71957848/in-next-js-useeffect-is-run-twice-i-put-an-empty-array-as-the-second-argumen",
    "question_title": "In Next-JS, UseEffect() is run twice. I put an empty array as the second argument, it did not help. How to fix it?",
    "question_text": "In Next-JS, UseEffect() is run twice. I heard that you need to put an empty array as the second argument to fix this in React. In my case, in Next-JS, this does not work. (As far as I know, Next-JS is based on React). I found one way: in next.config.js set reactStrictMode: false. And it works, the UserEffect is called once. But this method does not suit me, because. I need to use React's strict mode. _app.js: import '../styles/globals.css'; import React, { useEffect, useState, useRef } from 'react'; function MyApp({ Component, pageProps }) { if (typeof window !== \"undefined\") { useEffect(() => { console.log('Component Did Mount') //called twice :c }, []) return <Component {...pageProps} /> } export default MyApp",
    "question_tags": [
      "javascript",
      "reactjs",
      "react-hooks",
      "next.js",
      "frontend"
    ],
    "question_score": 21,
    "question_view_count": 27335,
    "question_creation_date": 1650558526,
    "answer_id": 71957974,
    "answer_text": "React.StrictMode is used to help during development, so why are you concerned about the double execution ? By the way the rules of hooks say that you cannot place an hook inside a loop or an if statement. Here are the code examples to address both issues: NextJS to config React's Strict Mode edit next.config.js file module.exports = { reactStrictMode: false, } Move your if statement inside the useEffect hook import { useEffect } from 'react'; function MyApp({ Component, pageProps }) { useEffect(() => { if (typeof window !== \"undefined\") { console.log('Component Did Mount') // called once }, []) return <Component {...pageProps} /> } export default MyApp",
    "answer_score": 38,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 107,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      38,
      21,
      27335,
      107,
      -111831215
    ]
  },
  {
    "question_id": 54839057,
    "question_url": "https://stackoverflow.com/questions/54839057/vscode-showing-cannot-find-module-ts-error-for-vue-import-while-compiling-doe",
    "question_title": "VSCode showing &quot;cannot find module&quot; TS error for .vue import while compiling doesn&#39;t",
    "question_text": "Simply put, vscode is showing this error in a module: Cannot find module '@/components/SidebarToggleIcon' But no such error shows up during compilation. This is a VueJS project and SidebarToggleIcon is a .vue file with TypeScript in the <script lang=\"ts\"> section. This error was showing up before in VSCode and during compilation until I added the @vue/eslint-config-typescript package. Now is just shows up in VSCode. Sidebar.vue <script lang=\"ts\"> // [skip other imports] import SidebarToggleIcon from '@/components/SidebarToggleIcon'; @Component export default class LayoutSidebar extends Vue { get sidebarCollapsed(): boolean { return preferenceModule.sidebarCollapsed; } } </script> SidebarToggleIcon.vue <script lang=\"ts\"> import Vue from 'vue'; import { getModule } from 'vuex-module-decorators'; import Component from \"vue-class-component\"; import PreferencesStore from '@/store/PreferencesStore'; const preferenceModule: PreferencesStore = getModule(PreferencesStore); @Component export default class SidebarToggleIcon extends Vue { get sidebarCollapsed(): boolean { return preferenceModule.sidebarCollapsed; } toggle(){ preferenceModule.ToggleSidebar(); } } </script> Why is this? How do I solve this? Edit: This is not an issue with the @ alias, those resolve correctly (in the screenshot the line above the error uses it, and I use it elsewhere in the project), this error still shows up when using relative paths. My TSConfig has the appropriate \"paths\": { \"@/*\": [\"src/*\"] } item. If this was the issue compiling would also throw this error, which it does not, this is only present in VSCode.",
    "question_tags": [
      "typescript",
      "vue.js",
      "visual-studio-code"
    ],
    "question_score": 137,
    "question_view_count": 222422,
    "question_creation_date": 1550904830,
    "answer_id": 57185919,
    "answer_text": "In the Sidebar.vue file, try to add the \".vue\" extension in import declaration , something like this: import SidebarToggleIcon from '@/components/SidebarToggleIcon.vue';",
    "answer_score": 33,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 21,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      33,
      137,
      222422,
      21,
      -211484965
    ]
  },
  {
    "question_id": 74328100,
    "question_url": "https://stackoverflow.com/questions/74328100/prisma-find-many-and-count-in-one-request",
    "question_title": "Prisma find many and count in one request",
    "question_text": "I have a pagination in my category service, and I have to return obj with total count of categories and data But there's can be some parameters. As example, I should return categories that was created by certain user: async findAll( { onlyParents }: ParamsCategoryDto, user: ITokenPayload | undefined, ): Promise<IFilterRes> { const categories = await this.prisma.category.findMany({ where: { user_id: user?.id, }, }); return { pagination: { total: this.prisma.category.count({ where: { // <- duplicate user_id: user?.id, }, }), }, data: categories, }; } I should duplicate where in both query. Which is not very nice. Is there any option to do it in one request. P.S. I can make some var for where, but in this way I lose typification, which I also don't like.",
    "question_tags": [
      "javascript",
      "backend",
      "prisma"
    ],
    "question_score": 17,
    "question_view_count": 27437,
    "question_creation_date": 1667654953,
    "answer_id": 74334140,
    "answer_text": "This is my example code to acheive it with a single transaction, no duplicate code and not losing type autocomplete import { Prisma } from '@prisma/client'; import { PrismaClient } from '@prisma/client' const prisma = new PrismaClient() const findAll = async (userId: String) => { const query: Prisma.categoriesFindManyArgs = { where: { user_id: userId, } }; const [categories, count] = await prisma.$transaction([ prisma.categories.findMany(query), prisma.categories.count({ where: query.where }) ]); return { pagination: { total: count }, data: categories }; };",
    "answer_score": 31,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 79,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      31,
      17,
      27437,
      79,
      -94734871
    ]
  },
  {
    "question_id": 66739797,
    "question_url": "https://stackoverflow.com/questions/66739797/how-to-handle-a-post-request-in-next-js",
    "question_title": "how to handle a post request in next.js?",
    "question_text": "I want to setup a POST route in my api folder using next.js, And I'm sending the data to the route but I can't parse the data to actually save it in the database. what is the best way to handle POST routes in next.js. particularly parsing the data in JSON format?",
    "question_tags": [
      "javascript",
      "reactjs",
      "next.js",
      "backend"
    ],
    "question_score": 87,
    "question_view_count": 232019,
    "question_creation_date": 1616382119,
    "answer_id": 70263567,
    "answer_text": "As with everything, it depends. In Next.js v12, you do not need JSON.parse(req.body) in the API route as long as you have NOT explicitly set bodyParser: false in the exported configuration for the API route (see https://nextjs.org/docs/api-routes/api-middlewares ). The req.body will be parsed automatically to an object for example if the content-type of the request is application/json . In this case since the content is pre-parsed into a object, trying to run JSON.parse(req.body) in the API will likely throw an error.",
    "answer_score": 30,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 81,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      30,
      87,
      232019,
      81,
      -146007705
    ]
  },
  {
    "question_id": 65762967,
    "question_url": "https://stackoverflow.com/questions/65762967/why-web-servers-still-use-http-1-1-instead-of-http-2",
    "question_title": "Why web servers still use http 1.1 instead of http 2?",
    "question_text": "As a little bit of background, I just finished bootcamp and started going deeper into network and web server in general. After reading through some information regarding OSI model, TCP/IP model, and about HTTP, I found out there's sort of a gap between these theoratical knowledge versus what I do in real life. For instance, I built several projects with server running on node.js. It was until very recent I found them running on HTTP 1.1. All of tutorial course, or other examples I saw utilize HTTP 1.1 instead of HTTP 2. In theory, HTTP2 does a better job at handling larger amount of data and it is indeed more secure than HTTP 1.1. Despite several shortcomings, it seems as though http2 is advanced form of http and have matured over past years. I have hard time understanding why server language (or runtime in case of node.js) still use HTTP 1.1 instead of 2. Can anyone explain?",
    "question_tags": [
      "node.js",
      "http",
      "network-programming",
      "backend",
      "http2"
    ],
    "question_score": 24,
    "question_view_count": 23472,
    "question_creation_date": 1610899964,
    "answer_id": 65924929,
    "answer_text": "TL;DR Many people are not aware of the new change. Alternatively, some people are not affected by these changes that you have mentioned and do not see the need to rewrite their code (especially when HTTP 3.0 is in the works). Take IP addresses for example. IPv6 has been out for a while, and while some people use it, 65% of the internet uses the old technology, IPv4. This is because the old technology works perfectly, and many systems are ancient. (For reference, here is Google's usage graph of IPv6 ). Now, in your case, HTTP 2 vs HTTP 1. Many people don't even know that http2 is out. On my part, I use the standard HTTP module out of convenience. The security flaws you mention do not affect a large amount of people, and with HTTP 3 coming out, why would people switch? I, for one, am going to wait for HTTP 3. However, as time goes on, more and more people will start to adopt the HTTP 2 standards. Also, as many people have noticed, their is a big difference between theory and what you called \"real life usage\". An example of this is Axios, a major request module for the Node.js ecosystem. It is practically unmaintained, has several major issues noted here that don't seem like they will ever be fixed, the build is failing, and has 222 issues that start in 2015, yet at the time I am writing this, 16,434,719 people download it a week. Many people don't see those issues without investigating completely, or the bugs do not effect their usage.",
    "answer_score": 28,
    "answer_is_accepted": true,
    "answer_has_code": false,
    "answer_has_steps": false,
    "answer_word_count": 267,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      28,
      24,
      23472,
      267,
      -151489860
    ]
  },
  {
    "question_id": 69253420,
    "question_url": "https://stackoverflow.com/questions/69253420/text-stroke-webkit-text-stroke-css-problem",
    "question_title": "Text Stroke (-webkit-text-stroke) css Problem",
    "question_text": "I am working on a personal project with NextJs and TailwindCSS. upon finishing the project I used a private navigator to see my progress, but it seems that the stroke is not working as it should, I encounter this in all browsers except Chrome. Here is what i get : Here is the desired behavior : Code: <div className=\"outline-title text-white pb-2 text-5xl font-bold text-center mb-12 mt-8\"> Values &amp; Process </div> Css: .outline-title { color: rgba(0, 0, 0, 0); -webkit-text-stroke: 2px black; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; text-rendering: optimizeLegibility; } Can someone explain or help to fix this. Browser compatibility:",
    "question_tags": [
      "css",
      "sass",
      "next.js",
      "frontend",
      "tailwind-css"
    ],
    "question_score": 18,
    "question_view_count": 26099,
    "question_creation_date": 1632136207,
    "answer_id": 69937834,
    "answer_text": "-webkit-text-stroke doesn't work well with variable fonts Quickfix/Update 2024: apply paint-order to HTML text All credits to HyoukJoon Lee's answer here: \"CSS Font Border?\" . Admittedly, it is not quite clear from the W3C specs why we can apply the SVG paint-order property to HTML text elements as well as described on mdn docs . We won't need duplicated text via pseudo-elements. All major rendering engines (Firefox/gecko, Chromium/blink, Safari/webkit) seem to support this property flawlessly. @font-face { font-family: 'Roboto Flex'; font-style: normal; font-weight: 100 1000; font-stretch: 0% 200%; src: url(https://fonts.gstatic.com/s/robotoflex/v9/NaNeepOXO_NexZs0b5QrzlOHb8wCikXpYqmZsWI-__OGfttPZktqc2VdZ80KvCLZaPcSBZtOx2MifRuWR28sPJtUMbsFEK6cRrleUx9Xgbm3WLHa_F4Ep4Fm0PN19Ik5Dntczx0wZGzhPlL1YNMYKbv9_1IQXOw7AiUJVXpRJ6cXW4O8TNGoXjC79QRyaLshNDUf9-EmFw.woff2) format('woff2'); } body { font-family: 'Roboto Flex'; font-weight: 500; font-size: 10vmin; margin: 2em; background-color: #999; } h3 { font-size: 16px; color: #fff } h1 { -webkit-text-stroke: 0.02em black; color: #fff; font-stretch: 0%; font-weight: 200; } /* render stroke behind text-fill color */ .outline { -webkit-text-stroke: 0.04em black; paint-order: stroke fill; } <h3>Stroked - showing geometry of the font</h3> <h1>AVATAR</h1> <h3>Outlined - stroke behind fill</h3> <h1 class=\"outline\">AVATAR</h1> Reasons for this rendering: Anatomy of a variable font The reason for these inner outlines is based on the structure of some variable fonts. 'Traditional' fonts (so before variable fonts) – only contained an outline shape and maybe a counter shape e.g the cut out inner 'hole' of a lowercase e glyph. Otherwise you would have encountered undesired even/odd issues resulting in excluded shapes caused by overlapping path areas. Applying this construction method, you will never see any overlap of shapes. You could imagine them as rather 'merged down' compound paths. Counter shapes like the aforementioned hole were based on simple rules like a counterclockwise path directions – btw. you might still encounter this concept in svg-clipping paths - not perfectly rendering in some browsers). Variable fonts however allow a segemented/overlapping construction of glyphs/characters to facilitate the interpolation between different font weights and widths. See also \"Microsoft typography: Comparison of 'glyf', 'CFF ' and CFF2 tables\" Obviously webkit-text-stroke outlines the exact bézier anatomy of a glyph/character resulting in undesired outlines for every glyph component. This is not per se an issue of variable fonts, since weight and width interpolations has been used in type design for at least 25 years. So this quirky rendering issue depends on the used font – a lot of classic/older fonts compiled to the newer variable font format will still rely on the old school aproach (avoiding any overlap). Workaround: Search for static version of a font family In your case you can still find alternative non-variable versions of this font e.g on github or google web fonts helper /* latin */ @font-face { font-family: \"Inter\"; font-style: normal; font-weight: 100 900; src: url(https://fonts.gstatic.com/s/inter/v18/UcCo3FwrK3iLTcviYwYZ90A2N58.woff2) format(\"woff2\"); } @font-face { font-family: 'InterStatic'; font-style: normal; font-weight: 700; src: url(https://cdn.jsdelivr.net/gh/rsms/inter@master/docs/font-files/InterDisplay-Bold.woff2) format('woff2'); } body { font-family: \"Inter\"; font-size: 5em; color: #fff; -webkit-text-stroke: 0.02em red; } .interStatic{ font-family: 'InterStatic'; } <h1>Values & Process</h1> <h1 class=\"interStatic\">Values & Process</h1> Other issues with -webkit-text-stroke Inconsistent rendering:Firefox renders the stroke with rounded corners weird \"kinks and tips\" on sharp angles Firefox - Roboto Flex(variable font); 2. Chromium - Roboto Flex(variable font); 3. Chromium - Roboto (static font); Example snippet: test -webkit-text-stroke rendering addOutlineTextData(); function addOutlineTextData() { let textOutline = document.querySelectorAll(\".textOutlined\"); textOutline.forEach((text) => { text.dataset.content = text.textContent; }); } let root = document.querySelector(':root'); sampleText.addEventListener(\"input\", (e) => { let sampleText = e.currentTarget.textContent; let textOutline = document.querySelectorAll(\".textOutlined\"); textOutline.forEach((text) => { text.textContent = sampleText; text.dataset.content = sampleText; }); }); strokeWidth.addEventListener(\"input\", (e) => { let width = +e.currentTarget.value; strokeWidthVal.textContent = width + 'em' root.style.setProperty(\"--strokeWidth\", width + \"em\"); }); fontWeight.addEventListener(\"input\", (e) => { let weight = +e.currentTarget.value; fontWeightVal.textContent = weight; document.body.style.fontWeight = weight; }); useStatic.addEventListener(\"input\", (e) => { let useNonVF = useStatic.checked ? true : false; if (useNonVF) { document.body.style.fontFamily = 'Roboto'; } else { document.body.style.fontFamily = 'Roboto Flex'; } }); @font-face { font-family: 'Roboto Flex'; font-style: normal; font-weight: 100 1000; font-stretch: 0% 200%; src: url(https://fonts.gstatic.com/s/robotoflex/v9/NaNeepOXO_NexZs0b5QrzlOHb8wCikXpYqmZsWI-__OGfttPZktqc2VdZ80KvCLZaPcSBZtOx2MifRuWR28sPJtUMbsFEK6cRrleUx9Xgbm3WLHa_F4Ep4Fm0PN19Ik5Dntczx0wZGzhPlL1YNMYKbv9_1IQXOw7AiUJVXpRJ6cXW4O8TNGoXjC79QRyaLshNDUf9-EmFw.woff2) format('woff2'); } body { font-family: 'Roboto Flex'; font-weight: 500; margin: 2em; } .p, p { margin: 0; font-size: 10vw; } .label { font-weight: 500!important; font-size: 15px; } .resize { resize: both; border: 1px solid #ccc; overflow: auto; padding: 1em; width: 40%; } :root { --textOutline: #000; --strokeWidth: 0.1em; } .stroke { -webkit-text-stroke: var(--strokeWidth) var(--textOutline); color: #fff } .textOutlined { position: relative; color: #fff; } .textOutlined:before { content: attr(data-content); position: absolute; z-index: -1; color: #fff; top: 0; left: 0; -webkit-text-stroke: var(--strokeWidth) var(--textOutline); display: block; width: 100%; } <link href=\"https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900\" rel=\"stylesheet\"> <p class=\"label\">stroke width<input id=\"strokeWidth\" type=\"range\" value=\"0.3\" min='0.01' max=\"0.5\" step=\"0.001\"><span id=\"strokeWidthVal\">0.25em</span> | font-weight<input id=\"fontWeight\" type=\"range\" value=\"100\" min='100' max=\"900\" step=\"10\"><span id=\"fontWeightVal\">100</span> <label><input id=\"useStatic\" type=\"checkbox\">Use static Roboto</label><br><br> </p> <div id=\"sampleText\" class=\"stroke p\" contenteditable>AVATAR last <br>Airbender</div> <p class=\"label\">Outline via pseudo element in background</p> <div class=\"resize\"> <p class=\"textOutlined\">AVATAR last Airbender </p> </div> However, these rendering issues are rare as long as your stroke-width is not significantly larger than ~0.1em (or 10% of your current font-size). See also \"Outline effect to text\" Alternative: JavaScript based SVG replacement We're basically querying specified HTML elements and rebuild them as SVG <text> elements. The main advantage of this approach: we have more fine-grained control over the text-stroke rendering due to SVGs paint-order attribute – update:this also works for HTML elements . Besides, we get a more predictable corner rounding via stroke-linecap and stroke-linejoin : btnConvert.onclick = () => { htmlText2SvgText(); } /* when loaded instantly - wait for all fonts to be loaded (async () => { await document.fonts.ready; htmlText2SvgText(); })(); */ function htmlText2SvgText(selector = \".html2SvgText\") { let textEls = document.querySelectorAll(selector); // quit if already converted let processedEls = document.querySelectorAll('.svgTxt'); if (processedEls.length) return; textEls.forEach(textEl => { // get text nodes let textNodes = getTextNodesInEL(textEl); textNodes.forEach(textNode => { let textParent = textNode.parentElement; // split to words to ensure line wrapping let words = textNode.textContent.split(' ').filter(Boolean); // get font style properties from parent let style = window.getComputedStyle(textParent) let { webkitTextStrokeWidth, webkitTextStrokeColor, fontSize, fontStretch, fontStyle, color, letterSpacing, wordSpacing, } = style; /** * convert property values * to relative em based values * used for SVG text conversion */ let strokeWidthRel = Math.ceil(100 / parseFloat(fontSize) * parseFloat(webkitTextStrokeWidth) * 2) let letterSpacingRel = letterSpacing && letterSpacing !== 'normal' ? (parseFloat(letterSpacing) / parseFloat(fontSize)).toFixed(3) : 0; let wordSpacingRel = wordSpacing && wordSpacing != 'normal' ? +(parseFloat(wordSpacing) / parseFloat(fontSize)).toFixed(3) : 0; // adjust letter and word spacing for parent element if (letterSpacingRel || wordSpacingRel) textParent.setAttribute('style', `letter-spacing:0em; word-spacing:${(letterSpacingRel) * words.length + wordSpacingRel}em`); // loop words and replace them with SVG words.forEach((word, i) => { // add space in between word SVGs let space = i < words.length - 1 ? ' ' : ''; let svg = new DOMParser().parseFromString( `<svg class=\"svgTxt\" viewBox=\"0 0 100 100\" style=\"overflow:visible; display:inline-block;height:1em; width:auto;line-height:1em;margin-top: -100px;\"> <text class=\"svgTxt-text\" x=\"0\" y=\"100\" font-size=\"100\" fill=\"currentColor\" style=\"font-kerning:normal; font-stretch: ${fontStretch}\" stroke=\"${webkitTextStrokeColor}\" stroke-width=\"${strokeWidthRel}\" letter-spacing=\"${letterSpacingRel}em\" paint-order=\"stroke\" stroke-linecap=\"round\" stroke-linejoin=\"round\">${word.trim()}</text> </svg>`, 'text/html' ).querySelector('svg'); //textParent.insertAdjacentHTML('afterbegin', svg); textParent.insertBefore(svg, textNode); if (i < words.length - 1) {} // add spaces let spaceNode = document.createTextNode(' '); textParent.insertBefore(spaceNode, svg.nextSibling); //let svgEls = textParent.querySelectorAll('svg'); let textSVG = svg.querySelector('text') //get bbox let { x, width } = textSVG.getBBox(); // shorten by letter spacing value let shorten = 100 * letterSpacingRel; shorten = letterSpacingRel + wordSpacingRel * 2; svg.setAttribute('viewBox', [Math.floor(x), 0, Math.floor(width) - shorten, 100].join(' ')); ({ x, width } = textSVG.getBBox()); svg.setAttribute('viewBox', [Math.floor(x), 0, Math.floor(width) - shorten, 100].join(' ')); }) // erase currenet text content textNode.remove(); }) }) } // text helpers function getTextNodesInEL(el) { const walker = document.createTreeWalker(el, NodeFilter.SHOW_TEXT, null); const nodes = []; while (walker.nextNode()) { nodes.push(walker.currentNode); } return nodes; } * { box-sizing: border-box; } @font-face { font-family: 'Roboto Flex'; font-style: oblique 0deg 10deg; font-weight: 100 1000; font-stretch: 25% 151%; font-display: swap; src: url(https://fonts.gstatic.com/s/robotoflex/v26/NaPccZLOBv5T3oB7Cb4i0zu6RME.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* prevent faux italicizing */ em { font-variation-settings: 'slnt' -10; font-style: normal; } body { font-family: \"Roboto\", sans-serif; font-family: \"Roboto Flex\", sans-serif; } .resize { font-size: 5vw; letter-spacing: 0.01em; font-stretch: 110%; overflow: auto; padding: 0.1em; border: 1px solid #ccc; width: 100%; resize: both; } h1 { font-size: 3em; line-height: 1.1em; font-weight: 400; font-stretch: 30%; text-transform: uppercase; letter-spacing: 0; margin: 0; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); } strong { font-stretch: 150%; } .stroked-text { -webkit-text-stroke: 2px darkred; color: #fff; } <p> <button id=\"btnConvert\">convert HTML els to SVG</button> </p> <div class=\"resize\"> <h1 class=\"html2SvgText stroked-text\">Franz Kafka <span style=\"-webkit-text-stroke-color:green; -webkit-text-stroke-width:3px;font-stretch:75%\">The Metamorphosis</span></h1> <p>One morning, when Gregor Samsa woke from troubled dreams, he found himself transformed in his bed into a <strong class=\"html2SvgText\"><em><span class=\"stroked-text\">horrible vermin.</span></em></strong> He lay on his armour-like back, and if he lifted his head a little he could see his brown belly, slightly domed and divided by arches into stiff sections. The bedding was hardly able to cover it and seemed ready to slide off any moment. </p> </div> Caveats Since we're splitting each word we'll encounter tiny layout shifts. width related changes (e.g letter-spacing ) wont't auto update as we would need to recalculate the SVGs' viewBox again Features: all text remains selectable formatting is retained/copied from parent text elements text remains responsive e.g line/word wraps work on resize as well as font-size changes",
    "answer_score": 28,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 1481,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      28,
      18,
      26099,
      1481,
      -130253534
    ]
  },
  {
    "question_id": 60651746,
    "question_url": "https://stackoverflow.com/questions/60651746/change-cursor-on-hover-in-react-konva",
    "question_title": "Change cursor on Hover in react-konva",
    "question_text": "I'm using react-konva to create a UI for an application. I want it so that the cursor changes to a pointer when hovering over a Rect. There is documentation for how to do it with konva but not for react-konva. Can anyone help?",
    "question_tags": [
      "javascript",
      "reactjs",
      "frontend",
      "react-konva",
      "konva"
    ],
    "question_score": 11,
    "question_view_count": 8536,
    "question_creation_date": 1584007626,
    "answer_id": 60658604,
    "answer_text": "It works very similarly to Konva demos. <Rect width={50} height={50} fill=\"red\" onMouseEnter={e => { // style stage container: const container = e.target.getStage().container(); container.style.cursor = \"pointer\"; }} onMouseLeave={e => { const container = e.target.getStage().container(); container.style.cursor = \"default\"; }} /> Demo: https://codesandbox.io/s/react-konva-cursor-style-demo-96in7",
    "answer_score": 25,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 40,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      25,
      11,
      8536,
      40,
      -178382116
    ]
  },
  {
    "question_id": 68164444,
    "question_url": "https://stackoverflow.com/questions/68164444/how-to-connect-backend-and-frontend",
    "question_title": "How to connect backend and frontend",
    "question_text": "I am very new to frontend programming so please bare with me. In school we learned backend programming languages such as Java, C#, Python, C and some C++. As a hobby I have by myself tried to learn frontend so I started with Vue, JavaScript, HTML and CSS. In school we usually run our code in terminal (for backend programming), for example we did a bubblesort algorithm and then we provide some user input (via terminal) and then call bubblesort to sort the input. The thing is when I write a program in backend and I want to make a website to it, how can I connect my backend to my frontend? Lets take a simple webpge as an example where I write a program that sorts my numbers with bubblesort and then I want to be able to make the user write an array in a website and then click ”sort” button. When he/she clicks it, my backend bubblesort function should be called and so on. I have searched on google but all I can find is other websites providing services to make websites, I want to program from scratch both backend and frontend and connect them together. Is there a way? If yes, does every language has its own way or is there a common way? What I mean is maybe I write backend with Java for one website but another website I write it with Python. Is there a difference in how to connect back and frontend then? Thanks in advance.",
    "question_tags": [
      "frontend",
      "backend"
    ],
    "question_score": 7,
    "question_view_count": 122852,
    "question_creation_date": 1624887825,
    "answer_id": 68164914,
    "answer_text": "The question is quite vague Now there are multiple ways for the front end to connect to the backend. Let's see. But first let's recap. Front End : Refers to the client side. The UI that the users interact with. Example frameworks : ReactJS(JS/TS), VueJS, Angular etc Back End: Refers to the server side work like authentications, data fetching etc. Example frameworks : NodeJs(JS/TS), Django, ASP.NET etc HTML, CSS and JS are the building blocks of websites. As the time progressed we got frameworks like Spring boot(Java), asp.net(c#), django(python) etc. They may differ in the language they are built on top off. But they all follow the same patterns. Some of the common design architectures are: Model–View–ViewModel (MVVM) Model-View-Controller (MVC) 3 Tier Architecture For difference in MVC and MVVM check this answer Now the developers depending on the project chooses any one of this patterns. But this are just architectures that can be implemented with any of the frameworks out there. How the front end and backend communicates is a different story. Let's say you and I are both tasked with creating a school management system. You chose Angular(front end) and asp.net(backend). On the other hand I chose React js(frontend) and Node js(backend). We can both achieve the same goal. But with different languages. API vs Templating : This are two different ways we can have our application establish communication between frontend and backend. Templating: A template engine enables you to use static template files in your application. At runtime, the template engine replaces variables in a template file with actual values, and transforms the template into an HTML file sent to the client. This approach makes it easier to design an HTML page. API: API stands for Application Programming Interface, which is a software intermediary that allows two applications to talk to each other. Let's say the user in your school portal inputs his name and password and hits login. That will send a post request to the backend and the backend which you wrote will check if the user is real or not. If the authentication is successful the backend will send a message and the user will navigate to the portal's dashboard. For a better understanding of when to choose templating vs API refer to this post Now about the example you provided i.e bubble sort. You actually don't need a backend and develop an API to show the sorted data. And usually the backend is required for the websites which handles authentication, authorization, protected data etc like an e-commerce. That said you can have a backend for such a project. You'll have to send the data to the server side which will sort the array and send the sorted result back. Refer to the section on API/Templating to choose you're preferred method. Hope you'll have a good understanding on how to work your application.",
    "answer_score": 25,
    "answer_is_accepted": true,
    "answer_has_code": false,
    "answer_has_steps": true,
    "answer_word_count": 478,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      25,
      7,
      122852,
      478,
      -137501999
    ]
  },
  {
    "question_id": 62336340,
    "question_url": "https://stackoverflow.com/questions/62336340/cannot-update-a-component-while-rendering-a-different-component-warning",
    "question_title": "Cannot update a component while rendering a different component warning",
    "question_text": "I am getting this warning in react: index.js:1 Warning: Cannot update a component (`ConnectFunction`) while rendering a different component (`Register`). To locate the bad setState() call inside `Register` I went to the locations indicated in the stack trace and removed all setstates but the warning still persists. Is it possible this could occur from redux dispatch? my code: register.js class Register extends Component { render() { if( this.props.registerStatus === SUCCESS) { // Reset register status to allow return to register page this.props.dispatch( resetRegisterStatus()) # THIS IS THE LINE THAT CAUSES THE ERROR ACCORDING TO THE STACK TRACE return <Redirect push to = {HOME}/> } return ( <div style = {{paddingTop: \"180px\", background: 'radial-gradient(circle, rgba(106,103,103,1) 0%, rgba(36,36,36,1) 100%)', height: \"100vh\"}}> <RegistrationForm/> </div> ); } } function mapStateToProps( state ) { return { registerStatus: state.userReducer.registerStatus } } export default connect ( mapStateToProps ) ( Register ); function which triggers the warning in my registerForm component called by register.js handleSubmit = async () => { if( this.isValidForm() ) { const details = { \"username\": this.state.username, \"password\": this.state.password, \"email\": this.state.email, \"clearance\": this.state.clearance } await this.props.dispatch( register(details) ) if( this.props.registerStatus !== SUCCESS && this.mounted ) { this.setState( {errorMsg: this.props.registerError}) this.handleShowError() } } else { if( this.mounted ) { this.setState( {errorMsg: \"Error - registration credentials are invalid!\"} ) this.handleShowError() } } } Stacktrace:",
    "question_tags": [
      "javascript",
      "reactjs",
      "redux"
    ],
    "question_score": 416,
    "question_view_count": 651455,
    "question_creation_date": 1591927202,
    "answer_id": 62379496,
    "answer_text": "I fixed this issue by removing the dispatch from the register components render method to the componentwillunmount method. This is because I wanted this logic to occur right before redirecting to the login page. In general it's best practice to put all your logic outside the render method so my code was just poorly written before. Hope this helps anyone else in future :) My refactored register component: class Register extends Component { componentWillUnmount() { // Reset register status to allow return to register page if ( this.props.registerStatus !== \"\" ) this.props.dispatch( resetRegisterStatus() ) } render() { if( this.props.registerStatus === SUCCESS ) { return <Redirect push to = {LOGIN}/> } return ( <div style = {{paddingTop: \"180px\", background: 'radial-gradient(circle, rgba(106,103,103,1) 0%, rgba(36,36,36,1) 100%)', height: \"100vh\"}}> <RegistrationForm/> </div> ); } }",
    "answer_score": 24,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 130,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      24,
      416,
      651455,
      130,
      -170462488
    ]
  },
  {
    "question_id": 57518428,
    "question_url": "https://stackoverflow.com/questions/57518428/css-scroll-snap-points-with-navigation-next-previous-buttons",
    "question_title": "CSS Scroll Snap Points with navigation (next, previous) buttons",
    "question_text": "I am building a carousel , very minimalist, using CSS snap points . It is important for me to have CSS only options , but I'm fine with enhancing a bit with javascript ( no framework ). I am trying to add previous and next buttons to scroll programmatically to the next or previous element. If javascript is disabled, buttons will be hidden and carousel still functionnal. My issue is about how to trigger the scroll to the next snap point ? All items have different size , and most solution I found require pixel value (like scrollBy used in the exemple). A scrollBy 40px works for page 2, but not for others since they are too big (size based on viewport). function goPrecious() { document.getElementById('container').scrollBy({ top: -40, behavior: 'smooth' }); } function goNext() { document.getElementById('container').scrollBy({ top: 40, behavior: 'smooth' }); } #container { scroll-snap-type: y mandatory; overflow-y: scroll; border: 2px solid var(--gs0); border-radius: 8px; height: 60vh; } #container div { scroll-snap-align: start; display: flex; justify-content: center; align-items: center; font-size: 4rem; } #container div:nth-child(1) { background: hotpink; color: white; height: 50vh; } #container div:nth-child(2) { background: azure; height: 40vh; } #container div:nth-child(3) { background: blanchedalmond; height: 60vh; } #container div:nth-child(4) { background: lightcoral; color: white; height: 40vh; } <div id=\"container\"> <div>1</div> <div>2</div> <div>3</div> <div>4</div> </div> <button onClick=\"goPrecious()\">previous</button> <button onClick=\"goNext()\">next</button>",
    "question_tags": [
      "javascript",
      "css",
      "scroll",
      "frontend"
    ],
    "question_score": 32,
    "question_view_count": 27601,
    "question_creation_date": 1565924256,
    "answer_id": 57533033,
    "answer_text": "Nice question! I took this as a challenge. So, I increased JavaScript for it to work dynamically. Follow my detailed solution (in the end the complete code): First, add position: relative to the .container , because it need to be reference for scroll and height checkings inside .container . Then, let's create 3 global auxiliary variables : 1) One to get items scroll positions (top and bottom) as arrays into an array . Example: [[0, 125], [125, 280], [280, 360]] (3 items in this case). 3) One that stores half of .container height (it will be useful later). 2) Another one to store the item index for scroll position var carouselPositions; var halfContainer; var currentItem; Now, a function called getCarouselPositions that creates the array with items positions (stored in carouselPositions ) and calculates the half of .container (stored in halfContainer ): function getCarouselPositions() { carouselPositions = []; document.querySelectorAll('#container div').forEach(function(div) { carouselPositions.push([div.offsetTop, div.offsetTop + div.offsetHeight]); // add to array the positions information }) halfContainer = document.querySelector('#container').offsetHeight/2; } getCarouselPositions(); // call it once Let's replace the functions on buttons . Now, when you click on them, the same function will be called, but with \"next\" or \"previous\" argument: <button onClick=\"goCarousel('previous')\">previous</button> <button onClick=\"goCarousel('next')\">next</button> Here is about the goCarousel function itself: First, it creates 2 variables that store top scroll position and bottom scroll position of carousel. Then, there are 2 conditionals to see if the current carousel position is on most top or most bottom . If it's on top and clicked \"next\" button , it will go to the second item position. If it's on bottom and clicked \"previous\" button , it will go the previous one before the last item. If both conditionals failed, it means the current item is not the first or the last one. So, it checks to see what is the current position , calculating using the half of the container in a loop with the array of positions to see what item is showing. Then, it combines with \"previous\" or \"next\" checking to set the correct next position for currentItem variable. Finally, it goes to the correct position through scrollTo using currentItem new value. Below, the complete code: var carouselPositions; var halfContainer; var currentItem; function getCarouselPositions() { carouselPositions = []; document.querySelectorAll('#container div').forEach(function(div) { carouselPositions.push([div.offsetTop, div.offsetTop + div.offsetHeight]); // add to array the positions information }) halfContainer = document.querySelector('#container').offsetHeight/2; } getCarouselPositions(); // call it once function goCarousel(direction) { var currentScrollTop = document.querySelector('#container').scrollTop; var currentScrollBottom = currentScrollTop + document.querySelector('#container').offsetHeight; if (currentScrollTop === 0 && direction === 'next') { currentItem = 1; } else if (currentScrollBottom === document.querySelector('#container').scrollHeight && direction === 'previous') { console.log('here') currentItem = carouselPositions.length - 2; } else { var currentMiddlePosition = currentScrollTop + halfContainer; for (var i = 0; i < carouselPositions.length; i++) { if (currentMiddlePosition > carouselPositions[i][0] && currentMiddlePosition < carouselPositions[i][1]) { currentItem = i; if (direction === 'next') { currentItem++; } else if (direction === 'previous') { currentItem-- } } } } document.getElementById('container').scrollTo({ top: carouselPositions[currentItem][0], behavior: 'smooth' }); } window.addEventListener('resize', getCarouselPositions); #container { scroll-snap-type: y mandatory; overflow-y: scroll; border: 2px solid var(--gs0); border-radius: 8px; height: 60vh; position: relative; } #container div { scroll-snap-align: start; display: flex; justify-content: center; align-items: center; font-size: 4rem; } #container div:nth-child(1) { background: hotpink; color: white; height: 50vh; } #container div:nth-child(2) { background: azure; height: 40vh; } #container div:nth-child(3) { background: blanchedalmond; height: 60vh; } #container div:nth-child(4) { background: lightcoral; color: white; height: 40vh; } <div id=\"container\"> <div>1</div> <div>2</div> <div>3</div> <div>4</div> </div> <button onClick=\"goCarousel('previous')\">previous</button> <button onClick=\"goCarousel('next')\">next</button> Another good detail to add is to call getCarouselPositions function again if the window resizes: window.addEventListener('resize', getCarouselPositions); That's it. That was cool to do. I hope it can help somehow.",
    "answer_score": 24,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 607,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      24,
      32,
      27601,
      607,
      -196465485
    ]
  },
  {
    "question_id": 53781632,
    "question_url": "https://stackoverflow.com/questions/53781632/whats-useeffect-execution-order-and-its-internal-clean-up-logic-when-requestani",
    "question_title": "What&#39;s useEffect execution order and its internal clean-up logic when requestAnimationFrame and cancelAnimationFrame are used?",
    "question_text": "According to react document, useEffect will trigger clean-up logic before it re-runs useEffect part. If your effect returns a function, React will run it when it is time to clean up... There is no special code for handling updates because useEffect handles them by default. It cleans up the previous effects before applying the next effects... However, when I use requestAnimationFrame and cancelAnimationFrame inside useEffect , I found the cancelAnimationFrame may not stop the animation normally. Sometimes, I found the old animation still exists, while the next effect brings another animation, which causes my web app performance issues (especially when I need to render heavy DOM elements). I don't know whether react hook will do some extra things before it executes the clean-up code, which make my cancel-animation part not work well, will useEffect hook do something like closure to lock the state variable? What's useEffect's execution order and its internal clean-up logic? Is there something wrong the code I write below, which makes cancelAnimationFrame can't work perfectly? Thanks. //import React, { useState, useEffect } from \"react\"; const {useState, useEffect} = React; //import ReactDOM from \"react-dom\"; function App() { const [startSeconds, setStartSeconds] = useState(Math.random()); const [progress, setProgress] = useState(0); useEffect(() => { const interval = setInterval(() => { setStartSeconds(Math.random()); }, 1000); return () => clearInterval(interval); }, []); useEffect( () => { let raf = null; const onFrame = () => { const currentProgress = startSeconds / 120.0; setProgress(Math.random()); // console.log(currentProgress); loopRaf(); if (currentProgress > 100) { stopRaf(); } }; const loopRaf = () => { raf = window.requestAnimationFrame(onFrame); // console.log('Assigned Raf ID: ', raf); }; const stopRaf = () => { console.log(\"stopped\", raf); window.cancelAnimationFrame(raf); }; loopRaf(); return () => { console.log(\"Cleaned Raf ID: \", raf); // console.log('init', raf); // setTimeout(() => console.log(\"500ms later\", raf), 500); // setTimeout(()=> console.log('5s later', raf), 5000); stopRaf(); }; }, [startSeconds] ); let t = []; for (let i = 0; i < 1000; i++) { t.push(i); } return ( <div className=\"App\"> <h1>Hello CodeSandbox</h1> <text>{progress}</text> {t.map(e => ( <span>{progress}</span> ))} </div> ); } ReactDOM.render(<App />, document.querySelector(\"#root\")); <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/16.7.0-alpha.2/umd/react.production.min.js\"></script> <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.7.0-alpha.2/umd/react-dom.production.min.js\"></script> <div id=\"root\"></div>",
    "question_tags": [
      "javascript",
      "reactjs",
      "frontend",
      "react-hooks"
    ],
    "question_score": 52,
    "question_view_count": 76334,
    "question_creation_date": 1544797808,
    "answer_id": 53782445,
    "answer_text": "Put these three lines of code in a component and you'll see their order of priority. useEffect(() => { console.log('useEffect') return () => { console.log('useEffect cleanup') } }) window.requestAnimationFrame(() => console.log('requestAnimationFrame')) useLayoutEffect(() => { console.log('useLayoutEffect') return () => { console.log('useLayoutEffect cleanup') } }) useLayoutEffect > requestAnimationFrame > useEffect The problem you're experiencing is caused by loopRaf requesting another animation frame before the cleanup function for useEffect is executed. Further testing has shown that useLayoutEffect is always called before requestAnimationFrame and that its cleanup function is called before the next execution preventing overlaps. Change useEffect to useLayoutEffect and it should solve your problem. useEffect and useLayoutEffect are called in the order they appear in your code for like types just like useState calls. You can see this by running the following lines: useEffect(() => { console.log('useEffect-1') }) useEffect(() => { console.log('useEffect-2') }) useLayoutEffect(() => { console.log('useLayoutEffect-1') }) useLayoutEffect(() => { console.log('useLayoutEffect-2') })",
    "answer_score": 23,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 151,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      23,
      52,
      76334,
      151,
      -217591933
    ]
  },
  {
    "question_id": 61318494,
    "question_url": "https://stackoverflow.com/questions/61318494/cant-change-default-nuxt-favicon",
    "question_title": "Can&#39;t change default nuxt favicon",
    "question_text": "I am new to nuxt and trying to change default favicon in my project. I changed the favicon.png and favicon.ico in my static folder. => didn't work . changed the favicon.png and favicon.ico in my dist folder. => didn't work . replaced the proper files generated by favicon generator websites in my dist/_nuxt/icons folder. => didn't work . and this is my nuxt.config.js head: { title: \"my first nuxt proj - main page\", meta: [ { charset: 'utf-8' }, { name: 'viewport', content: 'width=device-width, initial-scale=1' }, { hid: 'description', name: 'description', content: pkg.description } ], link: [{ rel: 'icon', type: 'image/x-icon', href: '/favicon.png' }], }, am I missing something?",
    "question_tags": [
      "javascript",
      "vue.js",
      "frontend",
      "nuxt.js",
      "favicon"
    ],
    "question_score": 20,
    "question_view_count": 33753,
    "question_creation_date": 1587372707,
    "answer_id": 61320015,
    "answer_text": "I found the solution, but it's kind of tricky and it's a little far from logic. the size of the favicon should be 32*32 pixels or nuxt will load the default favicon itself. and about my tries, it's enough to have a file in your static folder and give the path to nuxt.config.js . but I'm still confused with the solution.",
    "answer_score": 23,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 61,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      23,
      20,
      33753,
      61,
      -175017034
    ]
  },
  {
    "question_id": 63770011,
    "question_url": "https://stackoverflow.com/questions/63770011/disable-enable-button-in-blazor-depending-on-what-is-in-the-form",
    "question_title": "Disable/Enable Button in Blazor - Depending on what is in the form",
    "question_text": "so I am creating this little project in ASP.NET Core, I've got a WEB API, already written but I am struggling with Frontend in Blazor to consume that API. POST, GET HTTP requests work great. I've got this one razor page in which I put some data in (Name, FamilyName etc.) and then I click Send, the data is POSTed to the API. There is some validation when it comes to that form: Name – at least 5 Characters FamilyName – at least 5 Characters Adress – at least 10 Characters EmailAdress – must be an valid email Age – must be between 20 and 60 and that is all done here with DataAnnotations: using System.ComponentModel.DataAnnotations; namespace Blazor.Data { public class Applicant { public int Id { get; set; } [MinLength(5, ErrorMessage =\"Name must contain atleast 5 characters.\")] public string Name { get; set; } [MinLength(5, ErrorMessage =\"Family Name must contain atleast 5 characters.\")] public string FamilyName { get; set; } [MinLength(10,ErrorMessage =\"Address must contain atleast 10 characters.\")] public string Address { get; set; } public string CountryOfOrigin { get; set; } [EmailAddress(ErrorMessage =\"E-Mail adress is not valid.\")] public string EmailAddress { get; set; } [Range(20,60,ErrorMessage =\"Age must be between 20 and 60.\")] public int Age { get; set; } public bool Hired { get; set; } } } In the Razor page I've got a form to fill out and then send to the API as follows: @page \"/postapplicant\" @using Blazor.Data @using System.Web @inherits ApplicantCreateBase <h1>Create an Applicant</h1> <p>This component demonstrates posting a data to a Web API.</p> <EditForm Model=\"@Applicant\" OnValidSubmit=\"@SendValid\"> <DataAnnotationsValidator /> <ValidationSummary /> <hr /> <div class=\"form-group row\"> <label for=\"Name\" class=\"col-sm-2 col-form-label\"> First Name </label> <div class=\"col-sm-10\"> <InputText id=\"Name\" class=\"form-control\" placeholder=\"First Name\" @bind-Value=\"Applicant.Name\" /> <ValidationMessage For=\"@(() =>Applicant.Name)\" /> </div> </div> <div class=\"form-group row\"> <label for=\"FamilyName\" class=\"col-sm-2 col-form-label\"> Family Name </label> <div class=\"col-sm-10\"> <InputText id=\"FamilyName\" class=\"form-control\" placeholder=\"Family Name\" @bind-Value=\"Applicant.FamilyName\" /> <ValidationMessage For=\"@(() =>Applicant.FamilyName)\" /> </div> </div> <div class=\"form-group row\"> <label for=\"Address\" class=\"col-sm-2 col-form-label\"> Address </label> <div class=\"col-sm-10\"> <InputText id=\"Address\" class=\"form-control\" placeholder=\"Address\" @bind-Value=\"Applicant.Address\" /> <ValidationMessage For=\"@(() =>Applicant.Address)\" /> </div> </div> <div class=\"form-group row\"> <label for=\"CountryOfOrigin\" class=\"col-sm-2 col-form-label\"> Country </label> <div class=\"col-sm-10\"> <InputSelect id=\"CountryOfOrigin\" class=\"form-group\" placeholder=\"Country Of Origin\" @bind-Value=\"Applicant.CountryOfOrigin\"> @foreach (var item in Countries) { <option>@item.Title</option> } </InputSelect> </div> </div> <div class=\"form-group row\"> <label for=\"EMailAddress\" class=\"col-sm-2 col-form-label\"> E-Mail Address </label> <div class=\"col-sm-10\"> <InputText id=\"EMailAddress\" class=\"form-control\" placeholder=\"E-Mail Address\" @bind-Value=\"Applicant.EmailAddress\" /> <ValidationMessage For=\"@(() =>Applicant.EmailAddress)\" /> </div> </div> <div class=\"form-group row\"> <label for=\"Age\" class=\"col-sm-2 col-form-label\"> Age </label> <div class=\"col-sm-10\"> <InputNumber id=\"Age\" class=\"form-control\" placeholder=\"Age\" @bind-Value=\"Applicant.Age\" /> <ValidationMessage For=\"@(() =>Applicant.Age)\" /> </div> </div> <div class=\"form-group row\"> <label for=\"Hired\" class=\"col-sm-2 col-form-label\"> Hired </label> <div class=\"col-md-1\"> <InputCheckbox id=\"Hired\" class=\"form-control\" placeholder=\"Hired\" @bind-Value=\"Applicant.Hired\" /> </div> </div> <button class=\"btn btn-primary\" type=\"submit\">Send</button> <button class=\"btn btn-secondary\" type=\"button\" @onclick=\"Reset_Click\">Reset</button> </EditForm> <Confirm ConfirmationChanged=\"ConfirmReset_Click\" @ref=\"ResetConfirmation\"></Confirm> Everything works fine and as intended but I want the send button to be enabled only if the whole form is valid according to the rules I have listed above. I know there is this disabled property you can use within a button but I have no idea how to implement this correctly. It seems like such a mess in C# / .net core. Writing a web api from scratch is easier. Help would be appreciated, thank you!",
    "question_tags": [
      "c#",
      "button",
      "frontend",
      "blazor",
      "webapi"
    ],
    "question_score": 12,
    "question_view_count": 20462,
    "question_creation_date": 1599437966,
    "answer_id": 63770185,
    "answer_text": "You can access the EditForm 's context: <button class=\"btn btn-primary\" type=\"submit\" disabled=\"@(!context.Validate())\">Send</button>",
    "answer_score": 23,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 12,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      23,
      12,
      20462,
      12,
      -162951776
    ]
  },
  {
    "question_id": 68095483,
    "question_url": "https://stackoverflow.com/questions/68095483/what-is-the-maximum-size-of-upload-file-we-can-receive-in-fastapi",
    "question_title": "What is the maximum size of upload file we can receive in FastAPI?",
    "question_text": "I am trying to figure out the maximum file size, my client can upload , so that my python fastapi server can handle it without any problem.",
    "question_tags": [
      "python",
      "http",
      "backend",
      "server-side",
      "fastapi"
    ],
    "question_score": 13,
    "question_view_count": 32446,
    "question_creation_date": 1624433647,
    "answer_id": 68098020,
    "answer_text": "Your request doesn't reach the ASGI app directly. It goes through reverse proxy (Nginx, Apache), ASGI server (uvicorn, hypercorn, gunicorn) before handled by an ASGI app. Reverse Proxy For Nginx, the body size is controlled by client_max_body_size , which defaults to 1MB. For Apache, the body size could be controlled by LimitRequestBody , which defaults to 0. ASGI Server The ASGI servers don't have a limit of the body size. At least it's the case for gunicorn, uvicorn, hypercorn. Quote from Hypercorn doc. Large request body This attack is of the second type and aims to exhaust the server’s memory by inviting it to receive a large request body (and hence write the body to memory). A poorly configured server would have no limit on the request body size and potentially allow a single request to exhaust the server. It is up to the framework to guard against this attack . This is to allow the framework to consume the request body if desired. Note: Gunicorn doesn't limit the size of request body, but sizes of the request line and request header. --limit-request-line , size limit on each req line, default 4096 --limit-request-fields , number of header fields, default 100 --limit-request-field_size , size of headef fields, default 8190 ASGI App/Framework Since FastAPI is based upon Starlette. How to reading the body is handled by Starlette. Reading from the source (0.14.3), there seems no limit on request body either. class Request(HTTPConnection): ... async def stream(self) -> typing.AsyncGenerator[bytes, None]: if hasattr(self, \"_body\"): yield self._body yield b\"\" return if self._stream_consumed: raise RuntimeError(\"Stream consumed\") self._stream_consumed = True while True: message = await self._receive() if message[\"type\"] == \"http.request\": body = message.get(\"body\", b\"\") if body: yield body if not message.get(\"more_body\", False): break elif message[\"type\"] == \"http.disconnect\": self._is_disconnected = True raise ClientDisconnect() yield b\"\" async def body(self) -> bytes: if not hasattr(self, \"_body\"): chunks = [] async for chunk in self.stream(): chunks.append(chunk) self._body = b\"\".join(chunks) return self._body Conclusion : If you get 413 Payload Too Large error, check the reverse proxy.",
    "answer_score": 22,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 334,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      22,
      13,
      32446,
      334,
      -137956177
    ]
  },
  {
    "question_id": 58487982,
    "question_url": "https://stackoverflow.com/questions/58487982/how-to-prevent-given-transaction-number-1-does-not-match-any-in-progress-transa",
    "question_title": "How to prevent &quot;Given transaction number 1 does not match any in-progress transactions&quot; with Mongoose Transactions?",
    "question_text": "I am using Mongoose to access to my database. I need to use transactions to make an atomic insert-update. 95% of the time my transaction works fine, but 5% of the time an error is showing : \"Given transaction number 1 does not match any in-progress transactions\" It's very difficult to reproduce this error, so I really want to understand where it is coming from to get rid of it. I could not find a very clear explanation about this type of behaviour. I have tried to use async/await key words on various functions. I don't know if an operation is not done in time or too soon. Here the code I am using: export const createMany = async function (req, res, next) { if (!isIterable(req.body)) { res.status(400).send('Wrong format of body') return } if (req.body.length === 0) { res.status(400).send('The body is well formed (an array) but empty') return } const session = await mongoose.startSession() session.startTransaction() try { const packageBundle = await Package.create(req.body, { session }) const options = [] for (const key in packageBundle) { if (Object.prototype.hasOwnProperty.call(packageBundle, key)) { options.push({ updateOne: { filter: { _id: packageBundle[key].id }, update: { $set: { custom_id_string: 'CAB' + packageBundle[key].custom_id.toLocaleString('en-US', { minimumIntegerDigits: 14, useGrouping: false }) }, upsert: true } } }) } } await Package.bulkWrite( options, { session } ) for (const key in packageBundle) { if (Object.prototype.hasOwnProperty.call(packageBundle, key)) { packageBundle[key].custom_id_string = 'CAB' + packageBundle[key].custom_id.toLocaleString('en-US', { minimumIntegerDigits: 14, useGrouping: false }) } } res.status(201).json(packageBundle) await session.commitTransaction() } catch (error) { res.status(500).end() await session.abortTransaction() throw error } finally { session.endSession() } } I expect my code to add in the database and to update the entry packages in atomic way, that there is no instable database status. This is working perfectly for the main part, but I need to be sure that this bug is not showing anymore.",
    "question_tags": [
      "node.js",
      "mongodb",
      "mongoose",
      "transactions",
      "backend"
    ],
    "question_score": 24,
    "question_view_count": 13311,
    "question_creation_date": 1571666680,
    "answer_id": 60656959,
    "answer_text": "You should use the session.withTransaction() helper function to perform the transaction, as pointed in mongoose documentation . This will take care of starting, committing and retrying the transaction in case it fails. const session = await mongoose.startSession(); await session.withTransaction(async () => { // Your transaction methods }); Explanation: The multi-document transactions in MongoDB are relatively new and might be a bit unstable in some cases, such as described here . And certainly, it has also been reported in Mongoose here . Your error most probably is a TransientTransactionError due to a write-conflict happening when the transaction is committed. However, this is a known and expected issue from MongoDB and these comments explain their reasoning behind why they decided it to be like this. Moreover, they claim that the user should be handling the cases of write conflicts and retrying the transaction if that happens. Therefore, looking at your code, the Package.create(...) method seems to be the reason why the error gets triggered, since this method is executing a save() for every document in the array ( from mongoose docs ). A quick solution might be using Package.insertMany(...) instead of create() , since the Model.insertMany() \"only sends one operation to the server, rather than one for each document\" ( from mongoose docs ). However, MongoDB provides a helper function session.withTransaction() that will take care of starting and committing the transaction and retry it in case of any error , since release v3.2.1 . Hence, this should be your preferred way to work with transactions in a safer way; which is, of course, available in Mongoose through the Node.js API.",
    "answer_score": 21,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 268,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      21,
      24,
      13311,
      268,
      -190723144
    ]
  },
  {
    "question_id": 59353089,
    "question_url": "https://stackoverflow.com/questions/59353089/difference-between-incremental-dom-and-virtual-dom-in-angular",
    "question_title": "Difference between incremental DOM and virtual DOM in Angular",
    "question_text": "I have two questions regarding Angular. I've tried reading some articles but I can't get the idea. What is incremental DOM? What is the difference between incremental DOM and virtual DOM?",
    "question_tags": [
      "javascript",
      "angular",
      "typescript",
      "dom",
      "frontend"
    ],
    "question_score": 16,
    "question_view_count": 10619,
    "question_creation_date": 1576485936,
    "answer_id": 59355911,
    "answer_text": "Incremental DOM is a library for building up DOM trees and updating them in-place when data changes. It differs from the established virtual DOM approach in that no intermediate tree is created (the existing tree is mutated in-place). This approach significantly reduces memory allocation and GC thrashing for incremental updates to the DOM tree therefore increasing performance significantly in some cases. https://github.com/google/incremental-dom Virtual DOM compares (diff) a new entire virtual DOM with the previous virtual DOM for changes then applies those changes to the actual DOM. - This approach creates a new virtual DOM to determine the changes (memory heavy). Incremental DOM has one virtual DOM and walks along the tree to find changes then mutates the virtual DOM and then apply those changes to the actual DOM - (reduced memory size and garbage collection). Virtual DOM - has a big memory footprint because it needs headroom for changes that \"might\" happen to the virtual DOM. Incremental DOM - doesn’t need such a big footprint as memory is only allocated for changes. Tests have shown that Incremental DOM is fast enough to work even without a virtual DOM also.",
    "answer_score": 20,
    "answer_is_accepted": true,
    "answer_has_code": false,
    "answer_has_steps": false,
    "answer_word_count": 189,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      20,
      16,
      10619,
      189,
      -185903805
    ]
  },
  {
    "question_id": 54952009,
    "question_url": "https://stackoverflow.com/questions/54952009/nullinjectorerror-staticinjectorerrordynamictestmodule-when-testing-in-angula",
    "question_title": "NullInjectorError: StaticInjectorError(DynamicTestModule) When Testing in Angular 2",
    "question_text": "I'm brand new to Angular2 and trying to write a test in the app.component.spec.ts file. My application is relatively simple, besides the fact that it imports LoginComponent and LogoutComponent from a 3rd party library (written by coworkers). The components are used in a route login or logout respectively right now, pretty simple stuff. Running ng serve compiles ok and the application runs \"smoothly\". Running ng test , however, gives me this error: NullInjectorError: StaticInjectorError(DynamicTestModule)[LogoutComponent -> SessionService]: StaticInjectorError(Platform: core)[LogoutComponent -> SessionService]: NullInjectorError: No provider for SessionService! LogoutComponent is imported from a different project. Does this error mean I need to go into that project and make some changes, or am I supposed to be mocking SessionService somehow in my project? Spec code: import {} from 'jasmine'; import {async, TestBed} from '@angular/core/testing'; import {RouterTestingModule} from '@angular/router/testing'; import {AuthErrorStateService, LogoutComponent} from '@custom-library'; import {AppComponent} from './app.component'; import {AppErrorStateService} from './core/error-states/app-error-state.service'; import {TopNavComponent} from './core/top-nav/top-nav.component'; describe('AppComponent', () => { beforeEach(async(() => { TestBed .configureTestingModule({ imports: [RouterTestingModule], providers: [ AppErrorStateService, AuthErrorStateService ], declarations: [AppComponent, TopNavComponent, LogoutComponent], }) .compileComponents(); })); it('should create the app', () => { const fixture = TestBed.createComponent(AppComponent); const app = fixture.debugElement.componentInstance; expect(app).toBeTruthy(); }); it(`should have as title 'My App'`, () => { const fixture = TestBed.createComponent(AppComponent); const app = fixture.debugElement.componentInstance; expect(app.title).toEqual('My App'); }); it('should render title in a h1 tag', () => { const fixture = TestBed.createComponent(AppComponent); fixture.detectChanges(); const compiled = fixture.debugElement.nativeElement; expect(compiled.querySelector('h1').textContent).toEqual('Welcome to My App!'); }); });",
    "question_tags": [
      "javascript",
      "angular",
      "unit-testing",
      "frontend",
      "angular2-services"
    ],
    "question_score": 12,
    "question_view_count": 43156,
    "question_creation_date": 1551472914,
    "answer_id": 55029249,
    "answer_text": "The problem is declaring multiple components in TestBed like so declarations: [AppComponent, TopNavComponent, LogoutComponent] results in multiple components being instantiated when the test calls compileComponents() . When that happens, each component in the declarations array needs its dependencies declared in the providers array to complete instantiation. One of the declared components depends on SessionService , but that service is not present in providers, so you get the NullInjectorError . There are two solutions to this: only declare one component in the declarations array and add schemas: [ CUSTOM_ELEMENTS_SCHEMA ] to the TestBed configuration object continue to declare multiple components and add all the dependencies (or a mock thereof) for each component to the providers array",
    "answer_score": 20,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 115,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      20,
      12,
      43156,
      115,
      -210916828
    ]
  },
  {
    "question_id": 56801091,
    "question_url": "https://stackoverflow.com/questions/56801091/how-to-remove-vuetify-autocomplete-component-default-icon",
    "question_title": "How to remove vuetify autocomplete component default icon",
    "question_text": "Vuetify autocomplete by default have custom \"up\" and \"down\" arrow icons: How can be changed this icon to search icon in other events (active or inactive) and get this view: This example created using v-text-field : Code: <v-text-field flat solo hide-details append-icon=\"search\" label=\"Search...\" color=\"#000000\" ></v-text-field> I tired append icon to vuetify autocomplete component but can't remove default up and down rows. Code: <v-autocomplete v-model=\"select\" :append-outer-icon=\"search ? 'search' : 'search'\" label=\"Search...\" type=\"text\" :loading=\"loading\" :items=\"items\" :search-input.sync=\"search\" cache-items class=\"\" flat hide-no-data hide-details @click:append-outer=\"startSearch\" ></v-autocomplete> Result: Generaly how I can change arrow icons to search icon and do it as clickable for search?",
    "question_tags": [
      "vue.js",
      "vuejs2",
      "frontend",
      "vue-component",
      "vuetify.js"
    ],
    "question_score": 15,
    "question_view_count": 12811,
    "question_creation_date": 1561697763,
    "answer_id": 56801356,
    "answer_text": "Use append-icon=\"\" and set it to blank Here's the example. If you want to append icon with callback function use append-icon-cb=\"()\" https://codepen.io/anon/pen/WqXVWj?&editable=true&editors=101",
    "answer_score": 19,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 22,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      19,
      15,
      12811,
      22,
      -200691978
    ]
  },
  {
    "question_id": 58662588,
    "question_url": "https://stackoverflow.com/questions/58662588/how-to-get-the-url-after-redirecting-from-current-page-to-another-using-puppetee",
    "question_title": "How To Get The URL After Redirecting from Current Page To Another Using Puppeteer?",
    "question_text": "I'm Aadarshvelu ! Recently Started Testing My WebApp Code Using Jest With Puppeteer . So I Have Page Which All Credentials Have Been Filled With Puppeteer .But When SummitButton('signBtn') Clicked POST process Starts Is There Any Test That Process POST Request? .. Or How Do I Know Test Has Been Completely Finished? Or How to Get The Redirect Page URL While Test Running? This Is My Code! const puppeteer = require('puppeteer'); const timeOut = 100 * 1000; test(\"Full E2E Test!\" , async () => { const browser = await puppeteer.launch({ headless: false, slowMo:30, args: ['--window-size=1920,1080'] }); const page = await browser.newPage(); await page.goto('https://mypass-webapp.herokuapp.com/signUp'); await page.click('input#email'); await page.type('input#email', 'Automation@puppeteer.com'); await page.click('input#username'); await page.type('input#username' , \"puppeteer\"); await page.click('input#password'); await page.type('input#password' , \"puppeteer\"); await page.click('#signBtn').then(await console.log(page.url())); // Here I Need a Test That Checks The Current Page! await browser.close(); } , timeOut);",
    "question_tags": [
      "javascript",
      "node.js",
      "jestjs",
      "backend",
      "puppeteer"
    ],
    "question_score": 10,
    "question_view_count": 24698,
    "question_creation_date": 1572625337,
    "answer_id": 58663026,
    "answer_text": "Is There Any Test That Process POST Request?.. const [response] = await Promise.all([ page.click('input[type=\"submit\"]'), // After clicking the submit page.waitForNavigation() // This will set the promise to wait for navigation events // Then the page will be send POST and navigate to target page ]); // The promise resolved How Do I Know Test Has Been Completely Finished? const [response] = await Promise.all([ page.click('a.my-link'), // Clicking the link will indirectly cause a navigation page.waitForNavigation('networkidle2') // The promise resolves after navigation has finished after no more than 2 request left ]); // The promise resolved How to Get The Redirect Page URL While Test Running? For example, if the website http://example.com has a single redirect to https://example.com , then the chain will contain one request: const response = await page.goto('http://example.com'); const chain = response.request().redirectChain(); console.log(chain.length); // Return 1 console.log(chain[0].url()); // Return string 'http://example.com' If the website https://google.com has no redirects, then the chain will be empty: const response = await page.goto('https://google.com'); const chain = response.request().redirectChain(); console.log(chain.length); // Return 0",
    "answer_score": 18,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 168,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      18,
      10,
      24698,
      168,
      -189764487
    ]
  },
  {
    "question_id": 55852415,
    "question_url": "https://stackoverflow.com/questions/55852415/how-to-change-the-text-color-of-the-selected-row-in-material-ui-table",
    "question_title": "How to change the text color of the selected row in material ui table",
    "question_text": "I am trying to change the color of the row text and the background color of row on selection. I am able to change the background color successfully but I am not able to change the text color. <TableRow className={classes.tableBody} > tableBody: { \"&:focus\": { color: \"yellow !important\", backgroundColor: \"#3D85D2 !important\", }, },",
    "question_tags": [
      "css",
      "reactjs",
      "material-ui",
      "frontend"
    ],
    "question_score": 16,
    "question_view_count": 37006,
    "question_creation_date": 1556204713,
    "answer_id": 55857138,
    "answer_text": "The background color is controlled in TableRow . In order to get the correct specificity (you shouldn't ever need to leverage \"!important\" when overriding Material-UI styles), you need to leverage the \"hover\" class similar to what is done within TableRow . The color is controlled in TableCell , so that is the level where you need to control it. For a working solution, in the styles you would have something like: const styles = theme => ({ tableRow: { \"&$hover:hover\": { backgroundColor: \"blue\" } }, tableCell: { \"$hover:hover &\": { color: \"pink\" } }, hover: {} }); then in the rendering: <TableRow hover key={row.id} classes={{ hover: classes.hover }} className={classes.tableRow} > <TableCell className={classes.tableCell} component=\"th\" scope=\"row\" > {row.name} </TableCell> Here's a working version based on your sandbox: Here's a similar example, but using \"selected\" instead of \"hover\": https://codesandbox.io/s/llyqqwmr79 This uses the following styles: const styles = theme => ({ tableRow: { \"&$selected, &$selected:hover\": { backgroundColor: \"purple\" } }, tableCell: { \"$selected &\": { color: \"yellow\" } }, selected: {} }); and some state: const [selectedID, setSelectedID] = useState(null); and changing the TableRow rendering to be: <TableRow hover key={row.id} onClick={() => { setSelectedID(row.id); }} selected={selectedID === row.id} classes={{ selected: classes.selected }} className={classes.tableRow} > v4 of Material-UI will include some changes that should make overriding styles considerably easier (and easier to figure out how to do successfully without looking at the source code). In v4 of Material-UI, we can use the global class names for the selected state (\"Mui-selected\") and for TableCell (\"MuiTableCell-root\") and then we only need to apply a single class to TableRow: const styles = (theme) => ({ tableRow: { \"&.Mui-selected, &.Mui-selected:hover\": { backgroundColor: \"purple\", \"& > .MuiTableCell-root\": { color: \"yellow\" } } } });",
    "answer_score": 17,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 284,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      17,
      16,
      37006,
      284,
      -206185028
    ]
  },
  {
    "question_id": 77481263,
    "question_url": "https://stackoverflow.com/questions/77481263/jwtdecode-invalidtokenerror-invalid-token-specified-invalid-base64-for-part",
    "question_title": "jwtDecode - InvalidTokenError: Invalid token specified: invalid base64 for part #2 (Property ‘atob’ doesn’t exist)]",
    "question_text": "So I am following an online course on React Native from Mosh at Code with Mosh, and despite some things that have been outdated and finding work arounds on, everything has been going great. That is until it came to Authentication and Authorization. We got a pre-made small server that is hosted locally, and it had a JWT Token system set up for users. We did a POST request where we sent the registered email and password, and got back a token. Using jwt.io we could decode the token and get all of the information just fine. However, when I try to decode it using jwt-decode I just get back this error message. TLDR; the tokens can be decoded just fine online through places like jtw.io, but installing and using jtw-decode just gives me this message. Here is the relevant code: import React, { useState, useContext } from \"react\"; import { Image, StyleSheet } from \"react-native\"; import \\* as Yup from \"yup\"; import { jwtDecode } from \"jwt-decode\"; const handleSumbit = async ({ email, password }) =\\> { const result = await authApi.login(email, password); if (!result.ok) return setLoginFailed(true); setLoginFailed(false); const token = result.data; const decoded = jwtDecode(token); console.log(decoded); }; Expected output: {user: name, ...} Actual output: Warning: An unhandled error was caught from submitForm() \\[InvalidTokenError: Invalid token specified: invalid base64 for part #2 (Property 'atob' doesn't exist)\\] I have tried to log the token directly instead of invoking it into a const. I have tried another decoder that I found, a similar issue occurred. I have logged the token and manually decoded it on jwt.io, and it worked there without issues.",
    "question_tags": [
      "react-native",
      "jwt",
      "frontend",
      "backend"
    ],
    "question_score": 9,
    "question_view_count": 20495,
    "question_creation_date": 1699971040,
    "answer_id": 77481496,
    "answer_text": "You need to poly-fill atob function using something like core-js . using core-js : import \"core-js/stable/atob\"; import { jwtDecode } from \"jwt-decode\"; const token = \"eyJ0eXAiO.../// jwt token\"; const decoded = jwtDecode(token); console.log(decoded); using base-64 : import { decode } from \"base-64\"; global.atob = decode; Your code may look like: import React, { useState, useContext } from \"react\"; import { Image, StyleSheet } from \"react-native\"; import * as Yup from \"yup\"; import { jwtDecode } from \"jwt-decode\"; import \"core-js/stable/atob\"; // <- polyfill here const handleSumbit = async ({ email, password }) => { const result = await authApi.login(email, password); if (!result.ok) return setLoginFailed(true); setLoginFailed(false); const token = result.data; const decoded = jwtDecode(token); console.log(decoded); }; Reference : https://github.com/auth0/jwt-decode#polyfilling-atob",
    "answer_score": 16,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 117,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      16,
      9,
      20495,
      117,
      -62418784
    ]
  },
  {
    "question_id": 69905828,
    "question_url": "https://stackoverflow.com/questions/69905828/resolving-css-background-image-url-with-webpack",
    "question_title": "Resolving css background-image url with Webpack",
    "question_text": "I am using webpack and simply trying to apply a background-image specified in a url property to an html element. I've looked at several threads ( this one for instance) but did not find something that works for me. Here's my setup : // index.js import React from 'react' import styles from './styles.css' const MyComponent = () => { return ( <div className={styles.container}></div> ) } export default MyComponent // styles.css .container { background-image: url('../../../static/public/images/my-background.jpg'); } // webpack.config.js const path = require('path'); const HtmlWebpackPlugin = require(\"html-webpack-plugin\"); const CopyWebpackPlugin = require('copy-webpack-plugin'); module.exports = { entry: path.join(__dirname, \"src\", \"index.js\"), output: { path: path.join(__dirname, \"dist\"), filename: \"index.bundle.js\" }, mode: process.env.NODE_ENV || 'development', resolve: { modules: [path.resolve(__dirname, \"src\"), \"node_modules\"], }, devServer: { static: path.join(__dirname, 'src') }, plugins: [ new HtmlWebpackPlugin({ template: path.join(__dirname, \"src\", \"index.html\"), }), new CopyWebpackPlugin({ patterns: [ { from: 'static', to: 'static' } ] }) ], module: { rules: [ { test: /\\.(js|jsx)$/, exclude: /node_modules/, use: [\"babel-loader\"] }, { test: /\\.(css)$/, use: [\"style-loader\", \"css-loader\"], }, { test: /\\.(jpg|png|svg|gif)$/, use: ['url-loader', 'file-loader'], }, ], }, } When reaching localhost I do see the path being resolved : However, when I try to reach that url, all I see is a little white square ... This is definitely not the image. I do find the image present in my build in ./dist/static/public/images/my-background.jpg Note that the image has a large size : 3842 × 2162 I think this has to do with webpack loader configuration, but did not quite find how to adjust it to get it to work here. Any help would be very appreciated !",
    "question_tags": [
      "javascript",
      "css",
      "reactjs",
      "webpack",
      "frontend"
    ],
    "question_score": 12,
    "question_view_count": 19130,
    "question_creation_date": 1636496654,
    "answer_id": 69906036,
    "answer_text": "You are may be using a new version of Webpack, where url-loader and file-loader are deprecated and Asset Modules are the alternatives. Try using: { test: /\\.(jpg|png|svg|gif)$/, type: 'asset/resource', }, instead. For more information click here .",
    "answer_score": 15,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 37,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      15,
      12,
      19130,
      37,
      -125893088
    ]
  },
  {
    "question_id": 59320690,
    "question_url": "https://stackoverflow.com/questions/59320690/when-hosting-net-core-web-app-in-iis-what-are-the-pros-and-cons-between-in-pr",
    "question_title": "When hosting .NET Core web app in IIS, what are the pros and cons between &quot;In process&quot; and &quot;out of process&quot; hosting model",
    "question_text": "When hosting a .NET Core web application in IIS, you can choose between in process and out of process hosting model. Except for better performance by using in process, what are some pros and cons between \"in process\" and \"out of process\" hosting model? I would imagine that a \"out of process\" hosting model is easier to attach a debugger to.",
    "question_tags": [
      "iis",
      ".net-core",
      "backend"
    ],
    "question_score": 15,
    "question_view_count": 7363,
    "question_creation_date": 1576233124,
    "answer_id": 59349771,
    "answer_text": "Since ASP.NET Core 3.0, \"in process\" is the default, see this Microsoft page . When hosting the web application on IIS.ASP.NET Core Module forwards the requests to IIS HTTP Server (IISHttpServer). The IIS HTTP Server is a server that runs in-process with IIS. If you used Out-Of-Process hosting model, IIS HTTP Server won't be used. Instead Kestrel web server is used to process your requests. From Rick's blog : [In process] provides better performance and is generally less resource intensive as it avoids the extra network hop between IIS and Kestrel and maintaining an additional process on the machine that needs to be monitored. There are a few cases when OutOfProcess hosting might be desirable, such as for trouble shooting and debugging a failing server (you can run with console logging enabled for example) or if you want to be 100% compatible between different deployments of the same application, whether it's on Windows or Linux, since Kestrel is the primary mechanism used to handle HTTP requests on all platforms. With the InProcess model you're not using Kestrel, but rather a custom IISHttpServer implementation that directly interfaces with IIS's request pipeline. But for most intents and purposes I think running InProcess on IIS is the way to go, unless you have a very specific need to require Kestrel and OutOfProcess hosting.",
    "answer_score": 14,
    "answer_is_accepted": true,
    "answer_has_code": false,
    "answer_has_steps": false,
    "answer_word_count": 220,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      14,
      15,
      7363,
      220,
      -186156700
    ]
  },
  {
    "question_id": 54452879,
    "question_url": "https://stackoverflow.com/questions/54452879/how-to-remove-vue-no-use-v-if-with-v-for-warning",
    "question_title": "How to remove [vue/no-use-v-if-with-v-for] warning?",
    "question_text": "So I have a div element that supports v-for and v-if it works fine and the output is correct, but this warning really annoys me: [vue/no-use-v-if-with-v-for] The 'prit_type_ids' variable inside 'v-for' directive should be replaced with a computed property that returns filtered array instead. You should not mix 'v-for' with 'v-if'. Is there a way to remove this warning? I already added this block of code in my .eslintrc.js Source: https://github.com/vuejs/eslint-plugin-vue/blob/master/docs/rules/no-use-v-if-with-v-for.md#wrench-options Did i put it in the right place? or not. rules: { // allow debugger during development 'no-debugger': process.env.NODE_ENV === 'production' ? 'error' : 'off', \"vue/no-use-v-if-with-v-for\": [\"error\", { \"allowUsingIterationVar\": true }], } So basically, with this I have a nested loop, where as a specific element in the first loop is comparing a value from the second loop, if it matches, it will put the data from the 2nd loop in the respective column on the 1st loop. Here is the code: <div class=\"columns is-mobile\" v-if=\"!loading\"> <div class=\"column\" v-for=\"x in firstSection\" v-bind:key=\"x[0]\"> <div class=\"box\"> <article class=\"media\"> <div class=\"media-content\"> <div class=\"content\"> <div class=\"tags has-addons\"> <span class=\"tag is-medium\">Version number: </span> <span class=\"tag is-dark is-medium\">{{ x[0] }}</span> </div> <div class=\"tags has-addons\"> <span class=\"tag is-medium\">Version Effective Date: </span> <span class=\"tag is-dark is-medium\">{{ x[1] }} </span> </div> <div class=\"tags has-addons\"> <span class=\"tag is-medium\">Version Expiration Date: </span> <span class=\"tag is-dark is-medium\">{{ x[2] }}</span> </div> </div> <hr> <a class=\"button is-dark is-fullwidth is-medium\" @click=\"showPackages\" v-html=\"xPackageButton\"> </a> </div> </article> </div> <div v-if=\"xSeen\"> <div class=\"notification\" v-for=\"(pack, index) in packages\" v-bind:key=\"index\" v-if=\"pack[0] == x[0]\"> <p class=\"is-size-7\"> <strong> {{ pack[2] }} </strong> </p> <p class=\"is-size-7\"> {{ pack[1] }} </p> <hr> <p class=\"is-size-7\"> {{ pack[3] }} </p> <p class=\"is-size-7\"> {{ pack[4] }} </p> <div v-for=\"(param, index) in prit_type_ids\" v-bind:key=\"index\" v-if=\"param[1] == pack[4]\"> <p class=\"is-size-7\"> {{ param[0] }} </p> </div> </div> </div> </div> </div> Codes work fine but the thing is, I still have the warning even though I already add an entry in to the rules. I just want to remove the warning. Thanks guys.",
    "question_tags": [
      "javascript",
      "vue.js",
      "frontend",
      "backend",
      "vue-cli-3"
    ],
    "question_score": 17,
    "question_view_count": 26188,
    "question_creation_date": 1548905360,
    "answer_id": 54782754,
    "answer_text": "You need to turn off the rule in your eslintrc config options as follows: rules: { // allow debugger during development 'no-debugger': process.env.NODE_ENV === 'production' ? 'error' : 'off', \"vue/no-use-v-if-with-v-for\": \"off\" } Reference: https://eslint.org/docs/user-guide/configuring#configuring-rules I understand that you followed the instructions to set \"allowUsingIterationVar\": true which is not working. This is because you already specified \"error\" in the array literal syntax, which turns on the rule as per eslint config guide. As given in the reference page linked above, the first item in the array always indicates rule severity. In my sample config above, I am using a simple string to turn off the rule as follows: \"vue/no-use-v-if-with-v-for\": \"off\"",
    "answer_score": 13,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 109,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      13,
      17,
      26188,
      109,
      -213484381
    ]
  },
  {
    "question_id": 54723747,
    "question_url": "https://stackoverflow.com/questions/54723747/how-to-deploy-separated-backend-and-frontend-on-same-server",
    "question_title": "How to deploy separated backend and frontend on same server",
    "question_text": "I have developed a project with Vuejs as the front-end and Laravel as the back-end api.In localhost they run in different ports.How should I deploy them in production?",
    "question_tags": [
      "laravel",
      "vue.js",
      "deployment",
      "frontend",
      "backend"
    ],
    "question_score": 8,
    "question_view_count": 10159,
    "question_creation_date": 1550324895,
    "answer_id": 54726149,
    "answer_text": "When you build your Vue app for production, all the relevant files are in the dist folder. It does not run on any port, but instead the files are served by a webserver (e.g. Apache or Nginx). For a laravel api you normally have the public folder in the laravel installation visible, while having the rest of the files not directly accessible from the web. I am going to assume that you want to deploy the api and the frontend on the same domain. The easiest way of getting this to work is by having a specific prefix for your api. In the case below, I use the prefix /api for all api requests, since this is the default for api routes. Anything else is considered a request for the frontend. You set up your folder structure like the following. The public_html folder is what is normally loaded when going to example.com and you can test this by adding a test.txt file with some content and going to example.com/test.txt . The backend folder contains your laravel installation. The frontend folder contains everything that the dist folder contained after running npm run build . /var +-- /www +-- /vhosts +-- /example.com +-- public_html +-- /backend +-- /frontend To get everything to work, we are going to remove the public_html folder and replace it with a symlink to backend/public . cd /var/www/vhosts/example.com rm -r public_html ln -s ../backend/public public_html When we check example.com , we now should see that we can make requests to the api using example.com/api/someroute . There are several ways we can make the frontend work with this, but for ease of deployment, lets create a symlink to the dist folder. cd /var/www/vhosts/example.com/public_html ln -s ../../frontend/dist app If you are using hash mode for your Vue application and don't mind accessing the app through example.com/app , I believe this is all you would need to do. Otherwise you would need to modify the .htaccess file if you are using Apache, or change the rewrite configuration of whatever other webserver you are using. I imagine the .htaccess file would look something like this: # We assume that the FollowSymLinks option is enabled in the main Apache configuration. RewriteEngine On # Rewrite anything that starts with `api` to the laravel index file RewriteCond %{REQUEST_URI} ^/api RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME} !-f RewriteRule ^ index.php [L] # Rewrite anything else to the frontend app RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME} !-f RewriteRule ^ /app/index.html [L]",
    "answer_score": 13,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 412,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      13,
      8,
      10159,
      412,
      -212064929
    ]
  },
  {
    "question_id": 68178438,
    "question_url": "https://stackoverflow.com/questions/68178438/import-resolver-typescript-lib-not-found-error-in-jsconfig-json",
    "question_title": "&#39;import-resolver-typescript/lib&#39; not found error in jsconfig.json",
    "question_text": "Problem: Error File '/Users/nish7/Documents/Code/WebDev/HOS/frontend/node_modules/eslint-import-resolver-typescript/lib' not found. The file is in the program because: Root file specified for compilation Steps to reproduction: create-next-app npx jsconfig.json -t nextjs jsconfig.json \"compilerOptions\": { \"checkJs\": false, \"resolveJsonModule\": true, \"moduleResolution\": \"node\", \"target\": \"es2020\", \"module\": \"es2015\", \"baseUrl\": \".\", \"paths\": { \"@/components/*\": [\"components/*\"], \"@/styles/*\": [\"styles/*\"], \"@/pages/*\": [\"pages/*\"], \"@/utils/*\": [\"utils/*\"], \"@/theme/*\": [\"theme/*\"] } }, \"exclude\": [ \"dist\", \"node_modules\", \"build\", \".vscode\", \".next\", \"coverage\", \".npm\", \".yarn\" ], \"typeAcquisition\": { \"enable\": true, \"include\": [\"react\", \"react-dom\"] } } eslint.rc { \"extends\": [\"next\", \"next/core-web-vitals\"] } Specs vscode: Version 1.57.1 node: 14.17.1 (LTS) nextjs: 11.0.1 note: I added eslint-import-resolver-typescript module, but still dint work. Screenshot:",
    "question_tags": [
      "javascript",
      "typescript",
      "visual-studio-code",
      "frontend",
      "next.js"
    ],
    "question_score": 14,
    "question_view_count": 2986,
    "question_creation_date": 1624968558,
    "answer_id": 69242401,
    "answer_text": "If you are using vscode, try to disable TypeScript › Validate in settings. This solved it for me! Edit: Found a more sensible approach than totally disabling validation; setting the TypeScript SDK in the Vscode setting \"typescript.tsdk\": \"./node_modules/typescript/lib\"",
    "answer_score": 11,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 38,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      11,
      14,
      2986,
      38,
      -137421184
    ]
  },
  {
    "question_id": 70806367,
    "question_url": "https://stackoverflow.com/questions/70806367/prisma-how-to-automatically-update-updatedat-field-of-parent-element-when-a-ch",
    "question_title": "Prisma How to automatically update &quot;updatedAt&quot; field of parent element when a child element is created or updated?",
    "question_text": "Let's say I have this schema: model User { id String @id @default(cuid()) name String email String profile Profile? createdAt DateTime @default(now()) updatedAt DateTime @updatedAt } model Profile { id Int @id @default(autoicrement()) bio String? avatar String? user User @relation(fields: [userId], references: [id], onDelete: Cascade) userId String @unique } Now what I want to archive is, if a user's profile is updated, for example, a bio field is updated, I want the updatedAt field on User model to automatically reflect that and get updated too to the current timestamp. Any guide, hint or suggestion will be much appreciated!!",
    "question_tags": [
      "node.js",
      "server",
      "backend",
      "prisma"
    ],
    "question_score": 9,
    "question_view_count": 13880,
    "question_creation_date": 1642791568,
    "answer_id": 70806772,
    "answer_text": "The easiest way would be to make some wrapper function I think, for example: const updateUserProfile = (id, data) => { return prisma.profile.update({ where: { id }, data: { ...data, user: { update: { updatedAt: new Date() } } } }) }",
    "answer_score": 10,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 42,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      10,
      9,
      13880,
      42,
      -119598256
    ]
  },
  {
    "question_id": 68308209,
    "question_url": "https://stackoverflow.com/questions/68308209/docker-compose-failed-to-solve-rpc-error-code-unknown-desc-failed-to-comp",
    "question_title": "docker-compose, failed to solve: rpc error: code = Unknown desc = failed to compute cache key: &quot;/app/package.json&quot; not found: not found",
    "question_text": "I have a problem with pathways docker-compose , when I try build project with only docker build , it works great, but I mustn't use docker build , I have to use docker-compose . When I use docker-compose it returns 2 ERRORS at step 3/5 => ERROR [3/5] COPY /app/package.json . and at step 5/5 => ERROR [5/5] COPY /app . : PS C:\\Users\\mamba\\Desktop\\project-practice> docker-compose -f docker/docker-compose.yml up -d [+] Building 1.4s (9/9) FINISHED => [internal] load build definition from Dockerfile 0.1s => => transferring dockerfile: 31B 0.0s => [internal] load .dockerignore 0.1s => => transferring context: 34B 0.0s => [internal] load metadata for docker.io/library/node:latest 1.0s => [1/5] FROM docker.io/library/node@sha256:c3356b2b11ad643852a321308c15d70ca2bc106e40d3ffe7a4879d3588a9d479 0.0s => [internal] load build context 0.1s => => transferring context: 2B 0.0s => CACHED [2/5] WORKDIR /app 0.0s => ERROR [3/5] COPY /app/package.json . 0.0s => CACHED [4/5] RUN npm install 0.0s => ERROR [5/5] COPY /app . 0.0s ------ > [3/5] COPY /app/package.json .: ------ ------ > [5/5] COPY /app .: ------ failed to solve: rpc error: code = Unknown desc = failed to compute cache key: \"/app/package.json\" not found: not found this is my project structure http://skrinshoter.ru/s/080721/upY64zwf this is my Dockerfile FROM node WORKDIR /app COPY /app/package.json . RUN npm install COPY /app . EXPOSE 3000 CMD [\"npm\", \"start\"] this is my docker-compose.yml version: \"3.8\" services: react-app: working_dir: /app build: dockerfile: Dockerfile ports: - \"3000:3000\" volumes: - ./app/src:/app/src environment: - CHOKIDAR_USEPOLLING=true # env_file: # - ./docker/.env If I move docker-compose.yml upper in structure of files to project-practice , it works great, it builds and server starts, but I have to keep structure of folders and files like this. |-project-practice |-app | |... |-docker |...",
    "question_tags": [
      "reactjs",
      "docker",
      "docker-compose",
      "frontend",
      "backend"
    ],
    "question_score": 20,
    "question_view_count": 56338,
    "question_creation_date": 1625775784,
    "answer_id": 68308330,
    "answer_text": "Looks like you mounting volumes wrong. Change your docker-compose configuration from: build: dockerfile: Dockerfile volumes: - ./app/src:/app/src You mounting only the SRC folder, but you need files outside of it. Also you need to add context to your docker file to: build: context: ../ dockerfile: /docker/Dockerfile volumes: - ../app:/app The path should be relative to a docker-compose file location. Also you need to modify Dockerfile: FROM node WORKDIR /app COPY /app/package.json . RUN npm install COPY /app . EXPOSE 3000 CMD [\"npm\", \"start\"]",
    "answer_score": 9,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 83,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      9,
      20,
      56338,
      83,
      -136613957
    ]
  },
  {
    "question_id": 60156164,
    "question_url": "https://stackoverflow.com/questions/60156164/how-to-stop-firebase-re-auth-on-every-page-reload-in-a-react-app",
    "question_title": "How to stop firebase re-auth() on every page reload in a react app?",
    "question_text": "So i have this great react app using firebase auth and firestore. Everything working fine except Whenever i reload the page while a user is already logged in... navbar links change for a second. Looks like app automatically re-login(re-auth) the user on every page reload. Why so? How to get rid of it? Some look-alike code sample import React, {useState, useEffect} from 'react'; import {Switch, Route} from 'react-router-dom' import firebase from 'firebase/App' export const App = () => { const [isAuth, setIsAuth] = useState() const auth = firebase.auth() useEffect(() => { auth.onAuthStateChanged(user => { if(user) { setIsAuth(true) } else { setIsAuth(false) } }) }, [isAuth]) return( <div className=\"App\"> <Navbar /> <Switch> <Route to=\"/signIn\" component={Login} /> <Route to=\"/signUp\" component={SignUp} /> <Route to=\"/signOut\" component={SignOut} /> </Switch> </div> ) };",
    "question_tags": [
      "node.js",
      "reactjs",
      "firebase",
      "firebase-authentication",
      "backend"
    ],
    "question_score": 7,
    "question_view_count": 5483,
    "question_creation_date": 1581358660,
    "answer_id": 60157758,
    "answer_text": "Finally fixed it. Reason it was happening bcoz firebase servers were verifying the user on each page reload which took some time and cause flickering in navbar for half a second. Solution has three easy steps Once logged in, store the user as boolean on local storage. firebase.auth().onAuthStateChanged(user=>{ if (user) { // store the user on local storage localStorage.setItem('user', true); } else { // removes the user from local storage on logOut localStorage.removeItem('user'); } }) Check The user from local storage in navbar component const userLocal = JSON.parse(localStorage.getItem('user')); userLocal ? <SignedInLinks/> : <SignedOutLinks/>; Remove user from local storage on logout",
    "answer_score": 9,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 100,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      9,
      7,
      5483,
      100,
      -181031164
    ]
  },
  {
    "question_id": 67546789,
    "question_url": "https://stackoverflow.com/questions/67546789/handle-prisma-errors-with-express",
    "question_title": "Handle Prisma errors with Express",
    "question_text": "I am having some issues with error handling using ExpressJS and Prisma. Whenever a Prisma Exception occurs, my entire Node application crashes, and I have to restart it. I have done some googling and have looked at the Prisma Docs for error handling, but I can't find any answers. I know I could possibly use try and catch , but this feels unnecessary, as I could handle this much better with an error handler, especially when a lot of information on errors is passed through Prisma. I have tried to implement the Express error handler like this: // index.ts import errorHandler from \"./middleware/errorHandler\"; ... server.use(errorHandler); // errorHandler.ts import { NextFunction, Response } from \"express\"; // ts-ignore because next function is required for some weird reason // @ts-ignore const errorHandler = (err: any, _: any, res: Response, next: NextFunction) => { console.error(err.stack); res.status(500).send(\"Internal Server Error\"); }; export default errorHandler; This works fine for normal errors, but doesn't execute for Prisma errors, but instead just crashes the Node application. How can I implement an error handler so I can manage Prisma Expections?",
    "question_tags": [
      "node.js",
      "typescript",
      "express",
      "backend",
      "prisma"
    ],
    "question_score": 9,
    "question_view_count": 9894,
    "question_creation_date": 1621082173,
    "answer_id": 67608400,
    "answer_text": "I ran into this problem today and I couldn't find answers too. I believe we'll have to write our own custom error handler for Prisma exceptions and not throw the error. try { await prismaOperation(); } catch(e) { throw e; // avoid this which will crash our app /* Process Prisma error with error codes and prepare an appropriate error message */ const error = prismaCustomErrorHandler(e); res.send(error); // Sending response instead of passing it to our default handler } Also, // ts-ignore because next function is required for some weird reason In Express, error-handling functions have 4 arguments instead of 3: (err, req, res, next) . Express interprets a middleware function with 3 arguments as (req, res, next) which is different from, had you ommited the 4th argument, (err, _, res) . Hence, Express won't pass any error and your err will be a req object, _ (req) a res object and res a next function. Edit: ... const error = prismaCustomErrorHandler(e); res.send(error); // Sending response instead of passing it to our default handler ... // Edit: Or you could process and pass the error using `next(error)` to default error handler. The above method won't crash the app and indeed sends the response. But whether you use next or res.send , errors have to be processed.",
    "answer_score": 8,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 216,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      8,
      9,
      9894,
      216,
      -141307651
    ]
  },
  {
    "question_id": 61439693,
    "question_url": "https://stackoverflow.com/questions/61439693/how-to-delete-an-entry-from-a-record-in-typescript-based-on-the-id",
    "question_title": "How to delete an entry from a Record in typescript,based on the Id",
    "question_text": "I have a Main.tsx file where i have a Record ,personList,with key as PersonId and value as PersonInfo,i want to delete a particular entry from personList,based on Id provided.Below is my code: interface PersonInfo{ FirstName:string; SecondName:string; Age:string; } const [personList,setPersonList] = useState<Record<string,PersonInfo>>({}); //For inserting entry const Create = () => { setPersonList((oldList)=>{ return { ...oldList,[PersonId]:PersonDescription //PersonDescription is of type PersonInfo } }); }; const Delete = () => { const newPersonList :Record<string,PersonInfo>= personList.filter()//Here i want to delete the entry based on personId setPersonList(newPersonList); };",
    "question_tags": [
      "reactjs",
      "typescript",
      "frontend"
    ],
    "question_score": 14,
    "question_view_count": 33001,
    "question_creation_date": 1587899432,
    "answer_id": 61443711,
    "answer_text": "Since you're already assigning the keys of your object to the personId you can just do: const Delete = (id: string): void => { const filteredPersonList: Record<string,PersonInfo> = {} for(let key in personList){ if(key !== id){ filteredPersonList[key] = personList[key] } } setPersonList(filteredPersonList) }",
    "answer_score": 7,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 43,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      7,
      14,
      33001,
      43,
      -174490310
    ]
  },
  {
    "question_id": 60251879,
    "question_url": "https://stackoverflow.com/questions/60251879/backend-framework-choices-for-react-native",
    "question_title": "Backend framework choices for React Native",
    "question_text": "I want to develop an android app that is based on server-client system. I want to develop both backend and android client. It's 2020 and there has already many frameworks developed to provide server side missions to programs. My question is What are the trending backend technologies in android world (from database to REST API frameworks), with reasons? For now, I have 2 framework/library on my mind. Spring and Node.js. Google Firebase are also in that list. I also have another question Suppose that I made a backend project and want to deploy it on a real server (development made on localhost). What choices should be made ? For example, I made my development on Mysql and Springboot framework, should that server provide support for MySql and Java ? What is the procedure to deploy both database and backend application ? Thanks.",
    "question_tags": [
      "android",
      "react-native",
      "server",
      "client-server",
      "backend"
    ],
    "question_score": 11,
    "question_view_count": 13634,
    "question_creation_date": 1581878351,
    "answer_id": 60252064,
    "answer_text": "You can develop web server using ExpressJs in Node, or using Django/Flask in Python, using golang, PHP Laravel or Codeignitor and many more. It all depends on which language you're already familiar with and which is the best for your use case. Frontend framework has very less to nothing to do with which back end to chose. Answer to second question. You can deploy your app in AWS, DigitalOcean, GCP etc. They'll provide VPS and other options to host your application and will make it accessible to outer world using IP or domain, however you configure it. You can install and self manage the DBs in the virtual system you have or you can use Managed database solutions provided by cloud platform, which has a pricing but is easier to manage. PS: Both your questions were very broad and more of a opinion based answerable questions, it's better to ask these type of questions in platforms like Quora where you can get very detailed answers. Anyways, good luck with your project :)",
    "answer_score": 7,
    "answer_is_accepted": true,
    "answer_has_code": false,
    "answer_has_steps": false,
    "answer_word_count": 172,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      7,
      11,
      13634,
      172,
      -180511473
    ]
  },
  {
    "question_id": 66957751,
    "question_url": "https://stackoverflow.com/questions/66957751/when-to-use-s3-presigned-url-vs-upload-through-backend",
    "question_title": "When to use S3 Presigned Url vs Upload through Backend",
    "question_text": "I read Amazon s3: direct upload vs presigned url and was wondering when use a direct upload from the backend to s3 vs a presigned url. I understand that the direct upload requires extra bandwidth (user -> server -> s3) but I believe its more secure. Does the savings in bandwidth with the presigned url justify the slight drawback with security (i.e. with stuff like user messages)? I am also checking the file types on the backend (via magic numbers) which I think is incompatible with presigned urls. Should this reason alone result in not using urls? In addition I have a file size limit of 5 MB (not sure if this is considered large?). Would there be a significant difference in terms of performance and scalability (i.e. thousands to millions of files sent per hour) between using presigned urls vs direct upload.",
    "question_tags": [
      "amazon-s3",
      "backend",
      "pre-signed-url"
    ],
    "question_score": 9,
    "question_view_count": 6593,
    "question_creation_date": 1617646688,
    "answer_id": 70005509,
    "answer_text": "You question sounds like you're asking for opinion, so, mine is as follows: It depends on how secure you need it to be and what you consider is safe. I was wondering about the same questions and I believe that in my case, in the end, it is all secured by SSL encryption anyway (which is enough for me), so I prefer to save my servers bandwidth and memory usage. Once more it depends on your own system requirements. Anyway, if any upload fails, S3 will be returning an error cause after the request failure. If checking file type is a MUST and checking it on your backend is the only way to do it, you already have your answer. In a scenario with millions of files (with close to 5MB each) being sent every hour, I would recommend direct upload, because that would be a lot of RAM usage to receive and resend every file. There are a few more advantages of uploading directly to S3 as you can read here",
    "answer_score": 6,
    "answer_is_accepted": true,
    "answer_has_code": false,
    "answer_has_steps": true,
    "answer_word_count": 172,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      6,
      9,
      6593,
      172,
      -144743136
    ]
  },
  {
    "question_id": 54561865,
    "question_url": "https://stackoverflow.com/questions/54561865/cant-start-a-curllocalhost3000-port-shows-uri-error",
    "question_title": "Can&#39;t start a &quot;curl:localhost:3000&quot; port, shows URI Error",
    "question_text": "I am just starting to begin node js, specifically starting up a server, and trying out a new app to trim out an URL. But I am stuck here. Environment: Windows Text Editor: VSCode my code for index.js : /* * Primary file for the API * */ // Dependencies var http = require('http'); var url = require('url'); // The Server shoudl respond to all requests with a string var server = http.createServer(function (req, res) { // Get URL and Parse it var parsedUrl = url.parse(req.url, true); //Get the Path var path = parsedUrl.pathname; var trimmedPath = path.replace(/^\\/+|\\/+$/g, ''); //Send the Response res.end('Hello World!\\n'); //Log the requst path console.log('Request recieved on path: ' + trimmedPath); }); // Start the server, and have it listen on port 3000 server.listen(3000, function () { console.log(\"The server is listening on port 3000 now\"); }); After this, I start up the server using the command node index.js It shoots up the server and then I open another terminal and I type curl localhost:3000 and it gives me the following error curl : The URI prefix is not recognized. At line:1 char:1 + curl localhost:3000 + ~~~~~~~~~~~~~~~~~~~ + CategoryInfo : NotImplemented: (:) [Invoke-WebRequest], NotSupportedException + FullyQualifiedErrorId : WebCmdletIEDomNotSupportedException,Microsoft.PowerShell.Commands.InvokeWebRequestCommand",
    "question_tags": [
      "javascript",
      "node.js",
      "curl",
      "backend"
    ],
    "question_score": 8,
    "question_view_count": 15002,
    "question_creation_date": 1549484206,
    "answer_id": 63484111,
    "answer_text": "Instead of using curl alone, add http to the URL to look something of this type:- curl http://localhost:3000 (You can use your port number) NB: https isn't preferred",
    "answer_score": 5,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 28,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      5,
      8,
      15002,
      28,
      -212905618
    ]
  },
  {
    "question_id": 64557556,
    "question_url": "https://stackoverflow.com/questions/64557556/typeorm-bulk-insert",
    "question_title": "TypeORM bulk insert?",
    "question_text": "How do i bulk insert multiple records in 1 query so my db will be efficient I want to create Office and insert multiple new equipments into that office. Table/model code: OFFICE @Entity({ name: 'offices' }) export class Office extends Timestamps { @OneToMany(() => Equipment, (equipment: Equipment) => equipment.office, { onDelete: 'CASCADE', onUpdate: 'CASCADE' }) equipment: Array<Equipment>; } EQUIPMENT @Entity({ name: 'equipment' }) export class Equipment extends Timestamps { @Column({ name: 'equipment_id', type: 'int', nullable: false, width: 2, default: 0 }) equipment_id: number; @ManyToOne(() => Office, (office: Office) => office.equipment) @JoinColumn({ name: 'office_id' }) office: Office; }",
    "question_tags": [
      "express",
      "mariadb",
      "backend",
      "bulkinsert",
      "typeorm"
    ],
    "question_score": 7,
    "question_view_count": 45952,
    "question_creation_date": 1603812099,
    "answer_id": 64573419,
    "answer_text": "I suggest you to use cascades property in relationships: @Entity({ name: 'offices' }) export class Office extends Timestamps { @OneToMany(() => Equipment, (equipment: Equipment) => equipment.office, { cascade: true, // <= here onDelete: 'CASCADE', onUpdate: 'CASCADE' }) equipment: Array<Equipment>; } Now if you set equipment when creating an instance of Office, it automatically insert an Equipment instance into database: await Office.create({equipment: ['whatever']}).save(); Or if you use data mapper approach with repositories based on this link : const officeRepository = connection.getRepository(Office); const office = new Office(); const equipment1 = new Equipment(); // and set your properties or make more instances office.equipment = [equipment1]; // or more instances await officeRepository.save(office);",
    "answer_score": 5,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 108,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      5,
      7,
      45952,
      108,
      -158577725
    ]
  },
  {
    "question_id": 70413126,
    "question_url": "https://stackoverflow.com/questions/70413126/how-to-define-an-icon-for-a-custom-product-data-tab-in-woocommerce",
    "question_title": "How to define an icon for a custom product data tab in WooCommerce",
    "question_text": "I have created a custom product data tab in WooCommere using: function my_custom_panel(){ ?> <div class='panel woocommerce_options_panel'> <?php woocommerce_wp_text_input(array( 'id' => '_my_custom_data', 'label' => __('Product Support', 'woocommerce'), )); ?> </div> <?php } add_action('woocommerce_product_data_panels', 'my_custom_panel'); Now I'm trying to change its icon/dashicon on the admin screen: I tried to change the template html-product-data-panel.php but I can't find the related code to dashicons in the template: <ul class=\"product_data_tabs wc-tabs\"> <?php foreach (self::get_product_data_tabs() as $key => $tab) : ?> <li class=\"<?php echo esc_attr($key); ?>_options <?php echo esc_attr($key); ?>_tab <?php echo esc_attr(isset($tab['class']) ? implode(' ', (array) $tab['class']) : ''); ?>\"> <a href=\"#<?php echo esc_attr($tab['target']); ?>\"><span><?php echo esc_html($tab['label']); ?></span></a> </li> <?php endforeach; ?> <?php do_action('woocommerce_product_write_panel_tabs'); ?> </ul> Is there any special hook for this? How can I add a custom icon like the other tabs to my custom tab? Any help would be appreciated.",
    "question_tags": [
      "wordpress",
      "woocommerce",
      "backend",
      "product",
      "dashicons"
    ],
    "question_score": 7,
    "question_view_count": 2151,
    "question_creation_date": 1639930345,
    "answer_id": 70413283,
    "answer_text": "html-product-data-panel.php is not a template file. So NEVER EDIT PLUGIN FILES! When WooCommerce gets updated, it overwrites the installation with any new updates included in the release. If the core has been chopped up and modified beforehand, it’ll wipe out those changes. That means big sections of the installation will just stop working. Modifying the core can have all kinds of unintended consequences, like preventing updates from working correctly, further screwing up an installation. Even worse is the potential to introduce unintended security vulnerabilities. Messing with core files could easily introduce a hole allowing hackers to take over a site. The icon is assigned via CSS: // Add custom product setting tab function filter_woocommerce_product_data_tabs( $default_tabs ) { $default_tabs['custom_tab'] = array( 'label' => __( 'Custom Tab', 'woocommerce' ), 'target' => 'my_custom_tab_data', 'priority' => 80, 'class' => array() ); return $default_tabs; } add_filter( 'woocommerce_product_data_tabs', 'filter_woocommerce_product_data_tabs', 10, 1 ); // Contents custom product setting tab function action_woocommerce_product_data_panels() { // Note the 'id' attribute needs to match the 'target' parameter set above echo '<div id=\"my_custom_tab_data\" class=\"panel woocommerce_options_panel\">'; // Add field woocommerce_wp_text_input(array( 'id' => '_my_custom_data', 'label' => __( 'Product Support', 'woocommerce' ), )); echo '</div>'; } add_action( 'woocommerce_product_data_panels', 'action_woocommerce_product_data_panels', 10, 0 ); // Add CSS - icon function action_admin_head() { echo '<style> #woocommerce-product-data ul.wc-tabs li.custom_tab_options a::before { content: \"\\f101\"; } </style>'; } add_action( 'admin_head', 'action_admin_head' ); Note: by adjusting the priority number you display the new tab before or after other existing tabs. For other icons, see: Developer Resources: Dashicons",
    "answer_score": 5,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 245,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      5,
      7,
      2151,
      245,
      -122459479
    ]
  },
  {
    "question_id": 55266910,
    "question_url": "https://stackoverflow.com/questions/55266910/how-to-avoid-css-conflicts-in-reactjs",
    "question_title": "How to avoid CSS conflicts in ReactJs",
    "question_text": "I am not at all an expert in react, but from what I could see if I import some css sheets these will be for all my application. If I wanted to use react for a multi-page app how do I define css sheets for each page? My file structure Page 1 import React, { Component } from \"react\"; import \"./style.css\"; export default class Page1 extends Component { render() { return ( <div> <button>with css</button> </div> ); } } Page 2 import React, { Component } from \"react\"; export default class Page2 extends Component { render() { return ( <div> <button>no css</button> </div> ); } } style.css button { background: green; } This style should only be applied to the first page but it is also applied to page 2 . How can I solve this?",
    "question_tags": [
      "javascript",
      "html",
      "css",
      "reactjs",
      "frontend"
    ],
    "question_score": 12,
    "question_view_count": 16359,
    "question_creation_date": 1553103061,
    "answer_id": 71997966,
    "answer_text": "There are two different ways of doing this, by using: CSS modules CSS in JS This short article compares the two. I prefer CSS modules. How to use CSS modules? Setup Let's say your CSS file is named styles.css to make it a module you will need to change it to styles.module.css Import the CSS file like so import styles from './styles.module.css' (you can use any other name instead of styles ) Naming <div className={styles.box_one}> some content </div> Important: make sure the class in your CSS file is named .box_one and not .box-one My personal preference I would import like so import s from './styles.module.css' using s instead of styles just to make the code cleaner. My JSX would look like below <div className={s.box_one}> some content </div>",
    "answer_score": 4,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 127,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      4,
      12,
      16359,
      127,
      -209286681
    ]
  },
  {
    "question_id": 78841455,
    "question_url": "https://stackoverflow.com/questions/78841455/sass-1-77-7-breaking-change-mixed-declarations-are-there-any-simple-work-arou",
    "question_title": "Sass 1.77.7 Breaking Change: Mixed Declarations - Are there any simple work arounds or updates for existing projects?",
    "question_text": "Sass announced there will be some upcoming breaking changes to the syntax in mixed declarations . As of Sass 1.77.7 I'm getting the following warnings when compiling. - Sass's behavior for declarations that appear after nested rules will be changing to match the behavior specified by CSS in an upcoming version. To keep the existing behavior, move the declaration above the nested rule. To opt into the new behavior, wrap the declaration in & {} . Below is a basic example of the issue. If we define a mixin and then add it to a style class at the top of the class then declare other rules we will receive the above warning in the console. @mixin border($color) { border: 1px solid $color; } .style-with-mixin { @include border(red); padding: 20px; // ...Any other styles } To remove this error we either have to wrap styles like the following - .style-with-mixin { @include border(red); &{ padding: 20px; // ...Any other styles } } Or shift the mixin to be the last style declaration (this also blocks the possibility of overriding any of the mixin styles) - .style-with-mixin { padding: 20px; // ...Any other styles @include border(red); } However, both of these solutions involve a lot of rewriting of styles for whole projects which isn't going to be a realistic in my case. Other than locking the sass version has anyone been able to find a work around that can be implemented efficiently in exisiting projects?",
    "question_tags": [
      "css",
      "sass",
      "syntax",
      "frontend",
      "dart-sass"
    ],
    "question_score": 17,
    "question_view_count": 12106,
    "question_creation_date": 1722990828,
    "answer_id": 79615729,
    "answer_text": "Sass has a NPM Package available to help with migration: sass-migrator . I recently used it on a large codebase and while it didn't do the complete migration, it did a big part of it. You have here the link to the npm package and you can install it with npm i --save-dev sass-migrator . Once you install it run sass-migrator <migration> <entrypoint.scss...> on the CLI. According to the documentation : The Sass migrator automatically updates your Sass files to help you move on to the latest and greatest version of the language. Each of its commands migrates a single feature, to give you as much control as possible over what you update and when. --migrate-deps This option (abbreviated -d) tells the migrator to change not just the stylesheets that are explicitly passed on the command line, but also any stylesheets that they depend on using the @use rule, @forward rule, or @import rule. --load-path This option (abbreviated -I) tells the migrator a load path where it should look for stylesheets. It can be passed multiple times to provide multiple load paths.",
    "answer_score": 3,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 182,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      3,
      17,
      12106,
      182,
      -39398913
    ]
  },
  {
    "question_id": 68399161,
    "question_url": "https://stackoverflow.com/questions/68399161/why-not-use-runserver-for-production-at-django",
    "question_title": "Why not use &quot;runserver&quot; for production at Django?",
    "question_text": "Everywhere i see that uWSGI and Gunicorn are recommended for production mode from everyone. However, there is a lot more suffering to operate with it, the python manage.py runserver is more faster, simpler, and the logging is also more visible if something goes wrong. Still, why not recommend the \"python manage.py runserver\" command for live production?",
    "question_tags": [
      "python",
      "django",
      "server",
      "backend",
      "uwsgi"
    ],
    "question_score": 8,
    "question_view_count": 6428,
    "question_creation_date": 1626374044,
    "answer_id": 68400109,
    "answer_text": "The runserver management command is optimized for different things from a web-server. Here are some things it does that are great for local development but would add unnecessary overhead in a production environment ( source ): The development server automatically reloads Python code for each request, as needed When you start the server, and each time you change Python code while the server is running, the system check framework will check your entire Django project for some common errors Serves static files if the staticfiles contrib app is enabled (in a manner the docs describe as \"grossly inefficient and probably insecure\") Meanwhile, production web-servers are designed to handle massively parallel workloads and are also under much higher security standards as they are the entry-point for all port 80/443 traffic to the server",
    "answer_score": 3,
    "answer_is_accepted": true,
    "answer_has_code": false,
    "answer_has_steps": false,
    "answer_word_count": 132,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      3,
      8,
      6428,
      132,
      -136015780
    ]
  },
  {
    "question_id": 60250605,
    "question_url": "https://stackoverflow.com/questions/60250605/adonisjs-how-to-return-validation-messages-according-to-the-locale-of-antl-pro",
    "question_title": "AdonisJS - How to return validation messages according to the locale of Antl Provider",
    "question_text": "I'm applying internationalization to my API and I'm having some issues related to Antl and validation messages. With standard response messages, I'm returning according to the locale set by the user. I created a route to switch locales and set to a cookie and a global middleware to get the locale from the cookie and then I just return the message stored in the locale resources. Global Middleware: class Locale { async handle ({ request, antl }, next) { const lang = request.cookie('lang') if (lang) { antl.switchLocale(lang) } await next() } } Route: Route.get('/switch/:lang', ({ params, antl, request, response }) => { // Getting the current available locales const locales = antl.availableLocales() try { // Saving into cookies if (locales.indexOf(params.lang) > -1) { response.cookie('lang', params.lang, { path: '/' }) } return response.status(200).send({ message: 'Locale changed succesfully' }) } catch (err) { return response.status(err.status).send({ error: 'Something went wrong while trying to switch locales', data: { message: err.message || 'Error message not found', name: err.name } }) } }) But i have two files with validation messages: PT - https://github.com/LauraBeatris/xpack-adonis-api/blob/develop/resources/locales/pt/validation.json EN - https://github.com/LauraBeatris/xpack-adonis-api/blob/develop/resources/locales/en/validation.json And I want to return the validation messages according to the current locale set by the user, but the problem is that the get method of the validator class doesn't have access to the antl context object like the others middlewares. Messages method of the validator: get messages () { return Antl.list('validation') } But, when I changed the locale with the antl object provided by the middleware context, it doesn't change in the global provider, so the validation messages will always return with the default locale, instead of the one set by the user in the middleware. I want to integrate the locale switch route with that antl global provider, so I'll be able to return Portuguese validation messages, for example. That's the repo of my project: https://github.com/LauraBeatris/xpack-adonis-api",
    "question_tags": [
      "javascript",
      "node.js",
      "backend",
      "adonis.js",
      "lucid"
    ],
    "question_score": 7,
    "question_view_count": 2507,
    "question_creation_date": 1581870461,
    "answer_id": 60361795,
    "answer_text": "To use the Antl object in the get messages() method of the validator, you need to use this.ctx.antl . Like : var antl = this.ctx.antl; ... antl.formatMessage(...) Adonis does not store the language used by Antl between queries. All routes must have the middleware that applies the language (the one you made). Example : Route.get('/user', 'UserController.Get').middleware(['Locale']); // Use cookie language Route.get('/user', 'UserController.Get'); // Use default language If you want all routes to have this middleware, you have to add it in start/kernel.js . : https://adonisjs.com/docs/4.1/middleware#_global_middleware Don't hesitate if you need more information :)",
    "answer_score": 3,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 93,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      3,
      7,
      2507,
      93,
      -180519363
    ]
  },
  {
    "question_id": 55753184,
    "question_url": "https://stackoverflow.com/questions/55753184/monolithic-microservices",
    "question_title": "Monolithic + MicroServices",
    "question_text": "Right now I need to know exactly how can I instantly deploy a micro service based backend when needed? I can manage all the integration of technologies by myself but when it comes to hosting on AWS its just impossible for me to get those many instances and it is just impossible to afford right now. Im contemplating on the idea of starting with a monolithic backend while having the possibility of deploying micro services backend instantly when the business kicks off. But Im not sure how to achieve this idea if ever it is possible. Is it possible or am I wrong? Please help, thanks.",
    "question_tags": [
      "microservices",
      "backend"
    ],
    "question_score": 7,
    "question_view_count": 512,
    "question_creation_date": 1555618674,
    "answer_id": 55757400,
    "answer_text": "This is common issue if planing to use Aws EBS, I had same issue and solved using following approch 1) Think design as monolithic and then decide further into bounded context and each bounded context will be a microservicea. 2) Now design your database and try to keep.each microservice db into separate schema. 3) Now in maven module create parent child module . 4) In parents module keep your spring boot main method, swagger,and common module like security etc 5) Disable spring boot nature in child module . 6) Add all child module microservice into parent module and maven build install. 7) Deploy on AWS EBS . 8 ) Expose all microservice using Aws Api getway. Benefits: in future whenever you will be able to support infrastructure cost just move module and db schema and no other changes required. Disagreed with statement that \"wrong perception that deploying monolithic is cheaper than micro-services\" plz check Aws cost estimations monolythic is cheaper then microservice ,microservice need polygot persistence and independent hosting. https://aws.amazon.com/premiumsupport/knowledge-center/estimating-aws-resource-costs/ https://calculator.aws/#/",
    "answer_score": 3,
    "answer_is_accepted": true,
    "answer_has_code": false,
    "answer_has_steps": false,
    "answer_word_count": 171,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      3,
      7,
      512,
      171,
      -206771150
    ]
  },
  {
    "question_id": 56492371,
    "question_url": "https://stackoverflow.com/questions/56492371/vue-how-to-test-component-with-slot-and-slot-props",
    "question_title": "Vue how to test component with slot and slot-props",
    "question_text": "I want to test this FooComponent : <div> <slot :fn=\"internalFn\" /> </div> It's used like that (e.g. in ParentComponent ): <FooComponent> <template slot-scope=\"slotProps\"> <BarComponent @some-event=\"slotProps.fn\" /> </template> </FooComponent> So I want to test how my component reacts on calling this \"fn\" from slot props. The easiest way I see is to take method itself and call it, like that: cosnt wrapper = shallowMount(FooComponent, /* ... */) wrapper.vm.methods.internalFn(/* test payload */) expect(wrapper.emitted()).toBe(/* some expectation */) But this is well known as anti-pattern about testing internal implementation. So instead I would like to test it via prop fn passed into slot, because it's also some sort of component interface, like component own props. But how to to test props passed in slot? I can imagine it's working only in case if I test that ParentComponent something like that: const wrapper = shallowMount(ParentComponent, /* ... */) const foo = wrapper.find(FooComponent) wrapper.find(BarComponent).vm.$emit('some-event', /*...*/) /* write expectations against foo */ But that feels like tests for FooComponent inside tests for ParentComponent Maybe there is a better way to do it?",
    "question_tags": [
      "unit-testing",
      "vue.js",
      "testing",
      "frontend",
      "vue-test-utils"
    ],
    "question_score": 13,
    "question_view_count": 18951,
    "question_creation_date": 1559902462,
    "answer_id": 56570559,
    "answer_text": "UPD: below the line is the original answer that I gave years ago. For today I would say that one of these approaches would be good enough: Don't test the slot method, but test the user-facing feature that relies on it. Try to test it manually first, notice how do you do it, then try to write a similar test. E.g. with testing-library/vue If the first option is too hard to do, try to come up with some fake testing component. The idea is very similar to what I described in the question But that feels like tests for FooComponent inside tests for ParentComponent But instead of using the ParentComponent just create some very simple inline component (right in your FooComponent.spec.js file), that uses the component with a slot. Original answer that was given in 2020: Since there are no answers so I just share what I ended up with. I decided to test the internal method. It's not cool, but at least, because I use typescript, I have a type-safe test, which will fail with a clear type error if I rename or modify the method which I test. Looks like this: import Foo from '@/components/foo/Foo.ts' import FooComponent from '@/components/foo/Foo.vue' /*...*/ cosnt wrapper = <Foo>shallowMount(FooComponent, /* ... */) // notice that because I passed `Foo` which is a class-component, // I have autocomplete and type checks for vm.* wrapper.vm.internalFn(/* test payload */) expect(wrapper.emitted()).toBe(/* some expectation */)",
    "answer_score": 1,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 237,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      1,
      13,
      18951,
      237,
      -202487280
    ]
  },
  {
    "question_id": 70662482,
    "question_url": "https://stackoverflow.com/questions/70662482/react-query-mutate-onsuccess-function-not-responding",
    "question_title": "`react-query` mutate onSuccess function not responding",
    "question_text": "query, I'm making a bulletin board right now. So, I put the values ​​of title, content in the Form information into the react-query function onSuccess . In the value, console.log does not react. export const useAddFAQPost = () => { return useMutation(FaqPost) } export function FaqPost(data: FAQ) { return axios.post<FAQ>('/add', data, { }) } const { mutate } = useAddFAQPost() const onSubmit = useCallback((event: React.ChangeEvent<FormEvent>) => { event.preventDefault(); return mutate({ title, type } as FAQ), { onSuccess: async (data: string, context: string) => { console.log(data); console.log('why not?'); }, onError: async (data: string, context: string) => { console.log(data); } }; }, [title, type]) return ( <> <form onSubmit={onSubmit}> <input type=\"text\" name=\"title\" value={title} ... /> <option value=\"faq\">FAQ</option> </form> </> ) If onSubmit succeeds or fails, the console.log in onSuccess, onError should be recorded, but it is not being recorded. Why are you doing this? onSuccess, onError doesn't seem to respond. I don't know why. Help",
    "question_tags": [
      "javascript",
      "reactjs",
      "frontend",
      "react-query"
    ],
    "question_score": 11,
    "question_view_count": 31363,
    "question_creation_date": 1641882627,
    "answer_id": 70662804,
    "answer_text": "The onSuccess / onError and so on method should be define in the useMutation hook creation and not when you call the mutate function as per documention. https://react-query.tanstack.com/guides/mutations You'll have to adapt to your need but the idea is: export const useAddFAQPost = () => { return useMutation(FaqPost, { onSuccess: async (data: string, context: string) => { console.log(data); console.log('why not?'); }, onError: async (data: string, context: string) => { console.log(data); } }) } You could also pass it when you call useAddFAQPost()",
    "answer_score": -6,
    "answer_is_accepted": true,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 82,
    "preference_answer_ok": true,
    "rank_key": [
      1,
      -6,
      11,
      31363,
      82,
      -120507115
    ]
  },
  {
    "question_id": 63124161,
    "question_url": "https://stackoverflow.com/questions/63124161/attempted-import-error-switch-is-not-exported-from-react-router-dom",
    "question_title": "Attempted import error: &#39;Switch&#39; is not exported from &#39;react-router-dom&#39;",
    "question_text": "I don't know why I am getting this error and I can't find an answer for it anywhere. I have uninstalled the react-router-dom package and reinstalled it, but it continues to tell me that the switch module is not exported from react-router-dom. Here's my code. The error I'm getting: Attempted import error: 'Switch' is not exported from 'react-router-dom'. Code import React from 'react'; import './App.css'; import NavBar from './components/navbar.js'; import Footer from './components/footer.js'; import Home from './components/pages/homepage/home.js'; import { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom'; function App() { return ( <Router> <div className=\"app-container\"> <NavBar /> <Switch> <Route path=\"/home\" component={Home} /> </Switch> <Footer /> </div> </Router> ); } export default App;",
    "question_tags": [
      "reactjs"
    ],
    "question_score": 774,
    "question_view_count": 1104666,
    "question_creation_date": 1595886898,
    "answer_id": 69849271,
    "answer_text": "In react-router-dom v6, \"Switch\" is replaced by routes \"Routes\". You need to update the import from import { Switch, Route } from \"react-router-dom\"; to import { Routes ,Route } from 'react-router-dom'; You also need to update the Route declaration from <Route path=\"/\" component={Home} /> to <Route path='/' element={<Home/>} /> In react-router-dom , you also do not need to use the exact in the Route declaration. For more information, you can visit the official documentation: upgrade to react-router-dom v6",
    "answer_score": 1387,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 78,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      1387,
      774,
      1104666,
      78,
      -166502792
    ]
  },
  {
    "question_id": 53688899,
    "question_url": "https://stackoverflow.com/questions/53688899/what-is-the-type-of-the-children-prop",
    "question_title": "What is the type of the &#39;children&#39; prop?",
    "question_text": "I have a very simple functional component as follows: import * as React from 'react'; export interface AuxProps { children: React.ReactNode } const aux = (props: AuxProps) => props.children; export default aux; And another component: import * as React from \"react\"; export interface LayoutProps { children: React.ReactNode } const layout = (props: LayoutProps) => ( <Aux> <div>Toolbar, SideDrawer, Backdrop</div> <main> {props.children} </main> <Aux/> ); export default layout; I keep on getting the following error: [ts] JSX element type 'ReactNode' is not a constructor function for JSX elements. Type 'undefined' is not assignable to type 'ElementClass'. [2605] How do I type this correctly?",
    "question_tags": [
      "reactjs",
      "typescript",
      "jsx",
      "typescript2.0"
    ],
    "question_score": 798,
    "question_view_count": 700763,
    "question_creation_date": 1544323113,
    "answer_id": 57253387,
    "answer_text": "Just children: React.ReactNode .",
    "answer_score": 1009,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 4,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      1009,
      798,
      700763,
      4,
      -218066577
    ]
  },
  {
    "question_id": 54496398,
    "question_url": "https://stackoverflow.com/questions/54496398/typescript-type-string-undefined-is-not-assignable-to-type-string",
    "question_title": "TypeScript: Type&#160;&#39;string&#160;|&#160;undefined&#39;&#160;is&#160;not&#160;assignable&#160;to&#160;type&#160;&#39;string&#39;",
    "question_text": "When I make any property of an interface optional, and while assigning its member to some other variable like this: interface Person { name?: string, age?: string, gender?: string, occupation?: string, } function getPerson() { let person = <Person>{name:\"John\"}; return person; } let person: Person = getPerson(); let name1: string = person.name; // <<< Error here I get an error like the following: TS2322: Type 'string | undefined' is not assignable to type 'string'. Type 'undefined' is not assignable to type 'string'. How do I get around this error?",
    "question_tags": [
      "typescript"
    ],
    "question_score": 631,
    "question_view_count": 1300349,
    "question_creation_date": 1549133467,
    "answer_id": 57062363,
    "answer_text": "You can now use the non-null assertion operator that is here exactly for your use case. It tells TypeScript that even though something looks like it could be null, it can trust you that it's not: let name1:string = person.name!; // ^ note the exclamation mark here",
    "answer_score": 997,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 47,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      997,
      631,
      1300349,
      47,
      -213256308
    ]
  },
  {
    "question_id": 69394632,
    "question_url": "https://stackoverflow.com/questions/69394632/webpack-build-failing-with-err-ossl-evp-unsupported",
    "question_title": "Webpack build failing with ERR_OSSL_EVP_UNSUPPORTED",
    "question_text": "I'm having an issue with a Webpack build process that suddenly broke, resulting in the following error... <s> [webpack.Progress] 10% building 0/1 entries 0/0 dependencies 0/0 modules node:internal/crypto/hash:67 this[kHandle] = new _Hash(algorithm, xofLen); ^ Error: error:0308010C:digital envelope routines::unsupported at new Hash (node:internal/crypto/hash:67:19) at Object.createHash (node:crypto:130:10) at BulkUpdateDecorator.hashFactory (/app/node_modules/webpack/lib/util/createHash.js:155:18) at BulkUpdateDecorator.update (/app/node_modules/webpack/lib/util/createHash.js:46:50) at OriginalSource.updateHash (/app/node_modules/webpack-sources/lib/OriginalSource.js:131:8) at NormalModule._initBuildHash (/app/node_modules/webpack/lib/NormalModule.js:888:17) at handleParseResult (/app/node_modules/webpack/lib/NormalModule.js:954:10) at /app/node_modules/webpack/lib/NormalModule.js:1048:4 at processResult (/app/node_modules/webpack/lib/NormalModule.js:763:11) at /app/node_modules/webpack/lib/NormalModule.js:827:5 { opensslErrorStack: [ 'error:03000086:digital envelope routines::initialization error' ], library: 'digital envelope routines', reason: 'unsupported', code: 'ERR_OSSL_EVP_UNSUPPORTED' } command terminated with exit code 1 I've tried googling ERR_OSSL_EVP_UNSUPPORTED webpack which yielded almost no useful results, but it did highlight an issue using MD4 as provided by OpenSSL (which is apparently deprecated?) to generate hashes. The webpack.config.js code is as follows: const path = require('path'); const webpack = require('webpack'); /* * SplitChunksPlugin is enabled by default and replaced * deprecated CommonsChunkPlugin. It automatically identifies modules which * should be splitted of chunk by heuristics using module duplication count and * module category (i. e. node_modules). And splits the chunks… * * It is safe to remove \"splitChunks\" from the generated configuration * and was added as an educational example. * * https://webpack.js.org/plugins/split-chunks-plugin/ * */ /* * We've enabled TerserPlugin for you! This minifies your app * in order to load faster and run less javascript. * * https://github.com/webpack-contrib/terser-webpack-plugin * */ const TerserPlugin = require('terser-webpack-plugin'); module.exports = { mode: 'development', entry: './src/js/scripts.js', output: { path: path.resolve(__dirname, 'js'), filename: 'scripts.js' }, devtool: 'source-map', plugins: [new webpack.ProgressPlugin()], module: { rules: [] }, optimization: { minimizer: [new TerserPlugin()], splitChunks: { cacheGroups: { vendors: { priority: -10, test: /[\\\\/]node_modules[\\\\/]/ } }, chunks: 'async', minChunks: 1, minSize: 30000, name: 'true' } } }; How do I change the hashing algorithm used by Webpack to something else?",
    "question_tags": [
      "webpack"
    ],
    "question_score": 537,
    "question_view_count": 776520,
    "question_creation_date": 1633014470,
    "answer_id": 69746937,
    "answer_text": "I was able to fix it via: export NODE_OPTIONS=--openssl-legacy-provider sachaw's comment to Node.js v17.0.0 - Error starting project in development mode #30078 But they say they fixed it: ijjk's comment to Node.js v17.0.0 - Error starting project in development mode #30078 : Hi, this has been updated in v11.1.3-canary.89 of Next.js, please update and give it a try! For me, it worked only with the annotation above. I also want to point out that npm run start works with -openssl-legacy-provider , but npm run dev won't. It seems that there is a patch: Node.js 17: digital envelope routines::unsupported #14532 I personally downgraded to 16-alpine .",
    "answer_score": 831,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 105,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      831,
      537,
      776520,
      105,
      -129375252
    ]
  },
  {
    "question_id": 61254372,
    "question_url": "https://stackoverflow.com/questions/61254372/my-component-is-rendering-twice-because-of-strict-mode",
    "question_title": "My component is rendering twice because of Strict Mode",
    "question_text": "My React Component is rendering twice. So, I decided to do a line-by-line debug, and the problem is here: if ( workInProgress.mode & StrictMode) { instance.render(); } React-dom.development.js Is it because of the strict mode? Can I disable it? What is Strict Mode? Do I need it?",
    "question_tags": [
      "javascript",
      "reactjs",
      "react-dom",
      "react-strictmode"
    ],
    "question_score": 282,
    "question_view_count": 208986,
    "question_creation_date": 1587051841,
    "answer_id": 61897567,
    "answer_text": "StrictMode renders components twice (on dev but not production) in order to detect any problems with your code and warn you about them (which can be quite useful). If you have StrictMode enabled in your app but don't remember enabling it, it might be because you used create-react-app or similar to create your app initially, which automatically enables StrictMode by default. For example, you might find that your {app} is wrapped by <React.StrictMode> in your index.js: ReactDOM.render( <React.StrictMode> {app} </React.StrictMode>, document.getElementById('root') ); If so, you can disable StrictMode by removing the <React.StrictMode> tag: ReactDOM.render( {app} document.getElementById('root') );",
    "answer_score": 766,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 97,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      766,
      282,
      208986,
      97,
      -175337849
    ]
  },
  {
    "question_id": 56505560,
    "question_url": "https://stackoverflow.com/questions/56505560/how-to-fix-ts2322-could-be-instantiated-with-a-different-subtype-of-constraint",
    "question_title": "How to fix TS2322: &quot;could be instantiated with a different subtype of constraint &#39;object&#39;&quot;?",
    "question_text": "A have a type-check error in recursive types. I am trying to write types for react-jss styles object. type StylesFn<P extends object> = ( props: P ) => CSS.Properties<JssValue<P>> | number | string; type JssValue<P extends object> = | string | number | Array<string | number> | StylesFn<P>; // @ts-ignore interface StylesObject<K extends string = any, P extends object = {}> extends Styles { [x: string]: CSS.Properties<JssValue<P>> | Styles<K, P>; } export type Styles<K extends string = any, P extends object = {}> = { [x in K]: CSS.Properties<JssValue<P>> | StylesObject<any, P> | StylesFn<P> }; It works fine, but typescript writes an error. I use @ts-ignore , but this is not fancy ERROR 24:11 typecheck Interface 'StylesObject<K, P>' incorrectly extends interface 'Styles<any, {}>'. Index signatures are incompatible. Type 'Properties<JssValue<P>> | Styles<K, P>' is not assignable to type 'StylesFn<{}> | Properties<JssValue<{}>> | StylesObject<any, {}>'. Type 'Properties<JssValue<P>>' is not assignable to type 'StylesFn<{}> | Properties<JssValue<{}>> | StylesObject<any, {}>'. Type 'Properties<JssValue<P>>' is not assignable to type 'Properties<JssValue<{}>>'. Type 'JssValue<P>' is not assignable to type 'JssValue<{}>'. Type 'StylesFn<P>' is not assignable to type 'JssValue<{}>'. Type 'StylesFn<P>' is not assignable to type 'StylesFn<{}>'. Type '{}' is not assignable to type 'P'. '{}' is assignable to the constraint of type 'P', but 'P' could be instantiated with a different subtype of constraint 'object'. What does this error mean?",
    "question_tags": [
      "typescript",
      "typescript-generics"
    ],
    "question_score": 295,
    "question_view_count": 193419,
    "question_creation_date": 1559990111,
    "answer_id": 59363875,
    "answer_text": "Complementing @fetzz great answer. SHORT ANSWER TLDR; There are two common causes for this kind of error message. You are doing the first one (see below). Along with the text, I explain in rich detail what this error message wants to convey. CAUSE 1: In typescript, a concrete instance is not allowed to be assigned to a type parameter. Following you can see an example of the 'problem' and the 'problem solved', so you can compare the difference and see what changes: PROBLEM const func1 = <A extends string>(a: A = 'foo') => `hello!` // Error! const func2 = <A extends string>(a: A) => { //stuff a = `foo` // Error! //stuff } SOLUTION const func1 = <A extends string>(a: A) => `hello!` // ok const func2 = <A extends string>(a: A) => { //ok //stuff //stuff } See in: TS Playground CAUSE 2: Although you are not doing the below error in your code. It is also a normal circumstance where this kind of error message pops up. You should avoid doing this: Repeat (by mistaken) the Type Parameter in a class, type, or interface. Don't let the complexity of the below code confuse you, the only thing I want you to concentrate on is how the removing of the letter 'A' solves the problem: PROBLEM: type Foo<A> = { //look the above 'A' is conflicting with the below 'A' map: <A,B>(f: (_: A) => B) => Foo<B> } const makeFoo = <A>(a: A): Foo<A> => ({ map: f => makeFoo(f(a)) //error! }) SOLUTION: type Foo<A> = { // conflict removed map: <B>(f: (_: A) => B) => Foo<B> } const makeFoo = <A>(a: A): Foo<A> => ({ map: f => makeFoo(f(a)) //ok }) See in: TS Playground LONG ANSWER UNDERSTANDING THE ERROR MESSAGE Following I'll decompose each element of the error message below: Type '{}' is not assignable to type 'P'. '{}' is assignable to the constraint of type 'P', but 'P' could be instantiated with a different subtype of constraint'object' WHAT IS TYPE {} It's a type that you can assign anything except null or undefined. For example: type A = {} const a0: A = undefined // error const a1: A = null // error const a2: A = 2 // ok const a3: A = 'hello world' //ok const a4: A = { foo: 'bar' } //ok // and so on... See in: TS Playground WHAT IS is not assignable To assign is to make a variable of a particular type correspond to a particular instance. If you mismatch the type of the instance you get an error. For example: // type string is not assignable to type number const a: number = 'hello world' //error // type number is assinable to type number const b: number = 2 // ok WHAT IS A different subtype Two types are equals : if they do not add or remove details in relation to each other. Two types are different : if they are not equal. Type A is a subtype of type S : if A adds detail without removing already existent detail from S . type A and type B are different subtypes of type S : If A and B are subtypes of S , but A and B are different types. Said in other words: A and B adds detail to the type S , but they do not add the same detail . Example: In the code below, all the following statements are true: A and D are equal types B is subtype of A E is not subtype of A B and C are different subtype of A type A = { readonly 0: '0'} type B = { readonly 0: '0', readonly foo: 'foo'} type C = { readonly 0: '0', readonly bar: 'bar'} type D = { readonly 0: '0'} type E = { readonly 1: '1', readonly bar: 'bar'} type A = number type B = 2 type C = 7 type D = number type E = `hello world` type A = boolean type B = true type C = false type D = boolean type E = number NOTE : Structural Type When you see in TS the use of type keyword, for instance in type A = { foo: 'Bar' } you should read: Type alias A is pointing to type structure { foo: 'Bar' } . The general syntax is: type [type_alias_name] = [type_structure] . Typescript type system just checks against [type_structure] and not against the [type_alias_name] . That means that in TS there's no difference in terms of type checking between following: type A = { foo: 'bar } and type B = { foo: 'bar' } . For more see: Official Doc . WHAT IS constraint of type 'X' The Type Constraint is simply what you put on the right side of the 'extends' keyword. In the below example, the Type Constraint is 'B'. const func = <A extends B>(a: A) => `hello!` Reads: Type Constraint 'B' is the constraint of type 'A' WHY THE ERROR HAPPENS To illustrate I'll show you three cases. The only thing that will vary in each case is the Type Constraint , nothing else will change. What I want you to notice is that the restriction that Type Constraint imposes to Type Parameter does not include different subtypes . Let's see it: Given: type Foo = { readonly 0: '0'} type SubType = { readonly 0: '0', readonly a: 'a'} type DiffSubType = { readonly 0: '0', readonly b: 'b'} const foo: Foo = { 0: '0'} const foo_SubType: SubType = { 0: '0', a: 'a' } const foo_DiffSubType: DiffSubType = { 0: '0', b: 'b' } CASE 1: NO RESTRICTION const func = <A>(a: A) => `hello!` // call examples const c0 = func(undefined) // ok const c1 = func(null) // ok const c2 = func(() => undefined) // ok const c3 = func(10) // ok const c4 = func(`hi`) // ok const c5 = func({}) //ok const c6 = func(foo) // ok const c7 = func(foo_SubType) //ok const c8 = func(foo_DiffSubType) //ok CASE 2: SOME RESTRICTION Note below that restriction does not affect subtypes. VERY IMPORTANT : In Typescript the Type Constraint does not restrict different subtypes const func = <A extends Foo>(a: A) => `hello!` // call examples const c0 = func(undefined) // error const c1 = func(null) // error const c2 = func(() => undefined) // error const c3 = func(10) // error const c4 = func(`hi`) // error const c5 = func({}) // error const c6 = func(foo) // ok const c7 = func(foo_SubType) // ok <-- Allowed const c8 = func(foo_DiffSubType) // ok <-- Allowed CASE 3: MORE CONSTRAINED const func = <A extends SubType>(a: A) => `hello!` // call examples const c0 = func(undefined) // error const c1 = func(null) // error const c2 = func(() => undefined) // error const c3 = func(10) // error const c4 = func(`hi`) // error const c5 = func({}) // error const c6 = func(foo) // error <-- Restricted now const c7 = func(foo_SubType) // ok <-- Still allowed const c8 = func(foo_DiffSubType) // error <-- NO MORE ALLOWED ! See in TS playground CONCLUSION The function below: const func = <A extends Foo>(a: A = foo_SubType) => `hello!` //error! Yields this error message: Type 'SubType' is not assignable to type 'A'. 'SubType' is assignable to the constraint of type 'A', but 'A' could be instantiated with a different subtype of constraint 'Foo'.ts(2322) Because Typescript infers A from the function call, but there's no restriction in the language limiting you to call the function with different subtypes of 'Foo'. For instance, all function's call below are considered valid: const c0 = func(foo) // ok! type 'Foo' will be infered and assigned to 'A' const c1 = func(foo_SubType) // ok! type 'SubType' will be infered const c2 = func(foo_DiffSubType) // ok! type 'DiffSubType' will be infered Therefore assigning a concrete type to a generic Type Parameter is incorrect because in TS the Type Parameter can always be instantiated to some arbitrary different subtype. Solution: Never assign a concrete type to a generic type parameter, consider it as read-only ! Instead, do this: const func = <A extends Foo>(a: A) => `hello!` //ok! See in TS Playground",
    "answer_score": 567,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 1383,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      567,
      295,
      193419,
      1383,
      -202399665
    ]
  },
  {
    "question_id": 56457935,
    "question_url": "https://stackoverflow.com/questions/56457935/typescript-error-property-x-does-not-exist-on-type-window",
    "question_title": "TypeScript error: Property &#39;X&#39; does not exist on type &#39;Window&#39;",
    "question_text": "I have added TS to my React/Redux app. I use window object in my app like this: componentDidMount() { let FB = window.FB; } TS throws an error: TypeScript error: Property 'FB' does not exist on type 'Window'. TS2339 I want to fix the error. 1 (doesn't work) // Why doesn't this work? I have defined a type locally type Window = { FB: any } componentDidMount() { let FB = window.FB; } // TypeScript error: Property 'FB' does not exist on type 'Window'. TS2339 2 (fixes the error) I found the answer here https://stackoverflow.com/a/56402425/1114926 declare const window: any; componentDidMount() { let FB = window.FB; } // No errors, works well Why doesn't the first version work, but the second does, even though I do not specify FB property at all?",
    "question_tags": [
      "reactjs",
      "typescript",
      "create-react-app"
    ],
    "question_score": 304,
    "question_view_count": 381921,
    "question_creation_date": 1559727480,
    "answer_id": 56458070,
    "answer_text": "Why does declare const window: any; work? Because you declare a local variable of type any . Having something of type any essentially turns off type checking for window so you can do anything with it. I really do not recommend this solution, it is a really bad one. Why doesn't type Window = { FB: any } work? You define a type Window . This type if defined in a module has nothing to do with the type of the global window object, it is just a type that happens to be called Window inside your module. The good solution To extend window you must extend the global Window interface. You can do this like this: declare global { interface Window { FB:any; } } let FB = window.FB; // ok now Note that this extension is going to be available in your whole project not just the file you define it in. Also if FB has definitions you might consider typing it a bit better ( FB: typeof import('FBOrWhateverModuleNameThisHas') )",
    "answer_score": 523,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 172,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      523,
      304,
      381921,
      172,
      -202662210
    ]
  },
  {
    "question_id": 57673913,
    "question_url": "https://stackoverflow.com/questions/57673913/vsc-powershell-after-npm-updating-packages-ps1-cannot-be-loaded-because-runnin",
    "question_title": "VSC PowerShell. After npm updating packages .ps1 cannot be loaded because running scripts is disabled on this system",
    "question_text": "I design websites in VSC and PowerShell is my default terminal. After updating and deploying a website to firebase earlier, I was prompted to update firebase tools - which I did using npm. Immediately after I cannot run/access any firebase scripts wthout the folllowing error: firebase : File C:\\Users\\mada7\\AppData\\Roaming\\npm\\firebase.ps1 cannot be loaded because running scripts is disabled on this system. For more information, see about_Execution_Policies at https:/go.microsoft.com/fwlink/?LinkID=135170. At line:1 char:1 firebase + CategoryInfo : SecurityError: (:) [], PSSecurityException + FullyQualifiedErrorId : UnauthorizedAccess I've spent a few hours searching around and can't find a solid answer the problem. Many threads are several years old and I find it bizarre I've not had this problem in the past year until today. I can still access firebase scripts if I set my default terminal to cmd. Assuming the problem was related to firebase-tools I've carried on working but have now updated vue.js and get the error again when trying to run any vue commands in powershell: vue : File C:\\Users\\mada7\\AppData\\Roaming\\npm\\vue.ps1 cannot be loaded because running scripts is disabled on this system. For more information, see about_Execution_Policies at https:/go.microsoft.com/fwlink/?LinkID=135170. At line:1 char:1 vue + CategoryInfo : SecurityError: (:) [], PSSecurityException + FullyQualifiedErrorId : UnauthorizedAccess VSCode Version: Version: 1.37.1 (user setup) Commit: f06011a Date: 2019-08-15T16:17:55.855Z Electron: 4.2.7 Chrome: 69.0.3497.128 Node.js: 10.11.0 V8: 6.9.427.31-electron.0 OS: Windows_NT x64 10.0.18362 OS Version: Windows 10 Home Version - 1903 OS build - 18362.295 I've been reading around and seen many threads around permissions for scripts, but I haven't changed any - indeed the PowerShell scripts worked right up until I updated my packages. No other settings touched in the mean time. I don't want to be changing PowerShell settings unnecessarily.",
    "question_tags": [
      "firebase",
      "powershell",
      "vue.js",
      "npm",
      "visual-studio-code"
    ],
    "question_score": 237,
    "question_view_count": 682892,
    "question_creation_date": 1566906066,
    "answer_id": 57675039,
    "answer_text": "This is a powershell security policy, to fix it, run Powershell as administrator and run the following PS C:\\> Set-ExecutionPolicy RemoteSigned If you don't want to run the command as an administrator but just for the current user, you can add a scope like below PS C:\\> Set-ExecutionPolicy RemoteSigned -Scope CurrentUser The stricter the policy, the more secure your system becomes. You can change RemoteSigned to other options like: Restricted , AllSigned , RemoteSigned , Unrestricted Source: https://tecadmin.net/powershell-running-scripts-is-disabled-system/ Alternatively you can modify C:\\Program Files\\PowerShell\\7\\powershell.config.json using a text editor and add or modify the following section. { .... \"Microsoft.PowerShell:ExecutionPolicy\": \"RemoteSigned\" } You can also run your script without modifying security policies by using the command prompt as noted by ztom's answer here .",
    "answer_score": 411,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 122,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      411,
      237,
      682892,
      122,
      -195483729
    ]
  },
  {
    "question_id": 60394291,
    "question_url": "https://stackoverflow.com/questions/60394291/error-node-modules-node-sass-command-failed",
    "question_title": "error /node_modules/node-sass: Command failed",
    "question_text": "When I tried install vue store front in my local but when I tried \"yarn install\" command I get following error. How can I solve this error? How can I solve this error? error /var/www/html/vue-storefront/node_modules/node-sass: Command failed. Exit code: 1 Command: node scripts/build.js Arguments: Directory: /var/www/html/vue-storefront/node_modules/node-sass Output: Building: /usr/bin/node /var/www/html/vue-storefront/node_modules/node-gyp/bin/node-gyp.js rebuild --verbose --libsass_ext= --libsass_cflags= --libsass_ldflags= --libsass_library= gyp info it worked if it ends with ok gyp verb cli [ gyp verb cli '/usr/bin/node', gyp verb cli '/var/www/html/vue-storefront/node_modules/node-gyp/bin/node-gyp.js', gyp verb cli 'rebuild', gyp verb cli '--verbose', gyp verb cli '--libsass_ext=', gyp verb cli '--libsass_cflags=', gyp verb cli '--libsass_ldflags=', gyp verb cli '--libsass_library=' gyp verb cli ] gyp info using node-gyp@3.8.0 gyp info using node@13.9.0 | linux | x64 gyp verb command rebuild [] gyp verb command clean [] gyp verb clean removing \"build\" directory gyp verb command configure [] gyp verb check python checking for Python executable \"/usr/bin/python3.6\" in the PATH gyp verb `which` succeeded /usr/bin/python3.6 /usr/bin/python3.6 gyp ERR! configure error gyp ERR! stack Error: Command failed: /usr/bin/python3.6 -c import sys; print \"%s.%s.%s\" % sys.version_info[:3]; gyp ERR! stack File \"<string>\", line 1 gyp ERR! stack import sys; print \"%s.%s.%s\" % sys.version_info[:3]; gyp ERR! stack ^ gyp ERR! stack SyntaxError: invalid syntax gyp ERR! stack gyp ERR! stack at ChildProcess.exithandler (child_process.js:303:12) gyp ERR! stack at ChildProcess.emit (events.js:321:20) gyp ERR! stack at maybeClose (internal/child_process.js:1026:16) gyp ERR! stack at Process.ChildProcess._handle.onexit (internal/child_process.js:286:5) gyp ERR! System Linux 4.15.0-88-generic gyp ERR! command \"/usr/bin/node\" \"/var/www/html/vue-storefront/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\" \"--verbose\" \"--libsass_ext=\" \"--libsass_cflags=\" \"--libsass_ldflags=\" \"--libsass_library=\" gyp ERR! cwd /var/www/html/vue-storefront/node_modules/node-sass gyp ERR! node -v v13.9.0",
    "question_tags": [
      "node.js",
      "vue.js",
      "yarnpkg"
    ],
    "question_score": 316,
    "question_view_count": 432681,
    "question_creation_date": 1582632448,
    "answer_id": 67778126,
    "answer_text": "I had the same problem and I solved with the steps: If your are on Apple M1 Chip, run Terminal with Rosetta 2 (optional, only necessary if you have the Node installed with Rosetta) Check your node-sass version in your package.json and compare with the following table: NodeJS Supported node-sass version Node Module Node 20 9.0+ 115 Node 19 8.0+ 111 Node 18 8.0+ 108 Node 17 7.0+, <8.0 102 Node 16 6.0+ 93 Node 15 5.0+ 88 Node 14 4.14+ 83 Node 13 4.13+, <5.0 79 Node 12 4.12+ 72 Node 11 4.10+, <5.0 67 Node 10 4.9+, <6.0 64 Node 8 4.5.3+, <5.0 57 Node <8 <5.0 <57 Check your Node version with: node --version Install the Nodejs version according with your node-sass , if your are using NVM, run: nvm use DESIRED_VERSION Clean old node_modules deleting the folder or type this on terminal: rm -rf node_modules Run: npm install Resource: NPM node-sass",
    "answer_score": 409,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 155,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      409,
      316,
      432681,
      155,
      -179757347
    ]
  },
  {
    "question_id": 61401475,
    "question_url": "https://stackoverflow.com/questions/61401475/why-is-type-module-in-package-json-file",
    "question_title": "Why is &#39;type: module&#39; in package.json file?",
    "question_text": "I upgraded the node and built the existing file. But it didn't build, and there was an error. Error [ERR_REQUIRE_ESM]: Must use import to load ES Module: │ │ ~~/nuxt.config.js │ │ require() of ES modules is not supported. │ │ require() of ~~/nuxt.config.js from │ │ ~~/config.js is an ES │ │ module file as it is a .js file whose nearest parent package.json contains \"type\": │ │ \"module\" which defines all .js files in that package scope as ES modules. │ │ Instead rename nuxt.config.js to end in .cjs, change the requiring code to use │ │ import(), or remove \"type\": \"module\" from │ │ ~~/package.json. So I removed 'type: module' in package.json file. Is it okay to remove it?",
    "question_tags": [
      "javascript",
      "node.js",
      "vue.js",
      "nuxt.js"
    ],
    "question_score": 176,
    "question_view_count": 443454,
    "question_creation_date": 1587704518,
    "answer_id": 62554884,
    "answer_text": "When you have \"type\": \"module\" in the package.json file, your source code should use import syntax. When you do not have, you should use require syntax; that is, adding \"type\": \"module\" to the package.json enables ES 6 modules. For more info, see here .",
    "answer_score": 244,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 44,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      244,
      176,
      443454,
      44,
      -174685277
    ]
  },
  {
    "question_id": 57879150,
    "question_url": "https://stackoverflow.com/questions/57879150/how-can-i-solve-error-gypgyp-errerr-find-vsfind-vs-msvs-version-not-set-from",
    "question_title": "How can I solve error &quot;gypgyp ERR!ERR! find VSfind VS msvs_version not set from command line or npm config&quot;?",
    "question_text": "I want to install Adonis Admin . When I run npm install I get: > sqlite3@3.1.13 install C:\\laragon\\www\\adonis-admin\\node_modules\\sqlite3 > node-pre-gyp install --fallback-to-build node-pre-gyp ERR! Tried to download(403): https://mapbox-node-binary.s3.amazonaws.com/sqlite3/v3.1.13/node-v64-win32-x64.tar.gz node-pre-gyp ERR! Pre-built binaries not found for sqlite3@3.1.13 and node@10.15.0 (node-v64 ABI) (falling back to source compile with node-gyp) node-pre-gyp ERR! Tried to download(undefined): https://mapbox-node-binary.s3.amazonaws.com/sqlite3/v3.1.13/node-v64-win32-x64.tar.gz node-pre-gyp ERR! Pre-built binaries not found for sqlite3@3.1.13 and node@10.15.0 (node-v64 ABI) (falling back to source compile with node-gyp) gyp ERR! gypfind VS gyp ERR!ERR! find VSfind VS msvs_version not set from command line or npm config gypgyp ERR!ERR! find VSfind VS msvs_version not set from command line or npm config VCINSTALLDIR not set, not running in VS Command Prompt gyp gypERR! ERR! find VSfind VS VCINSTALLDIR not set, not running in VS Command Prompt gyp checking VS2019 (16.2.29230.47) found at: gypERR! find VSERR! checking VS2019 (16.2.29230.47) found at: gyp find VS \"C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Professional\" ERR!gyp find VS ERR! \"C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Professional\" gypfind VS ERR! - \"Visual Studio C++ core features\" missing gyp ERR!find VS - \"Visual Studio C++ core features\" missing find VSgyp could not find a version of Visual Studio 2017 or newer to use gypERR! ERR!find VS could not find a version of Visual Studio 2017 or newer to use find VS looking for Visual Studio 2015 gyp gyp ERR!ERR! find VSfind VS looking for Visual Studio 2015 - not found gyp gyp ERR!ERR! find VSfind VS - not found not looking for VS2013 as it is only supported up to Node.js 8 gyp ERR!gyp ERR!find VS find VS not looking for VS2013 as it is only supported up to Node.js 8 gyp gypERR! ERR!find VS gypfind VS ************************************************************** gypERR! ERR!find VS find VS ************************************************************** You need to install the latest version of Visual Studio gypgyp ERR! ERR!find VS find VS You need to install the latest version of Visual Studio including the \"Desktop development with C++\" workload. gypgyp ERR!ERR! find VS find VS including the \"Desktop development with C++\" workload. For more information consult the documentation at: gyp ERR!gyp find VS For more information consult the documentation at: ERR!gyp ERR! find VSfind VS https://github.com/nodejs/node-gyp#on-windows https://github.com/nodejs/node-gyp#on-windows gyp gyp ERR!ERR! find VS ************************************************************** find VSgyp ************************************************************** gypERR! find VS ERR! find VS gyp gypERR! ERR!configure error configure errorgyp ERR! stackgyp Error: Could not find any Visual Studio installation to use gypERR! stackERR! Error: Could not find any Visual Studio installation to use stackgyp at VisualStudioFinder.fail (C:\\Users\\Chelsea\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-visualstudio.js:121:47) ERR!gyp stack at VisualStudioFinder.fail (C:\\Users\\Chelsea\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-visualstudio.js:121:47) ERR! gypstack at findVisualStudio2013 (C:\\Users\\Chelsea\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-visualstudio.js:74:16) gypERR! ERR!stack at findVisualStudio2013 (C:\\Users\\Chelsea\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-visualstudio.js:74:16) stack at VisualStudioFinder.findVisualStudio2013 (C:\\Users\\Chelsea\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-visualstudio.js:344:14) gypgyp ERR! stack at findVisualStudio2015 (C:\\Users\\Chelsea\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-visualstudio.js:70:14) gypERR! ERR! stackstack at regSearchKeys (C:\\Users\\Chelsea\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-visualstudio.js:365:16) at VisualStudioFinder.findVisualStudio2013 (C:\\Users\\Chelsea\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-visualstudio.js:344:14) gyp gypERR! ERR!stack stack at regGetValue (C:\\Users\\Chelsea\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\lib\\util.js:54:7) at findVisualStudio2015 (C:\\Users\\Chelsea\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-visualstudio.js:70:14) gypgyp ERR!ERR! stackstack at C:\\Users\\Chelsea\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\lib\\util.js:33:16 gyp at regSearchKeys (C:\\Users\\Chelsea\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-visualstudio.js:365:16) gyp ERR! ERR!stack at ChildProcess.exithandler (child_process.js:301:5) gypstack at regGetValue (C:\\Users\\Chelsea\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\lib\\util.js:54:7) ERR! gypstack at ChildProcess.emit (events.js:182:13) gypERR! ERR! stack at C:\\Users\\Chelsea\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\lib\\util.js:33:16 stack at maybeClose (internal/child_process.js:962:16) gyp gypERR! ERR! System Windows_NT 10.0.17134 stackgyp at ChildProcess.exithandler (child_process.js:301:5) ERR!gyp commandERR! \"C:\\\\Program Files\\\\nodejs\\\\node.exe\" \"C:\\\\Users\\\\Chelsea\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\npm\\\\node_modules\\\\node-gyp\\\\bin\\\\node-gyp.js\" \"configure\" \"--fallback-to-build\" \"--module=C:\\\\laragon\\\\www\\\\adonis-admin\\\\node_modules\\\\sqlite3\\\\lib\\\\binding\\\\node-v64-win32-x64\\\\node_sqlite3.node\" \"--module_name=node_sqlite3\" \"--module_path=C:\\\\laragon\\\\www\\\\adonis-admin\\\\node_modules\\\\sqlite3\\\\lib\\\\binding\\\\node-v64-win32-x64\" \"--python=C:\\\\Users\\\\Chelsea\\\\.windows-build-tools\\\\python27\\\\python.exe\" gypstack at ChildProcess.emit (events.js:182:13) gypERR! ERR!cwd C:\\laragon\\www\\adonis-admin\\node_modules\\sqlite3 gypstack ERR! at maybeClose (internal/child_process.js:962:16) node -v v10.15.0 gypgyp ERR!ERR! Systemnode-gyp -v Windows_NT 10.0.17134 v5.0.3 gypgyp ERR!ERR! command \"C:\\\\Program Files\\\\nodejs\\\\node.exe\" \"C:\\\\Users\\\\Chelsea\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\npm\\\\node_modules\\\\node-gyp\\\\bin\\\\node-gyp.js\" \"configure\" \"--fallback-to-build\" \"--module=C:\\\\laragon\\\\www\\\\adonis-admin\\\\node_modules\\\\sqlite3\\\\lib\\\\binding\\\\node-v64-win32-x64\\\\node_sqlite3.node\" \"--module_name=node_sqlite3\" \"--module_path=C:\\\\laragon\\\\www\\\\adonis-admin\\\\node_modules\\\\sqlite3\\\\lib\\\\binding\\\\node-v64-win32-x64\" \"--python=C:\\\\Users\\\\Chelsea\\\\.windows-build-tools\\\\python27\\\\python.exe\" not okgyp ERR! cwd C:\\laragon\\www\\adonis-admin\\node_modules\\sqlite3 gyp ERR! node -v v10.15.0 gyp ERR! node-gyp -v v5.0.3 gyp ERR! not ok node-pre-gyp ERR! build error node-pre-gyp ERR! stack Error: Failed to execute 'C:\\Program Files\\nodejs\\node.exe C:\\Users\\Chelsea\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js configure --fallback-to-build --module=C:\\laragon\\www\\adonis-admin\\node_modules\\sqlite3\\lib\\binding\\node-v64-win32-x64\\node_sqlite3.node --module_name=node_sqlite3 --module_path=C:\\laragon\\www\\adonis-admin\\node_modules\\sqlite3\\lib\\binding\\node-v64-win32-x64 --python=C:\\Users\\Chelsea\\.windows-build-tools\\python27\\python.exe' (1) node-pre-gyp ERR! stack at ChildProcess.<anonymous> (C:\\laragon\\www\\adonis-admin\\node_modules\\sqlite3\\node_modules\\node-pre-gyp\\lib\\util\\compile.js:83:29) node-pre-gyp ERR! stack at ChildProcess.emit (events.js:182:13) node-pre-gyp ERR! stack at maybeClose (internal/child_process.js:962:16) node-pre-gyp ERR! stack at Process.ChildProcess._handle.onexit (internal/child_process.js:251:5) node-pre-gyp ERR! System Windows_NT 10.0.17134 node-pre-gyp ERR! command \"C:\\\\Program Files\\\\nodejs\\\\node.exe\" \"C:\\\\laragon\\\\www\\\\adonis-admin\\\\node_modules\\\\sqlite3\\\\node_modules\\\\node-pre-gyp\\\\bin\\\\node-pre-gyp\" \"install\" \"--fallback-to-build\" node-pre-gyp ERR! cwd C:\\laragon\\www\\adonis-admin\\node_modules\\sqlite3 node-pre-gyp ERR! node -v v10.15.0 node-pre-gyp ERR! node-pre-gyp -v v0.6.38 node-pre-gyp ERR! not ok Failed to execute 'C:\\Program Files\\nodejs\\node.exe C:\\Users\\Chelsea\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js configure --fallback-to-build --module=C:\\laragon\\www\\adonis-admin\\node_modules\\sqlite3\\lib\\binding\\node-v64-win32-x64\\node_sqlite3.node --module_name=node_sqlite3 --module_path=C:\\laragon\\www\\adonis-admin\\node_modules\\sqlite3\\lib\\binding\\node-v64-win32-x64 --python=C:\\Users\\Chelsea\\.windows-build-tools\\python27\\python.exe' (1) npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules\\fsevents): npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.9: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"win32\",\"arch\":\"x64\"}) npm ERR! code ELIFECYCLE npm ERR! errno 1 npm ERR! sqlite3@3.1.13 install: `node-pre-gyp install --fallback-to-build` npm ERR! Exit status 1 npm ERR! npm ERR! Failed at the sqlite3@3.1.13 install script. npm ERR! This is probably not a problem with npm. There is likely additional logging output above. npm ERR! A complete log of this run can be found in: npm ERR! C:\\Users\\Chelsea\\AppData\\Roaming\\npm-cache\\_logs\\2019-09-10T22_53_41_072Z-debug.log How can I solve the error?",
    "question_tags": [
      "node.js",
      "vue.js",
      "npm",
      "adonis.js"
    ],
    "question_score": 168,
    "question_view_count": 362414,
    "question_creation_date": 1568156380,
    "answer_id": 59882818,
    "answer_text": "TL;DR Use the Visual Studio Installer to get the Desktop development with C++ workload in one of the Visual Studio versions you have installed in your machine: 2024 update: also \"check the Windows 10 SDK in the installation details\" (thanks Nicholas ) Reason/Details Reading through the log, the main error is due to this: msvs_version not set from command line or npm config After this one you find a few of these: \"Visual Studio C++ core features\" missing And later: You need to install the latest version of Visual Studio including the \" Desktop development with C++ \" workload. For more information consult the documentation at: VS https://github.com/nodejs/node-gyp#on-windows Finally: Could not find any Visual Studio installation to use So to solve the problem, you just need to get \" Desktop development with C++ \" workload. If you have a Visual Studio version installed open Visual Studio Installer ( Win + search for it) on the list displayed with all Visual Studio Installations you have in your PC, press the Modify button of one of them (preferably the latest version) on the Workloads grid/list select the checkbox with Desktop development with C++ (2024 update: also \"check the Windows 10 SDK in the installation details\" (thanks Nicholas )) Press one of the Install buttons gyp will then find that version and use it: gyp info find Python using Python version 3.8.1 found at \"C:\\Users\\USER\\AppData\\Local\\Programs\\Python\\Python38-32\\python.exe\" gyp info find VS using VS2019 (16.4.29709.97) found at : gyp info find VS \"C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\ With NO Visual Studio installed The following solutions assume you have node installed. Disclaimer: I did not test any of them, but I appreciate everyone that reported them solving this issue. Alternative 0: before installing additional software As kaulshapranav wrote in a couple of comments , slightly shortened/rephrased: windows-build-tools installation log mentions this tools package is deprecated and is already included with node . It corrupts my anaconda installation by installing a separate python 2.7 (...); updating npm version from 6 -> 8 solved the issue. npm comes with node , so the solution: update your node/npm version. However, if you need to retain specific versions, nvm (notice the v ) allows to change between them: simple tutorial on how to use nvm . Alternative 1 As Hamid Jolany's answer suggests, on an admin shell, simply install the build tools package globally ( node-gyp README ): npm i -g windows-build-tools Alternative 2 Ragavan's idea/answer from a similar thread: verify if you have VS build tools by running npm config get msvs_version (if you have, skip to step 4 and attempt setting the environment variables) if not installed, get the VS build tools latest version exe and install it (Ragavan's idea was with or Microsoft Build Tools 2015 ) run npm config set msvs_version 2019 --global (or npm config set msvs_version 2015 --global according to Ragavan's idea) Possibly optional: set the VCTargetsPath environment variable ( Win + search for var ) to the appropriate path (e.g. C:\\Program Files (x86)\\MSBuild\\Microsoft\\Portable\\v5.0 ) or through Run as Admin terminal, as in Ragavan's idea with the 2015 Build Tools: set VCTargetsPath=\"C:\\Program Files (x86)\\MSBuild\\Microsoft.Cpp\\v4.0\\V140\" or in Powershell: $env:VCTargetsPath=C:\\Program Files (x86)\\MSBuild\\Microsoft.Cpp\\v4.0\\V140 Side notes: a previous error might be resolved by installing Microsoft Visual C++ Redistributable for Visual Studio 2015, 2017 and 2019 ; you might also want to restart after installing any of the above",
    "answer_score": 209,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 559,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      209,
      168,
      362414,
      559,
      -194233415
    ]
  },
  {
    "question_id": 64557638,
    "question_url": "https://stackoverflow.com/questions/64557638/how-to-polyfill-node-core-modules-in-webpack-5",
    "question_title": "How to Polyfill node core modules in webpack 5",
    "question_text": "webpack 5 no longer do auto-polyfilling for node core modules. How to fix it please? BREAKING CHANGE: webpack < 5 used to include polyfills for node.js core modules by default. This is no longer the case. Verify if you need this module and configure a polyfill for it.",
    "question_tags": [
      "node.js",
      "webpack"
    ],
    "question_score": 469,
    "question_view_count": 713504,
    "question_creation_date": 1603812315,
    "answer_id": 64802753,
    "answer_text": "I was also getting these errors when upgrading from webpack v4 to v5. Resolved by making the following changes to webpack.config.js Added resolve.fallback property Removed node property { resolve: { modules: [...], fallback: { \"fs\": false, \"tls\": false, \"net\": false, \"path\": false, \"zlib\": false, \"http\": false, \"https\": false, \"stream\": false, \"crypto\": false, \"crypto-browserify\": require.resolve('crypto-browserify'), //if you want to use this module also don't forget npm i crypto-browserify } }, entry: [...], output: {...}, module: { rules: [...] }, plugins: [...], optimization: { minimizer: [...], }, // node: { // fs: 'empty', // net: 'empty', // tls: 'empty' // }, } upgrade from v4 to v5 => https://webpack.js.org/migrate/5/#clean-up-configuration",
    "answer_score": 184,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 107,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      184,
      469,
      713504,
      107,
      -158577407
    ]
  },
  {
    "question_id": 56567930,
    "question_url": "https://stackoverflow.com/questions/56567930/typeerror-cleanwebpackplugin-is-not-a-constructor",
    "question_title": "TypeError: CleanwebpackPlugin is not a constructor",
    "question_text": "i'm trying to preview a vue web application through webpack-server-dev.I'm following this guide https://medium.com/the-web-tub/creating-your-first-vue-js-pwa-project-22f7c552fb34 The guide explains that the plugin is used to delete old and unused files in the dist directory. I have already tried replacing const CleanWebpackPlugin = require('clean-webpack-plugin') with const { CleanWebpackPlugin } = require('clean-webpack-plugin') which some posts suggest. i have also tried looking at the documentation on https://github.com/johnagan/clean-webpack-plugin but without succes as i am pretty new to this. when i try to npm run dev i get this error new CleanWebpackPlugin(['dist']), ^ TypeError: CleanWebpackPlugin is not a constructor at module.exports (C:\\Users\\Eson\\Desktop\\pwa-vue-app-1\\webpack.config.js:56:5) at handleFunction (C:\\Users\\Eson\\Desktop\\pwa-vue-app-1\\node_modules\\webpack-cli\\bin\\utils\\prepareOptions.js:21:13) at prepareOptions (C:\\Users\\Eson\\Desktop\\pwa-vue-app-1\\node_modules\\webpack-cli\\bin\\utils\\prepareOptions.js:9:5) at requireConfig (C:\\Users\\Eson\\Desktop\\pwa-vue-app-1\\node_modules\\webpack-cli\\bin\\utils\\convert-argv.js:119:14) at C:\\Users\\Eson\\Desktop\\pwa-vue-app-1\\node_modules\\webpack-cli\\bin\\utils\\convert-argv.js:125:17 at Array.forEach (<anonymous>) at module.exports (C:\\Users\\Eson\\Desktop\\pwa-vue-app-1\\node_modules\\webpack-cli\\bin\\utils\\convert-argv.js:123:15) at Object.<anonymous> (C:\\Users\\Eson\\Desktop\\pwa-vue-app-1\\node_modules\\webpack-dev-server\\bin\\webpack-dev-server.js:79:40) at Module._compile (internal/modules/cjs/loader.js:776:30) at Object.Module._extensions..js (internal/modules/cjs/loader.js:787:10) at Module.load (internal/modules/cjs/loader.js:653:32) at tryModuleLoad (internal/modules/cjs/loader.js:593:12) at Function.Module._load (internal/modules/cjs/loader.js:585:3) at Function.Module.runMain (internal/modules/cjs/loader.js:829:12) at startup (internal/bootstrap/node.js:283:19) at bootstrapNodeJSCore (internal/bootstrap/node.js:622:3) and this is the webpack.config.js file const path = require('path') const { VueLoaderPlugin } = require('vue-loader') const HtmlWebpackPlugin = require('html-webpack-plugin') const CopyWebpackPlugin = require('copy-webpack-plugin') const CleanWebpackPlugin = require('clean-webpack-plugin') module.exports = (env, argv) => ({ mode: argv && argv.mode || 'development', devtool: (argv && argv.mode || 'development') === 'production' ? 'source-map' : 'eval', entry: './src/app.js', output: { path: path.resolve(__dirname, 'dist'), filename: '[name].js' }, node: false, module: { rules: [ { test: /\\.vue$/, loader: 'vue-loader' }, { test: /\\.js$/, loader: 'babel-loader' }, { test: /\\.css$/, use: [ 'vue-style-loader', 'css-loader' ], exclude: /\\.module\\.css$/ } ] }, resolve: { extensions: [ '.js', '.vue', '.json' ], alias: { 'vue$': 'vue/dist/vue.esm.js', '@': path.resolve(__dirname, 'src') } }, plugins: [ new CleanWebpackPlugin(['dist']), new VueLoaderPlugin(), new HtmlWebpackPlugin({ template: path.resolve(__dirname, 'static', 'index.html'), inject: true }), new CopyWebpackPlugin([{ from: path.resolve(__dirname, 'static'), to: path.resolve(__dirname, 'dist'), toType: 'dir' }]) ], optimization: { splitChunks: { chunks: 'all', minSize: 30000, maxSize: 0, cacheGroups: { vendors: { test: /[\\\\/]node_modules[\\\\/]/, priority: -10 }, default: { minChunks: 2, priority: -20, reuseExistingChunk: true } } }, runtimeChunk: { name: entrypoint => `runtime~${entrypoint.name}` }, mangleWasmImports: true, removeAvailableModules: true, removeEmptyChunks: true, mergeDuplicateChunks: true }, devServer: { compress: true, host: 'localhost', https: true, open: true, overlay: true, port: 9000 } }); this is the error i get when using the right import as explained in the documenation : throw new Error(`clean-webpack-plugin only accepts an options object. See: ^ Error: clean-webpack-plugin only accepts an options object. See: https://github.com/johnagan/clean-webpack-plugin#options-and-defaults-optional at new CleanWebpackPlugin (C:\\Users\\Eson\\Desktop\\pwa-vue-app-1\\node_modules\\clean-webpack-plugin\\dist\\clean-webpack-plugin.js:27:13) at module.exports (C:\\Users\\Eson\\Desktop\\pwa-vue-app-1\\webpack.config.js:56:5) at handleFunction (C:\\Users\\Eson\\Desktop\\pwa-vue-app-1\\node_modules\\webpack-cli\\bin\\utils\\prepareOptions.js:21:13) at prepareOptions (C:\\Users\\Eson\\Desktop\\pwa-vue-app-1\\node_modules\\webpack-cli\\bin\\utils\\prepareOptions.js:9:5) at requireConfig (C:\\Users\\Eson\\Desktop\\pwa-vue-app-1\\node_modules\\webpack-cli\\bin\\utils\\convert-argv.js:119:14) at C:\\Users\\Eson\\Desktop\\pwa-vue-app-1\\node_modules\\webpack-cli\\bin\\utils\\convert-argv.js:125:17 at Array.forEach (<anonymous>) at module.exports (C:\\Users\\Eson\\Desktop\\pwa-vue-app-1\\node_modules\\webpack-cli\\bin\\utils\\convert-argv.js:123:15) at Object.<anonymous> (C:\\Users\\Eson\\Desktop\\pwa-vue-app-1\\node_modules\\webpack-dev-server\\bin\\webpack-dev-server.js:79:40) at Module._compile (internal/modules/cjs/loader.js:776:30) at Object.Module._extensions..js (internal/modules/cjs/loader.js:787:10) at Module.load (internal/modules/cjs/loader.js:653:32) at tryModuleLoad (internal/modules/cjs/loader.js:593:12) at Function.Module._load (internal/modules/cjs/loader.js:585:3) at Function.Module.runMain (internal/modules/cjs/loader.js:829:12) at startup (internal/bootstrap/node.js:283:19) if i delete line 56 in webpack.config.js i can run the web application without problems, but i want to understand the source of this issue",
    "question_tags": [
      "javascript",
      "vue.js",
      "webpack",
      "webpack-dev-server"
    ],
    "question_score": 94,
    "question_view_count": 62088,
    "question_creation_date": 1560362276,
    "answer_id": 56625911,
    "answer_text": "The correct one is to use this import: const { CleanWebpackPlugin } = require('clean-webpack-plugin'); And then instead of passing an array with the distribution folder, change it to plugins: [ new CleanWebpackPlugin(), //... ]",
    "answer_score": 135,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 34,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      135,
      94,
      62088,
      34,
      -202027446
    ]
  },
  {
    "question_id": 64294706,
    "question_url": "https://stackoverflow.com/questions/64294706/webpack5-automatic-publicpath-is-not-supported-in-this-browser",
    "question_title": "Webpack5 Automatic publicPath is not supported in this browser",
    "question_text": "I was working on webpack 4.44.2, I face this error when I convert to webpack5.0.0 ERROR in ./src/assets/sass/styles.scss Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js): Error: Automatic publicPath is not supported in this browser at E:\\maktab\\Control-panel\\newcontrol\\final-control\\node_modules\\css-loader\\dist\\cjs.js! the error is from the font file bath in fonts.scss @font-face { font-family: \"Janna LT\"; src: local(\"Janna LT\"), url(../fonts/janna.woff) format(\"woff\"); font-weight: normal; } @font-face { font-family: \"Janna LT\"; src: local(\"Janna LT\"), url(../fonts/janna-bold.woff) format(\"woff\"); font-weight: bold; } my src structure https://i.sstatic.net/vKyfW.png dist structure https://i.sstatic.net/mLgmF.png webpack.config.js const path = require('path'); const MiniCssExtractPlugin = require('mini-css-extract-plugin'); const OptimizeCSSAssetsPlugin = require(\"optimize-css-assets-webpack-plugin\"); const HtmlWebpackPlugin = require(\"html-webpack-plugin\"); const { CleanWebpackPlugin } = require('clean-webpack-plugin'); module.exports = { entry: { 'main': './src/index.js', }, output: { path: path.join(__dirname, \"/dist\"), filename: '[name].js', }, devServer: { contentBase: path.join(__dirname, \"/dist\"), port: 8087, writeToDisk: true, overlay :true }, module: { rules: [ { test: /\\.html$/, use: [ { loader: \"html-loader\", } ] }, { test: /\\.(sa|sc|c)ss$/, use: [ MiniCssExtractPlugin.loader, 'css-loader', 'postcss-loader', 'sass-loader' ] }, { test: /\\.(png|svg|jpe?g|gif)$/, exclude: /fonts/, use: [ { loader: \"file-loader\", options: { name: '[name].[ext]', outputPath: \"/assets/images\", } } ] }, { test: /\\.(svg|eot|woff|woff2|ttf)$/, exclude: /images/, use: [ { loader: \"file-loader\", options: { name: '[name].[ext]', outputPath: \"assets/fonts\", } } ] }, ] }, plugins: [ new CleanWebpackPlugin(), new HtmlWebpackPlugin({ filename: \"index.html\", template: \"./src/index.html\", chunks: ['main'] }), new MiniCssExtractPlugin({filename: \"assets/css/styles.css\"}), new OptimizeCSSAssetsPlugin({}), ] } styles.scss @import \"base/fonts\"; @import \"base/global\"; @import \"base/typography\"; @import \"base/links\"; @import \"components/components\"; @import \"components/demo\"; index.js import './assets/sass/styles.scss'; import 'normalize.css/normalize.css'; console.log(\"hellow from webpack5\");",
    "question_tags": [
      "javascript",
      "html",
      "css",
      "webpack",
      "sass"
    ],
    "question_score": 88,
    "question_view_count": 74901,
    "question_creation_date": 1602341387,
    "answer_id": 64715069,
    "answer_text": "The suggested solutions didn't work for me. However, I found that setting publicPath to an empty string did the trick. output: { publicPath: '', ... }",
    "answer_score": 100,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 26,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      100,
      88,
      74901,
      26,
      -160048335
    ]
  },
  {
    "question_id": 63912721,
    "question_url": "https://stackoverflow.com/questions/63912721/failed-to-load-config-react-to-extend-from",
    "question_title": "Failed to load config &quot;react&quot; to extend from",
    "question_text": "I am trying to create a react app without using create-react-app using the following website: https://www.freecodecamp.org/news/how-to-set-up-deploy-your-react-app-from-scratch-using-webpack-and-babel-a669891033d4/ however, I keep getting this error that says WARNING in ./src/index.js Module Warning (from ./node_modules/eslint-loader/dist/cjs.js): Failed to load config \"react\" to extend from. I have tried installing all the dependencies and have spent hours googling an answer, but I can't seem to figure out the problem. This is my package.json: { \"name\": \"xxx\", \"version\": \"1.0.0\", \"description\": \"\", \"main\": \"index.js\", \"scripts\": { \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\", \"start\": \"webpack-dev-server --mode development\", \"format\": \"prettier --write \\\"src/**/*.js\\\"\", \"eslint-fix\": \"eslint --fix \\\"src/**/*.js\\\"\", \"build\": \"webpack --mode production\" }, \"keywords\": [], \"author\": \"\", \"license\": \"ISC\", \"dependencies\": { \"@babel/plugin-proposal-class-properties\": \"^7.10.4\", \"react\": \"^16.13.1\", \"react-bootstrap\": \"^1.3.0\", \"react-dom\": \"^16.13.1\" }, \"devDependencies\": { \"@babel/core\": \"^7.11.6\", \"@babel/preset-env\": \"^7.11.5\", \"@babel/preset-react\": \"^7.10.4\", \"babel-eslint\": \"^10.1.0\", \"babel-loader\": \"^8.1.0\", \"css-loader\": \"^4.3.0\", \"eslint\": \"^7.9.0\", \"eslint-config-react\": \"^1.1.7\", \"eslint-loader\": \"^4.0.2\", \"eslint-plugin-react\": \"^7.20.6\", \"html-webpack-plugin\": \"^4.4.1\", \"less\": \"^3.12.2\", \"less-loader\": \"^7.0.1\", \"prettier\": \"2.1.1\", \"style-loader\": \"^1.2.1\", \"webpack\": \"^4.44.1\", \"webpack-cli\": \"^3.3.12\", \"webpack-dev-server\": \"^3.11.0\" } } this is my webpack.config.js: const path = require('path'); const HtmlWebpackPlugin = require('html-webpack-plugin'); module.exports = { entry: './src/index.js', output: { // path: __dirname + '/dist', path: path.resolve(__dirname, 'build'), publicPath: '/', filename: 'bundle.js' }, devServer: { contentBase: './build' }, module: { rules: [ { test: /\\.(js|jsx)$/, exclude: /node_modules/, use: ['babel-loader', 'eslint-loader'] }, { test: /\\.less$/, use: [ 'style-loader', 'css-loader', 'less-loader', ], } ] }, plugins: [ new HtmlWebpackPlugin({ template: path.resolve('./index.html'), })], }; this is my .eslintrc: { \"parser\": \"babel-eslint\", \"extends\": \"react\", \"env\": { \"browser\": true, \"node\": true }, \"settings\": { \"react\": { \"version\": \"detect\" } } } and this is my .babelrc: { \"presets\": [ \"@babel/preset-env\", \"@babel/preset-react\" ], \"plugins\": [ \"@babel/plugin-proposal-class-properties\" ] } Does anyone have any suggestions? I am wracking my brain trying to figure this out and I am having a lot of trouble. It loads the webpage, however, react isn't utilized at all. Thank you in advance!! I really appreciate all your help.",
    "question_tags": [
      "javascript",
      "reactjs",
      "webpack",
      "eslint"
    ],
    "question_score": 89,
    "question_view_count": 149357,
    "question_creation_date": 1600227219,
    "answer_id": 66052385,
    "answer_text": "I had a similar problem with create-react-app and I did yarn add eslint-config-react-app -D I think you should try: yarn add eslint-config-react -D",
    "answer_score": 94,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 23,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      94,
      89,
      149357,
      23,
      -162162503
    ]
  },
  {
    "question_id": 55613789,
    "question_url": "https://stackoverflow.com/questions/55613789/how-to-fix-fatal-error-ineffective-mark-compacts-near-heap-limit-allocation-fa",
    "question_title": "How to fix &quot;FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory&quot; error",
    "question_text": "I'm trying to deploy a reactjs application to heroku. While compiling assets, the build fails and produces this error: -----> Ruby app detected -----> Compiling Ruby/Rails -----> Using Ruby version: ruby-2.5.1 -----> Installing dependencies using bundler 1.15.2 Running: bundle install --without development:test --path vendor/bundle --binstubs vendor/bundle/bin -j4 --deployment Warning: the running version of Bundler (1.15.2) is older than the version that created the lockfile (1.16.3). We suggest you upgrade to the latest version of Bundler by running `gem install bundler`. Fetching gem metadata from https://rubygems.org/............ Fetching version metadata from https://rubygems.org/.. Fetching dependency metadata from https://rubygems.org/. Using rake 12.3.1 Using concurrent-ruby 1.1.3 Using minitest 5.11.3 Using thread_safe 0.3.6 Using builder 3.2.3 Using erubi 1.7.1 Using mini_portile2 2.3.0 Using crass 1.0.4 Using rack 2.0.6 Using nio4r 2.3.1 Using websocket-extensions 0.1.3 Using mini_mime 1.0.1 Using jsonapi-renderer 0.2.0 Using arel 9.0.0 Using mimemagic 0.3.2 Using public_suffix 3.0.3 Using airbrake-ruby 2.12.0 Using execjs 2.7.0 Using bcrypt 3.1.12 Using popper_js 1.14.5 Using rb-fsevent 0.10.3 Using ffi 1.9.25 Using bundler 1.15.2 Using regexp_parser 1.3.0 Using mime-types-data 3.2018.0812 Using chartkick 3.0.1 Using highline 2.0.0 Using connection_pool 2.2.2 Using orm_adapter 0.5.0 Using method_source 0.9.2 Using thor 0.19.4 Using multipart-post 2.0.0 Using geokit 1.13.1 Using temple 0.8.0 Using tilt 2.0.9 Using hashie 3.5.7 Using json 2.1.0 Using mini_magick 4.9.2 Using multi_json 1.13.1 Using newrelic_rpm 5.5.0.348 Using one_signal 1.2.0 Using xml-simple 1.1.5 Using pg 0.21.0 Using puma 3.12.0 Using rack-timeout 0.5.1 Using redis 4.0.3 Using secure_headers 6.0.0 Using swagger-ui_rails 0.1.7 Using i18n 1.1.1 Using nokogiri 1.8.5 Using tzinfo 1.2.5 Using websocket-driver 0.7.0 Using mail 2.7.1 Using marcel 0.3.3 Using addressable 2.5.2 Using rack-test 1.1.0 Using warden 1.2.8 Using sprockets 3.7.2 Using request_store 1.4.1 Using rack-protection 2.0.4 Using rack-proxy 0.6.5 Using autoprefixer-rails 9.4.2 Using uglifier 4.1.20 Using airbrake 7.4.0 Using rb-inotify 0.9.10 Using mime-types 3.2.2 Using commander 4.4.7 Using net-http-persistent 3.0.0 Using faraday 0.15.4 Using hashie-forbidden_attributes 0.1.1 Using omniauth 1.8.1 Using haml 5.0.4 Using slim 4.0.1 Using paypal-sdk-core 0.3.4 Using faker 1.9.1 from https://github.com/stympy/faker.git (at master@aca03be) Using money 6.13.1 Using loofah 2.2.3 Using xpath 3.2.0 Using activesupport 5.2.0 Using sidekiq 5.2.3 Using sass-listen 4.0.0 Using houston 2.4.0 Using stripe 4.2.0 Using paypal-sdk-adaptivepayments 1.117.1 Using monetize 1.9.0 Using rails-html-sanitizer 1.0.4 Using capybara 3.12.0 Using rails-dom-testing 2.0.3 Using globalid 0.4.1 Using activemodel 5.2.0 Using case_transform 0.2 Using decent_exposure 3.0.0 Using factory_bot 4.11.1 Using fast_jsonapi 1.5 Using groupdate 4.1.0 Using pundit 2.0.0 Using sass 3.7.2 Using actionview 5.2.0 Using activerecord 5.2.0 Using carrierwave 1.2.3 Using activejob 5.2.0 Using actionpack 5.2.0 Using bootstrap 4.1.3 Using actioncable 5.2.0 Using actionmailer 5.2.0 Using active_model_serializers 0.10.8 Using activestorage 5.2.0 Using railties 5.2.0 Using sprockets-rails 3.2.1 Using simple_form 4.1.0 Using responders 2.4.0 Using factory_bot_rails 4.11.1 Using font-awesome-rails 4.7.0.4 Using highcharts-rails 6.0.3 Using jquery-rails 4.3.3 Using lograge 0.10.0 Using money-rails 1.13.0 Using slim-rails 3.2.0 Using webpacker 3.5.5 Using rails 5.2.0 Using sass-rails 5.0.7 Using geokit-rails 2.3.1 Using swagger-docs 0.2.9 Using devise 4.5.0 Using devise_token_auth 1.0.0 Bundle complete! 68 Gemfile dependencies, 125 gems now installed. Gems in the groups development and test were not installed. Bundled gems are installed into ./vendor/bundle. Bundle completed (5.09s) Cleaning up the bundler cache. Warning: the running version of Bundler (1.15.2) is older than the version that created the lockfile (1.16.3). We suggest you upgrade to the latest version of Bundler by running `gem install bundler`. The latest bundler is 2.0.1, but you are currently running 1.15.2. To update, run `gem install bundler` -----> Installing node-v10.14.1-linux-x64 -----> Installing yarn-v1.12.3 -----> Detecting rake tasks -----> Preparing app for Rails asset pipeline Running: rake assets:precompile yarn install v1.12.3 warning package-lock.json found. Your project contains lock files generated by tools other than Yarn. It is advised not to mix package managers in order to avoid resolution inconsistencies caused by unsynchronized lock files. To clear this warning, remove package-lock.json. [1/5] Validating package.json... [2/5] Resolving packages... [3/5] Fetching packages... info fsevents@1.2.4: The platform \"linux\" is incompatible with this module. info \"fsevents@1.2.4\" is an optional dependency and failed compatibility check. Excluding it from installation. [4/5] Linking dependencies... warning \"@rails/webpacker > postcss-cssnext@3.1.0\" has unmet peer dependency \"caniuse-lite@^1.0.30000697\". warning \" > react-addons-css-transition-group@15.6.2\" has incorrect peer dependency \"react@^15.4.2\". warning \" > react-bootstrap-table-next@1.4.0\" has unmet peer dependency \"classnames@^2.2.5\". warning \" > react-progressbar@15.4.1\" has incorrect peer dependency \"react@^15.0.1\". warning \" > redux-immutable@4.0.0\" has unmet peer dependency \"immutable@^3.8.1 || ^4.0.0-rc.1\". warning \"eslint-config-airbnb > eslint-config-airbnb-base@11.3.2\" has incorrect peer dependency \"eslint-plugin-import@^2.7.0\". warning \" > webpack-dev-server@2.11.2\" has unmet peer dependency \"webpack@^2.2.0 || ^3.0.0\". warning \"webpack-dev-server > webpack-dev-middleware@1.12.2\" has unmet peer dependency \"webpack@^1.0.0 || ^2.0.0 || ^3.0.0\". [5/5] Building fresh packages... $ cd client && yarn yarn install v1.12.3 warning package-lock.json found. Your project contains lock files generated by tools other than Yarn. It is advised not to mix package managers in order to avoid resolution inconsistencies caused by unsynchronized lock files. To clear this warning, remove package-lock.json. [1/5] Validating package.json... [2/5] Resolving packages... [3/5] Fetching packages... info fsevents@1.2.4: The platform \"linux\" is incompatible with this module. info \"fsevents@1.2.4\" is an optional dependency and failed compatibility check. Excluding it from installation. [4/5] Linking dependencies... warning \" > babel-loader@7.1.0\" has unmet peer dependency \"webpack@2 || 3\". warning \" > react-intl@2.3.0\" has incorrect peer dependency \"react@^0.14.9 || ^15.0.0\". warning \" > react-router-dom@4.1.1\" has incorrect peer dependency \"react@^15\". warning \" > react-router-redux@5.0.0-alpha.6\" has incorrect peer dependency \"react@^15\". warning \" > enzyme@2.8.2\" has incorrect peer dependency \"react@0.13.x || 0.14.x || ^15.0.0-0 || 15.x\". warning \" > eslint-import-resolver-webpack@0.8.3\" has unmet peer dependency \"webpack@>=1.11.0\". warning \" > html-webpack-plugin@2.29.0\" has unmet peer dependency \"webpack@1 || ^2 || ^2.1.0-beta || ^2.2.0-rc || ^3\". warning \"image-webpack-loader > file-loader@1.1.11\" has unmet peer dependency \"webpack@^2.0.0 || ^3.0.0 || ^4.0.0\". warning \" > react-test-renderer@15.6.1\" has incorrect peer dependency \"react@^15.6.1\". [5/5] Building fresh packages... Done in 31.85s. Done in 76.09s. Webpacker is installed 🎉 🍰 Using /tmp/build_8f521e11fc612876bcd3c01cd8da6bdd/config/webpacker.yml file for setting up webpack paths Compiling… Compilation failed: FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory 1: 0x8dbaa0 node::Abort() [node] 2: 0x8dbaec [node] 3: 0xad83de v8::Utils::ReportOOMFailure(v8::internal::Isolate*, char const*, bool) [node] 4: 0xad8614 v8::internal::V8::FatalProcessOutOfMemory(v8::internal::Isolate*, char const*, bool) [node] 5: 0xec5c42 [node] 6: 0xec5d48 v8::internal::Heap::CheckIneffectiveMarkCompact(unsigned long, double) [node] 7: 0xed1e22 v8::internal::Heap::PerformGarbageCollection(v8::internal::GarbageCollector, v8::GCCallbackFlags) [node] 8: 0xed2754 v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags) [node] 9: 0xed53c1 v8::internal::Heap::AllocateRawWithRetryOrFail(int, v8::internal::AllocationSpace, v8::internal::AllocationAlignment) [node] 10: 0xe9e844 v8::internal::Factory::NewFillerObject(int, bool, v8::internal::AllocationSpace) [node] 11: 0x113dfae v8::internal::Runtime_AllocateInNewSpace(int, v8::internal::Object**, v8::internal::Isolate*) [node] 12: 0x2daefc5be1d <--- Last few GCs ---> [587:0x2713f20] 1469419 ms: Mark-sweep 1362.0 (1417.7) -> 1361.9 (1418.2) MB, 1183.8 / 0.0 ms (average mu = 0.099, current mu = 0.004) allocation failure scavenge might not succeed [587:0x2713f20] 1470575 ms: Mark-sweep 1363.1 (1418.7) -> 1362.9 (1419.7) MB, 1151.7 / 0.0 ms (average mu = 0.053, current mu = 0.004) allocation failure scavenge might not succeed <--- JS stacktrace ---> ==== JS stack trace ========================================= 0: ExitFrame [pc: 0x2daefc5be1d] Security context: 0x395bbaa1e6e1 <JSObject> 1: addMappingWithCode [0x1a4bb3f1a89] [/tmp/build_8f521e11fc612876bcd3c01cd8da6bdd/node_modules/webpack-sources/node_modules/source-map/lib/source-node.js:~150] [pc=0x2daf487dfd2](this=0x08663a09ad49 <JSGlobal Object>,mapping=0x2969e26a1e61 <Object map = 0x1067d74ad2e1>,code=0x3e38d99f4479 <String[6]: break >) 2: /* anonymous */ [0x1a4bb3dcc79] [/tmp/... ! ! Precompiling assets failed. ! ! Push rejected, failed to compile Ruby app. ! Push failed I've tried various methods in my package.json file: \"scripts\" : { \"start\": \"cross-env NODE_OPTIONS=--max_old_space_size=5120 webpack\" } \"scripts\" : { \"webpacker\": \"node --max-old-space-size=4096 node_modules/.bin/react-scripts start\" } \"scripts\" : { \"start\": \"node --max-old-space-size=6144 client/app/app.js\" } I've researched and found various github and stackoverflow threads but they do not seem to fix my issue. https://github.com/npm/npm/issues/12238 Increase JavaScript Heap size in create-react-app project Here is my package.json file: { \"name\": \"safe_deliver\", \"private\": true, \"engines\": { \"node\": \">=6.0.0\", \"yarn\": \">=0.25.2\" }, \"scripts\": { \"postinstall\": \"cd client && yarn\", \"pre-commit\": \"cd client && npm run lint:staged\", \"start\": \"cross-env NODE_OPTIONS=--max-old-space-size=6144 bin/webpack\" }, \"dependencies\": { \"@fortawesome/fontawesome\": \"^1.1.8\", \"@fortawesome/fontawesome-free\": \"^5.3.1\", \"@fortawesome/fontawesome-free-brands\": \"^5.0.13\", \"@fortawesome/fontawesome-free-regular\": \"^5.0.13\", \"@fortawesome/fontawesome-free-solid\": \"^5.0.13\", \"@fortawesome/fontawesome-svg-core\": \"^1.2.4\", \"@fortawesome/free-solid-svg-icons\": \"^5.3.1\", \"@fortawesome/react-fontawesome\": \"^0.1.3\", \"@rails/webpacker\": \"^3.3.1\", \"babel-plugin-emotion\": \"^9.2.6\", \"babel-preset-react\": \"^6.24.1\", \"babel-preset-stage-0\": \"^6.24.1\", \"bootstrap\": \"4.0.0\", \"chart.js\": \"^2.7.3\", \"chartkick\": \"^3.0.1\", \"emotion\": \"^9.2.6\", \"google-maps-react\": \"^2.0.2\", \"jquery\": \"^3.2.1\", \"jquery-ujs\": \"^1.2.2\", \"leaflet\": \"^1.3.1\", \"normalize.css\": \"^8.0.1\", \"popper.js\": \"^1.12.9\", \"prop-types\": \"^15.6.1\", \"rc-time-picker\": \"^3.6.2\", \"react\": \"^16.4.1\", \"react-addons-css-transition-group\": \"^15.6.2\", \"react-animate-height\": \"^2.0.5\", \"react-bootstrap-table-next\": \"^1.4.0\", \"react-calendar\": \"^2.16.0\", \"react-datepicker\": \"^2.3.0\", \"react-dom\": \"^16.4.1\", \"react-emotion\": \"^9.2.6\", \"react-fontawesome\": \"^1.6.1\", \"react-geocode\": \"^0.1.2\", \"react-https-redirect\": \"^1.0.11\", \"react-input-mask\": \"^2.0.4\", \"react-progressbar\": \"^15.4.1\", \"react-star-rating-component\": \"^1.4.1\", \"react-stripe-elements\": \"^2.0.1\", \"reactjs-popup\": \"^1.3.2\", \"redux-immutable\": \"^4.0.0\", \"reset-css\": \"^4.0.1\", \"seamless-immutable\": \"^7.1.4\", \"styled-components\": \"^3.4.2\" }, \"devDependencies\": { \"eslint\": \"3.19.0\", \"eslint-config-airbnb\": \"15.0.1\", \"eslint-plugin-import\": \"2.2.0\", \"eslint-plugin-jsx-a11y\": \"5.0.3\", \"eslint-plugin-react\": \"7.0.1\", \"pre-commit\": \"1.2.2\", \"webpack-dev-server\": \"^2.7.1\" } } I am expecting this error to go away and the application to be deployed. Right now it is throwing javascript heap out of memory error.",
    "question_tags": [
      "node.js",
      "reactjs",
      "webpack"
    ],
    "question_score": 78,
    "question_view_count": 169615,
    "question_creation_date": 1554902853,
    "answer_id": 56779651,
    "answer_text": "That problem is related with large files in your project. I'm using create-react-app, and I got that error, after doing some search, it seems one solution is this. Put in .env file: GENERATE_SOURCEMAP=false",
    "answer_score": 72,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 33,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      72,
      78,
      169615,
      33,
      -207486869
    ]
  },
  {
    "question_id": 71835580,
    "question_url": "https://stackoverflow.com/questions/71835580/useeffect-being-called-twice-in-nextjs-typescript-app",
    "question_title": "useEffect being called twice in Nextjs Typescript app",
    "question_text": "I have a simple useEffect function setup with the brackets like so: useEffect(() => { console.log('hello') getTransactions() }, []) However when I run my app, it prints two hellos in the console. Any idea why? Even if I add something like this, two hellos print still. const [useEffectCalled, setUseEffectCalled] = useState<Boolean>(false) useEffect(() => { console.log('hello') if (!useEffectCalled) { getTransactions() } setUseEffectCalled(true) }, [])",
    "question_tags": [
      "javascript",
      "reactjs",
      "next.js",
      "frontend"
    ],
    "question_score": 16,
    "question_view_count": 19867,
    "question_creation_date": 1649722082,
    "answer_id": 71835700,
    "answer_text": "Thanks to Joel Hager I was able to get it working by editing by next.config.js to const nextConfig = { reactStrictMode: false, }; and restarting my app.",
    "answer_score": 67,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 27,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      67,
      16,
      19867,
      27,
      -112667659
    ]
  },
  {
    "question_id": 68270468,
    "question_url": "https://stackoverflow.com/questions/68270468/what-is-the-usage-of-webkit-fill-available",
    "question_title": "what is the usage of -webkit-fill-available?",
    "question_text": "PIC-1 this is what I've ( pic-1 ) PIC-2 this is what I need ( pic-2 ) in the pic-2 I added width: -webkit-fill-available; I got what I expect. But I don't know how it's working.",
    "question_tags": [
      "css",
      "bootstrap-4",
      "material-ui",
      "frontend",
      "styles"
    ],
    "question_score": 27,
    "question_view_count": 63493,
    "question_creation_date": 1625574137,
    "answer_id": 68270606,
    "answer_text": "So there are two things you need to know about this: -webkit-fill-available; the -webkit part is an extension for browsers such as Safari or Chrome, you can find more examples here: https://developer.mozilla.org/en-US/docs/Web/CSS/WebKit_Extensions . This mean that this code will not work in Firefox. To cover every browser, you could use something like that: elem { width: 100%; width: -moz-available; /* WebKit-based browsers will ignore this. */ width: -webkit-fill-available; /* Mozilla-based browsers will ignore this. */ width: stretch; } https://caniuse.com/intrinsic-width And the stretch (formerly fill-available ) part means the element will expand to take all available space in its container. That's why your line stretched. Hope I could clear it up for you.",
    "answer_score": 58,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 112,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      58,
      27,
      63493,
      112,
      -136815604
    ]
  },
  {
    "question_id": 61755999,
    "question_url": "https://stackoverflow.com/questions/61755999/uncaught-referenceerror-regeneratorruntime-is-not-defined-in-react",
    "question_title": "Uncaught ReferenceError: regeneratorRuntime is not defined in React",
    "question_text": "I'm getting an error \"Uncaught ReferenceError: regeneratorRuntime is not defined\". Please help me to find out the error and how to resolve it.",
    "question_tags": [
      "reactjs",
      "frontend",
      "react-functional-component"
    ],
    "question_score": 30,
    "question_view_count": 56022,
    "question_creation_date": 1589298405,
    "answer_id": 64083314,
    "answer_text": "Install the runtime dependency npm i --save-dev @babel/plugin-transform-runtime Add the plugin to your .babelrc file { \"plugins\": [\"@babel/plugin-transform-runtime\"] } More Info: https://babeljs.io/docs/en/babel-plugin-transform-runtime TLDR; Async functions are abstraction on top of generators. Async functions and generators are now supported in all major browsers and in Node10 and upwards. If you are using a transpiler (such as babel) for backwards compatibility, you would need an extra \"layer\" that transforms generators. This implies transforming ES6 into ES5 at runtime since their syntax isn't backwards compatible. See https://cmichel.io/how-are-generators-transpiled-to-es5",
    "answer_score": 55,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 84,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      55,
      30,
      56022,
      84,
      -173091336
    ]
  },
  {
    "question_id": 64608974,
    "question_url": "https://stackoverflow.com/questions/64608974/react-table-pagination-properties-doesnt-exist-on-type-tableinstance",
    "question_title": "react-table pagination properties doesn&#39;t exist on type &#39;TableInstance{}&#39;",
    "question_text": "I'm trying to implement a pagination using react-table. In most tutorials we start with this: const { getTableProps, getTableBodyProps, headerGroups, page, prepareRow, visibleColumns, canPreviousPage, canNextPage, pageOptions, pageCount, gotoPage, nextPage, previousPage, setPageSize, state: { pageIndex, pageSize }, } = useTable( { columns, data, defaultColumn: { Filter: DefaultColumnFilter }, initialState: { pageIndex: 0, pageSize: 10 }, }, In my case, my IDE says, that the properties: page, canPreviousPage, canNextPage, pageOptions, pageCount, gotoPage, nextPage, previousPage, setPageSize doesn't exist on type 'TableInstance{}'. After a lot of research in the www, I can't find a reason why these properties aren't in the TableInstance. How can I use the pagination without these properties or is there a way to make it work? I look forward to every answer",
    "question_tags": [
      "reactjs",
      "typescript",
      "pagination",
      "frontend",
      "react-table"
    ],
    "question_score": 19,
    "question_view_count": 12965,
    "question_creation_date": 1604063321,
    "answer_id": 66731727,
    "answer_text": "Creating a react-table-config.d.ts file with the following content fixed the issue for me: import { UseColumnOrderInstanceProps, UseColumnOrderState, UseExpandedHooks, UseExpandedInstanceProps, UseExpandedOptions, UseExpandedRowProps, UseExpandedState, UseFiltersColumnOptions, UseFiltersColumnProps, UseFiltersInstanceProps, UseFiltersOptions, UseFiltersState, UseGlobalFiltersColumnOptions, UseGlobalFiltersInstanceProps, UseGlobalFiltersOptions, UseGlobalFiltersState, UseGroupByCellProps, UseGroupByColumnOptions, UseGroupByColumnProps, UseGroupByHooks, UseGroupByInstanceProps, UseGroupByOptions, UseGroupByRowProps, UseGroupByState, UsePaginationInstanceProps, UsePaginationOptions, UsePaginationState, UseResizeColumnsColumnOptions, UseResizeColumnsColumnProps, UseResizeColumnsOptions, UseResizeColumnsState, UseRowSelectHooks, UseRowSelectInstanceProps, UseRowSelectOptions, UseRowSelectRowProps, UseRowSelectState, UseRowStateCellProps, UseRowStateInstanceProps, UseRowStateOptions, UseRowStateRowProps, UseRowStateState, UseSortByColumnOptions, UseSortByColumnProps, UseSortByHooks, UseSortByInstanceProps, UseSortByOptions, UseSortByState } from 'react-table' declare module 'react-table' { // take this file as-is, or comment out the sections that don't apply to your plugin configuration export interface TableOptions<D extends Record<string, unknown>> extends UseExpandedOptions<D>, UseFiltersOptions<D>, UseGlobalFiltersOptions<D>, UseGroupByOptions<D>, UsePaginationOptions<D>, UseResizeColumnsOptions<D>, UseRowSelectOptions<D>, UseRowStateOptions<D>, UseSortByOptions<D>, // note that having Record here allows you to add anything to the options, this matches the spirit of the // underlying js library, but might be cleaner if it's replaced by a more specific type that matches your // feature set, this is a safe default. Record<string, any> {} export interface Hooks<D extends Record<string, unknown> = Record<string, unknown>> extends UseExpandedHooks<D>, UseGroupByHooks<D>, UseRowSelectHooks<D>, UseSortByHooks<D> {} export interface TableInstance<D extends Record<string, unknown> = Record<string, unknown>> extends UseColumnOrderInstanceProps<D>, UseExpandedInstanceProps<D>, UseFiltersInstanceProps<D>, UseGlobalFiltersInstanceProps<D>, UseGroupByInstanceProps<D>, UsePaginationInstanceProps<D>, UseRowSelectInstanceProps<D>, UseRowStateInstanceProps<D>, UseSortByInstanceProps<D> {} export interface TableState<D extends Record<string, unknown> = Record<string, unknown>> extends UseColumnOrderState<D>, UseExpandedState<D>, UseFiltersState<D>, UseGlobalFiltersState<D>, UseGroupByState<D>, UsePaginationState<D>, UseResizeColumnsState<D>, UseRowSelectState<D>, UseRowStateState<D>, UseSortByState<D> {} export interface ColumnInterface<D extends Record<string, unknown> = Record<string, unknown>> extends UseFiltersColumnOptions<D>, UseGlobalFiltersColumnOptions<D>, UseGroupByColumnOptions<D>, UseResizeColumnsColumnOptions<D>, UseSortByColumnOptions<D> {} export interface ColumnInstance<D extends Record<string, unknown> = Record<string, unknown>> extends UseFiltersColumnProps<D>, UseGroupByColumnProps<D>, UseResizeColumnsColumnProps<D>, UseSortByColumnProps<D> {} export interface Cell<D extends Record<string, unknown> = Record<string, unknown>, V = any> extends UseGroupByCellProps<D>, UseRowStateCellProps<D> {} export interface Row<D extends Record<string, unknown> = Record<string, unknown>> extends UseExpandedRowProps<D>, UseGroupByRowProps<D>, UseRowSelectRowProps<D>, UseRowStateRowProps<D> {} } As suggested in: https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/react-table",
    "answer_score": 48,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 275,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      48,
      19,
      12965,
      275,
      -158326420
    ]
  },
  {
    "question_id": 58525719,
    "question_url": "https://stackoverflow.com/questions/58525719/safari-not-sending-cookie-even-after-setting-samesite-none-secure",
    "question_title": "Safari not sending cookie even after setting SameSite=None; Secure",
    "question_text": "Our application uses cookies to remember user login. Every auth API call we make, the browser attaches server-set HTTPonly cookie with the API request and gets authenticated. This behaviour seems to be broken in safari after Mojave release. I read about the cross-site cookie security implemented by safari and our server team added SameSite=None;Secure while setting the cookie. Even after that, it still doesn't work. Set-Cookie: my_cookie=XXXXX; path=/; secure; HttpOnly; SameSite=None Please advise or provide links from people who actually found a solution..",
    "question_tags": [
      "javascript",
      "cookies",
      "safari",
      "setcookie",
      "samesite"
    ],
    "question_score": 61,
    "question_view_count": 57539,
    "question_creation_date": 1571842634,
    "answer_id": 58652141,
    "answer_text": "Versions of Safari on MacOS 10.14 and all browsers on iOS 12 are affected by this bug which means that SameSite=None is erroneously treated as SameSite=Strict , e.g. the most restrictive setting. I've published some guidance in SameSite cookie recipes on either: Using two sets of cookies to account for browsers that support SameSite=None; Secure and those that don't. Sniffing the user agent for incompatible browsers and not serving SameSite=None for those requests.",
    "answer_score": 41,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 73,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      41,
      61,
      57539,
      73,
      -190547047
    ]
  },
  {
    "question_id": 59769521,
    "question_url": "https://stackoverflow.com/questions/59769521/increase-flutter-radio-widget-size",
    "question_title": "Increase Flutter Radio Widget size",
    "question_text": "I am using default Flutter Radio Widget. I want to increase its size but there is no property available for it. Tried using SizedBox with width: 50, height: 50. Didn't help. Not want to implement a whole custom radio button. Just want to increase the default's size. Thanks",
    "question_tags": [
      "flutter",
      "frontend"
    ],
    "question_score": 17,
    "question_view_count": 17330,
    "question_creation_date": 1579176971,
    "answer_id": 62368693,
    "answer_text": "Well you can wrap it in Transform.Scale then use the scale property to increase it. Transform.scale( scale: 2.0, child: Radio( value: 'wire', groupValue: selectedRadio, onChanged: (value)=>radioSelected(value), activeColor: Color(0xffFFBD11), ), ),",
    "answer_score": 38,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 30,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      38,
      17,
      17330,
      30,
      -183212770
    ]
  },
  {
    "question_id": 63273838,
    "question_url": "https://stackoverflow.com/questions/63273838/why-am-i-getting-indicate-whether-to-send-a-cookie-in-a-cross-site-request-by-s",
    "question_title": "Why am I getting &quot;Indicate whether to send a cookie in a cross-site request by specifying its SameSite attribute&quot;?",
    "question_text": "In a Chrome warning, it says: Specify SameSite=None and Secure if the cookie should be sent in cross-site requests. This enables third-party use. How do I do this correctly using express-session ? app.use( cors({ credentials: true, origin: [\"http://localhost:3000\", \"https://elated-jackson-28b73e.netlify.app\"] //Swap this with the client url }) ); var sess = { secret: 'keyboard cat', cookie: {} } if (app.get('env') === 'production') { app.set('trust proxy', 1) // trust first proxy sess.cookie.secure = true // serve secure cookies sess.cookie.sameSite = 'none' } app.use(session(sess))",
    "question_tags": [
      "cookies",
      "express-session"
    ],
    "question_score": 97,
    "question_view_count": 120367,
    "question_creation_date": 1596663261,
    "answer_id": 68315297,
    "answer_text": "you are getting this because you are using a resource from another site and that server is attempting to set a \"cookie\" but, it does not have the SameSite attribute set, which is being reported in newer versions of browsers. this (may) also be shown if you are trying to access the server page from local computer (xampp), which generally doesn't has SSL installed; set the header line in your server page (if in PHP) as below: header(\"Set-Cookie: cross-site-cookie=whatever; SameSite=None; Secure\"); (remember: this must be solved from the server side.)",
    "answer_score": 36,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 90,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      36,
      97,
      120367,
      90,
      -165726420
    ]
  },
  {
    "question_id": 61282379,
    "question_url": "https://stackoverflow.com/questions/61282379/parcel-js-use-of-public-url-option",
    "question_title": "Parcel JS. Use of --public-url option",
    "question_text": "I am using Parcel JS for a personal project and I am really confused by this option: --public-url Here is the documentation: https://en.parceljs.org/cli.html#options which is really scarce. 1) What is the main use of it? 2) It says that it is available in: serve , watch and build . Is there any difference between these 3 options while using --public-url ? 3) And last but not least, how --public-url and --out-dir work together? Is there any limitation on the setup when we use both options at the same time? Thanks.",
    "question_tags": [
      "javascript",
      "node.js",
      "webpack",
      "frontend",
      "parceljs"
    ],
    "question_score": 15,
    "question_view_count": 14466,
    "question_creation_date": 1587166637,
    "answer_id": 63588756,
    "answer_text": "--public-url is used to specify from where the bundled assets are served. As an example: The default value is --public-url / , which generates tags like this. <script src=\"/src.133713ex.js\"> Which doesn't work if the site is not served from the domains root. E.g. on a Github Pages site where the URLs are username.github.io/project-name/ , here you would need to serve them from the index.html files location. That's where --public-url comes in to play: --public-url ./ By adding this to our build options we change the generated tag to the following, which would work. <script src=\"src.133713ex.js\"> It just means you can use it with every way there is to start a parcel process. Yes they do work together! --out-dir just defines the directory where the bundled files are generated (default is /dist) and --public-url functions as explained above.",
    "answer_score": 36,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 137,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      36,
      15,
      14466,
      137,
      -175223104
    ]
  },
  {
    "question_id": 76809698,
    "question_url": "https://stackoverflow.com/questions/76809698/spring-security-method-cannot-decide-pattern-is-mvc-or-not-spring-boot-applicati",
    "question_title": "Spring security method cannot decide pattern is MVC or not Spring Boot application exception",
    "question_text": "When I try to run an application it fails to start and throws this exception. This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher). I am new to Spring Security. Please help me solve this error. This is my spring security configuration class package com.ronit.SpringSecurityTutorial.configuration; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import org.springframework.security.authentication.AuthenticationManager; import org.springframework.security.authentication.ProviderManager; import org.springframework.security.authentication.dao.DaoAuthenticationProvider; import org.springframework.security.config.annotation.web.builders.HttpSecurity; import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity; import org.springframework.security.core.userdetails.UserDetailsService; import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder; import org.springframework.security.crypto.password.PasswordEncoder; import org.springframework.security.web.SecurityFilterChain; @EnableWebSecurity @Configuration public class SecurityConfiguration { @Bean public PasswordEncoder passwordEncoder() { return new BCryptPasswordEncoder(); } @Bean AuthenticationManager authManager(UserDetailsService detailsService) { DaoAuthenticationProvider daoProvider = new DaoAuthenticationProvider(); daoProvider.setUserDetailsService(detailsService); return new ProviderManager(daoProvider); } @SuppressWarnings(\"removal\") @Bean public SecurityFilterChain filterChain(HttpSecurity http) throws Exception { return http.csrf(csrf -> csrf.disable()).authorizeHttpRequests(auth -> { auth.anyRequest().authenticated(); auth.requestMatchers(\"/auth/**\").permitAll(); auth.anyRequest().authenticated(); }).httpBasic().and().build(); } } This is the spring boot application package com.ronit.SpringSecurityTutorial; import java.util.HashSet; import java.util.Set; import org.springframework.boot.CommandLineRunner; import org.springframework.boot.SpringApplication; import org.springframework.boot.autoconfigure.SpringBootApplication; import org.springframework.context.annotation.Bean; import org.springframework.security.crypto.password.PasswordEncoder; import com.ronit.SpringSecurityTutorial.models.ApplicationUser; import com.ronit.SpringSecurityTutorial.models.Role; import com.ronit.SpringSecurityTutorial.repository.RoleRepository; import com.ronit.SpringSecurityTutorial.repository.UserRepository; @SpringBootApplication public class SpringSecurityTutorialApplication { public static void main(String[] args) { SpringApplication.run(SpringSecurityTutorialApplication.class,args); } @Bean CommandLineRunner run(RoleRepository roleRepository, UserRepository userRepository, PasswordEncoder passwordEncoder) { return args -> { if (roleRepository.findByAuthority(\"ADMIN\").isPresent()) return; Role adminRole = roleRepository.save(new Role(\"ADMIN\")); roleRepository.save(new Role(\"USER\")); Set<Role> roles = new HashSet<>(); roles.add(adminRole); ApplicationUser admin = new ApplicationUser(1, \"Admin\", passwordEncoder.encode(\"Password\"), roles); userRepository.save(admin); }; } } These are the dependencies in pom.xml <dependencies> <dependency> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-data-jpa</artifactId> </dependency> <dependency> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-security</artifactId> </dependency> <dependency> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-web</artifactId> </dependency> <dependency> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-devtools</artifactId> <scope>runtime</scope> <optional>true</optional> </dependency> <dependency> <groupId>com.h2database</groupId> <artifactId>h2</artifactId> <scope>runtime</scope> </dependency> <dependency> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-test</artifactId> <scope>test</scope> </dependency> </dependencies> There is no configuration related to security in application.properties file. I searched this on Google and found some Stack Overflow pages, but none of them were using similar configuration to mine. I have watched an online tutorial and made this. I followed each step correctly, but my configuration is not working. The application is stopped and terminated straight away. I am using Spring Boot 3 and Spring Security 6 in my application.",
    "question_tags": [
      "java",
      "spring-boot",
      "eclipse",
      "spring-security",
      "backend"
    ],
    "question_score": 35,
    "question_view_count": 42905,
    "question_creation_date": 1690877781,
    "answer_id": 76919712,
    "answer_text": "A migration occurred due to vulnerability CVE-2023-34035 . In the event that you get an error like the following: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher) ; otherwise, please use requestMatchers(AntPathRequestMatcher) . You should use a complete RequestMatcher . For example, if an application has a servlet deployed to /my-servlet/* and is authorizing that traffic like so: @Bean SecurityFilterChain appSecurity(HttpSecurity http) throws Exception { http .authorizeHttpRequests((authorize) -> authorize .requestMatchers(\"/my-servlet/**\").hasRole(\"USER\") .requestMatchers(\"/spring-mvc-controller/**\").hasRole(\"USER\") .anyRequest().authenticated() ) // ... return http.build(); } then, the application should instead do the following: import static org.springframework.security.web.util.matcher.AntPathRequestMatcher.antMatcher; @Bean MvcRequestMatcher.Builder mvc(HandlerMappingIntrospector introspector) { return new MvcRequestMatcher.Builder(introspector); } @Bean SecurityFilterChain appSecurity(HttpSecurity http, MvcRequestMatcher.Builder mvc) throws Exception { http .authorizeHttpRequests((authorize) -> authorize .requestMatchers(antMatcher(\"/my-servlet/*\")).hasRole(\"USER\") .requestMatchers(mvc.pattern(\"/spring-mvc-controller/**\")).hasRole(\"USER\") .anyRequest().authenticated() ) // ... return http.build(); } For more details read this repository offered by Spring: cve-2023-34035-mitigations",
    "answer_score": 34,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 146,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      34,
      35,
      42905,
      146,
      -71512043
    ]
  },
  {
    "question_id": 75372878,
    "question_url": "https://stackoverflow.com/questions/75372878/vm1550-installhook-js1860-logging-as-a-double-line-in-the-console",
    "question_title": "VM1550 installHook.js:1860 logging as a double line in the console",
    "question_text": "I am using a react-app and building a simple application. When I am using the {console.log('')} method to log something on the console, a second log appears on the console and it appears to be coming from a file names {installHook.js} at the line 1860. I have already tried to look for it and I didn't find it. I am curious about why this is happening. I have already tried to look for it and I didn't find it. I am curious about why this is happening.",
    "question_tags": [
      "javascript",
      "reactjs",
      "frontend"
    ],
    "question_score": 16,
    "question_view_count": 8370,
    "question_creation_date": 1675770179,
    "answer_id": 77026108,
    "answer_text": "Other answers are saying to \"delete StrictMode\", but not considering what side effects that may have. StrictMode will help you flush out common bugs caused by impure rendering and effect cleanup. This comes with noted side effects however: Your components will re-render an extra time to find bugs caused by impure rendering. Your components will re-run Effects an extra time to find bugs caused by missing Effect cleanup. Your components will be checked for usage of deprecated APIs. The re-render of course is responsible for the duplicated log output. It should be noted as well that this does not affect production , only development builds While I couldn't argue the advice to \"delete StrictMode\" is dangerous, I certainly would argue that it is not the best decision when you want to create a quality application. In my experience, the sooner you enable harsh debug, compile and lint checks the better you will be in the long run. Thinking \"oh, we can do that later\" leads to a big headache and sometimes insurmountable amounts of refactoring. Can it be fixed and get StrictMode goodness too? Yes. Bobbyhadz mentions that the React DevTools has an option (see below) disable the double rendering of the logs when in StrictMode. Moral of the story is don't stop wearing a motorcycle helmet just because your head is hot!",
    "answer_score": 31,
    "answer_is_accepted": false,
    "answer_has_code": false,
    "answer_has_steps": false,
    "answer_word_count": 223,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      31,
      16,
      8370,
      223,
      -86619562
    ]
  },
  {
    "question_id": 60690035,
    "question_url": "https://stackoverflow.com/questions/60690035/adding-a-column-to-an-existing-table-in-node-js-knex",
    "question_title": "Adding a column to an existing table in Node.js &amp; Knex",
    "question_text": "I'm using Node.js and Knex to build a service for my router. However, I can't figure out how to add a column to an existing table, any help would be appreciated. Also, I'm using PostgreSQL, but I don't think that matters for the question. So, this is what I have for adding rows to the table: insertData(knex, table, row) { return knex .insert(row) .into(table) .returning('*') .then(rows => { return rows[0]; }); } I'm guessing adding a column to the table would be something similar to this? I just can't figure out/find the solution.",
    "question_tags": [
      "javascript",
      "node.js",
      "postgresql",
      "backend",
      "knex.js"
    ],
    "question_score": 21,
    "question_view_count": 31128,
    "question_creation_date": 1584250561,
    "answer_id": 66361914,
    "answer_text": "For migrations: This was taken from this article First make a migration: knex migrate:make add_new_column_to_table then in the migration update the file to: exports.up = function(knex) { return knex.schema.table('<table name>', table => { table.string('<new column name>', 128); }) }; exports.down = function(knex) { return knex.schema.table('<table name>', table => { table.dropColumn('<new column name>'); }) }; then run the migration: knex migrate:latest",
    "answer_score": 28,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": true,
    "answer_word_count": 60,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      28,
      21,
      31128,
      60,
      -178139263
    ]
  },
  {
    "question_id": 70729330,
    "question_url": "https://stackoverflow.com/questions/70729330/python-on-m1-mbp-trying-to-connect-to-usb-devices-nobackenderror-no-backend-a",
    "question_title": "Python on M1 MBP trying to connect to USB devices - NoBackendError: No backend available",
    "question_text": "I am trying to connect with Python to my USB devices. The final result should be a connection to my Blood Pressure Monitor but I am failing already to connect to ANY device. My simple code - which I found here - is bellow. The Product- and Vendor ID I got from Apple Menu > About this Mac > System Information import usb.core import usb.util # find our device dev = usb.core.find(idVendor=0x0781, idProduct=0x55a4) # was it found? if dev is None: raise ValueError('Device not found') # set the active configuration. With no arguments, the first # configuration will be the active one dev.set_configuration() # get an endpoint instance cfg = dev.get_active_configuration() intf = cfg[(0,0)] ep = usb.util.find_descriptor( intf, # match the first OUT endpoint custom_match = \\ lambda e: \\ usb.util.endpoint_direction(e.bEndpointAddress) == \\ usb.util.ENDPOINT_OUT) assert ep is not None # write the data ep.write('test') But I get always NoBackendError: No backend available from dev = usb.core.find(idVendor=0x0781, idProduct=0x55a4) For the connection I installed pyusb in my Python env and with Homebrew libusb on my mac. I have no clue how to get a connection or even a simple list via iteration with all my connected Product- and Vendor IDs.",
    "question_tags": [
      "usb",
      "backend",
      "apple-m1",
      "libusb",
      "pyusb"
    ],
    "question_score": 8,
    "question_view_count": 7032,
    "question_creation_date": 1642329972,
    "answer_id": 70730920,
    "answer_text": "This error is to be expected if pyusb cannot find the dynamic libraries of libusb . Installing libusb with Homebrew is not sufficient. Homebrew puts the relevant files in /opt/homebrew/Cellar/libusb/1.0.24/lib and creates symbolic links in /opt/homebrew/lib . But pyusb is not aware of these paths. You have two main options: Add /opt/homebrew/lib to the environment variable DYLD_LIBRARY_PATH . For a permanent setup, add it to ~/.zshenv : export DYLD_LIBRARY_PATH=\"/opt/homebrew/lib:$DYLD_LIBRARY_PATH\" Create a symbolic link in your home directory. This takes advantage of the fact that ~/lib is a default fallback path for libraries: ln -s /opt/homebrew/lib ~/lib",
    "answer_score": 21,
    "answer_is_accepted": false,
    "answer_has_code": true,
    "answer_has_steps": false,
    "answer_word_count": 96,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      21,
      8,
      7032,
      96,
      -120059852
    ]
  },
  {
    "question_id": 67119257,
    "question_url": "https://stackoverflow.com/questions/67119257/is-it-better-to-upload-a-file-to-an-s3-bucket-on-the-front-end-or-backend",
    "question_title": "Is it better to upload a file to an s3 bucket on the front end or backend?",
    "question_text": "I am creating a web app where there is an option for authenticated users to upload pictures. I am confused as to whether its better to do it on the front end or backend. I have already implemented it on the front end but I had to include my \"accessKeyId\" and \"secretKey\". I don't know if this compromises my security. I am using cloud functions for my back end. If anyone can help me with best practices in relation to this I will be very grateful.",
    "question_tags": [
      "reactjs",
      "amazon-s3",
      "google-cloud-functions",
      "frontend",
      "backend"
    ],
    "question_score": 9,
    "question_view_count": 8405,
    "question_creation_date": 1618548560,
    "answer_id": 70008158,
    "answer_text": "You can generate pre-signed urls from your backend, then your frontend can upload files safely directly into S3 without exposing your credentials. Take a look into the documentation here . Also, this article points out some of the advantages of that strategy: You can still allow only authenticated users to get access to presigned urls You can set expiration time for the generated presigned urls You save bandwidth, memory processing and upload time by avoiding your files to pass through your backend function",
    "answer_score": 13,
    "answer_is_accepted": false,
    "answer_has_code": false,
    "answer_has_steps": true,
    "answer_word_count": 83,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      13,
      9,
      8405,
      83,
      -143841264
    ]
  },
  {
    "question_id": 59877621,
    "question_url": "https://stackoverflow.com/questions/59877621/is-it-okay-to-cache-verified-jwt-token-to-prevent-repeated-verification-process",
    "question_title": "Is it okay to Cache verified JWT token to prevent repeated verification process in spring-boot application",
    "question_text": "We have a spring-boot appplication with microservice architecture. We have a separate service for Authentication which provides a JWT token signed with RS256 algorithm. This token is sent in every request from client to our main application server. I have the public key for verifying the signature. Now this JWT token is being sent in every API request from client side as most of our URLs are protected. Is it a good idea to cache the already verified JWT token to prevent repeated verification process of same token on every API call from same user?",
    "question_tags": [
      "java",
      "spring-boot",
      "spring-security",
      "oauth-2.0",
      "backend"
    ],
    "question_score": 11,
    "question_view_count": 20140,
    "question_creation_date": 1579779221,
    "answer_id": 59886220,
    "answer_text": "In memory JWT access token validation is fast and you can do that on every API request. In other cases there can be good reasons to cache token-related results so that you avoid repeating expensive work on the every request with a particular access token: Sometimes, after validating the token and identifying the user, you may want to do a fairly expensive lookup of roles, business permissions etc - and you don't want to do this on every single API request. API Gateway solutions often use a caching pattern, eg to cache token introspection results . For example, AWS API Gateway allows you to cache a policy document that is quickly looked up when the same token is next received. If you cache token results you might use a key that is a SHA256 hash of the token - and set a time to live no greater than the token's exp claim, as Ankur indicates.",
    "answer_score": 12,
    "answer_is_accepted": false,
    "answer_has_code": false,
    "answer_has_steps": false,
    "answer_word_count": 155,
    "preference_answer_ok": true,
    "rank_key": [
      0,
      12,
      11,
      20140,
      155,
      -182610603
    ]
  },
  {
    "question_id": 55921442,
    "question_url": "https://stackoverflow.com/questions/55921442/how-to-fix-referenceerror-primordials-is-not-defined-in-node-js",
    "question_title": "How to fix &quot;ReferenceError: primordials is not defined&quot; in Node.js",
    "question_text": "I have installed Node.js modules by 'npm install', and then I tried to do gulp sass-watch in a command prompt. After that, I got the below response. [18:18:32] Requiring external module babel-register fs.js:27 const { Math, Object, Reflect } = primordials; ^ ReferenceError: primordials is not defined I have tried this before gulp sass-watch : npm -g install gulp-cli",
    "question_tags": [
      "node.js",
      "sass",
      "gulp",
      "gulp-sass"
    ],
    "question_score": 919,
    "question_view_count": 1107208,
    "question_creation_date": 1556629030,
    "answer_id": 55926692,
    "answer_text": "I hit the same error. I suspect you're using Node.js 12 and Gulp.js 3. That combination does not work: Gulp.js 3 is broken on Node.js 12 #2324 A previous workaround from Jan. does not work either: After update to Node.js 11.0.0 running Gulp.js exits with 'ReferenceError: internalBinding is not defined' #2246 Solution: Either upgrade to Gulp.js 4 or downgrade to an earlier version of Node.js.",
    "answer_score": 918,
    "answer_is_accepted": true,
    "answer_has_code": false,
    "answer_has_steps": false,
    "answer_word_count": 65,
    "preference_answer_ok": false,
    "rank_key": [
      1,
      918,
      919,
      1107208,
      65,
      -205760784
    ]
  },
  {
    "question_id": 70973901,
    "question_url": "https://stackoverflow.com/questions/70973901/how-set-cookies-in-dev-tools-in-google-chrome-98-version",
    "question_title": "How set cookies in dev tools in Google Chrome 98 version?",
    "question_text": "after update google chrome up to 98 version, I can't set cookies it looks like a red stripe and after the refresh, it disappears. Even you fill all fields, it disappears. Maybe any know how it disables the feature? This feature describes in their blog , but I can't find how to fix it",
    "question_tags": [
      "google-chrome",
      "cookies",
      "google-chrome-devtools"
    ],
    "question_score": 67,
    "question_view_count": 25281,
    "question_creation_date": 1643901841,
    "answer_id": 71038151,
    "answer_text": "Based on the comment in this diff - https://chromium.googlesource.com/devtools/devtools-frontend/+/20ed4f2bd282537f404af9d45df1333d5aeb21f5%5E%21/#F0 , I felt this has something to do with Partitioned cookies. So I opened chrome://flags and set the value of \" Partitioned Cookies \" to Enabled\" and relaunched the browser. After that the red row did not appear and I am able to set the cookies like before.",
    "answer_score": 83,
    "answer_is_accepted": true,
    "answer_has_code": false,
    "answer_has_steps": false,
    "answer_word_count": 57,
    "preference_answer_ok": false,
    "rank_key": [
      1,
      83,
      67,
      25281,
      57,
      -118487840
    ]
  },
  {
    "question_id": 64656055,
    "question_url": "https://stackoverflow.com/questions/64656055/react-refers-to-a-umd-global-but-the-current-file-is-a-module",
    "question_title": "&#39;React&#39; refers to a UMD global, but the current file is a module",
    "question_text": "I updated my project to create react app 4.0, and I'm slowing moving over my files to TypeScript. I know with this new version you don't have to repetitively import React from 'react'. However, within all of my TS files where I'm not importing React I receive this error: 'React' refers to a UMD global, but the current file is a module. Consider adding an import instead.ts(2686)` I know I can fix it by importing React, but I thought this was no longer needed. Also, could someone explain the meaning of this error? My basic TSX file const Users = () => { return <>Teachers aka Users</>; }; export default Users;",
    "question_tags": [
      "javascript",
      "reactjs",
      "typescript",
      "create-react-app"
    ],
    "question_score": 449,
    "question_view_count": 444332,
    "question_creation_date": 1604371064,
    "answer_id": 64677253,
    "answer_text": "This error message comes from TypeScript compiler. The React 17 new jsx transform is not currently supported in Typescript 4.0, and will be supported in 4.1. TypeScript v4.1 Beta - React 17 JSX Factories",
    "answer_score": 69,
    "answer_is_accepted": true,
    "answer_has_code": false,
    "answer_has_steps": false,
    "answer_word_count": 34,
    "preference_answer_ok": false,
    "rank_key": [
      1,
      69,
      449,
      444332,
      34,
      -158018711
    ]
  },
  {
    "question_id": 62223195,
    "question_url": "https://stackoverflow.com/questions/62223195/vue-router-uncaught-in-promise-error-redirected-from-login-to-via-a",
    "question_title": "vue-router — Uncaught (in promise) Error: Redirected from &quot;/login&quot; to &quot;/&quot; via a navigation guard",
    "question_text": "Why is vue-router giving me this error? To be clear, the login flow works as intended but I want to a) get rid of the errro and b) understand why the error is happening. Error: Uncaught (in promise) Error: Redirected from \"/login\" to \"/\" via a navigation guard. Login flow start logged out, but enter a URL that requires auth (i.e. anything besides \"/login\") get redirected to \"/login\" (as expected). login successfully get redirected to starting Url from step #1, except with the above error. Login action: doLogin({ commit }, loginData) { commit(\"loginStart\"); axiosClient .post(\"/jwt-auth/v1/token\", { username: loginData.username, password: loginData.password, }) .then((response) => { commit(\"loginStop\", null); commit(\"setUserData\", response.data); this.categories = airtableQuery.getTable(\"Categories\"); commit(\"setCategories\", this.categories); this.locations = airtableQuery.getTable(\"Locations\"); commit(\"setLocations\", this.locations); router.push(\"/\"); // push to site root after authentication }) .catch((error) => { console.log(error.response.data.message); commit(\"loginStop\", error.response.data.message); commit(\"delUserData\"); }); }, Router: const routes = [ { path: \"/login\", name: \"Login\", component: Login, meta: { requiresAuth: false }, }, { path: \"/\", name: \"Home\", component: Home, meta: { requiresAuth: true }, }, ]; let entryUrl = null; router.beforeEach((to, from, next) => { let localStorageUserData = JSON.parse(localStorage.getItem(\"userData\")); let storeUserData = state.getters.getUserData; let userData = localStorageUserData || storeUserData; let isAuthenticated = userData.token !== \"\" && userData.token !== undefined; if (to.matched.some((record) => record.meta.requiresAuth)) { if (!isAuthenticated) { if (to.name !== \"Login\" && to.name !== \"Home\") { entryUrl = to.fullPath; } next({ name: \"Login\" }); } else if (entryUrl) { let url = entryUrl; entryUrl = null; next(url); } else { next(); } } else { next(); } });",
    "question_tags": [
      "vue.js",
      "promise",
      "vue-router"
    ],
    "question_score": 105,
    "question_view_count": 149724,
    "question_creation_date": 1591386774,
    "answer_id": 62231211,
    "answer_text": "The error message is getting updated in the next version of vue-router. The error will read: Redirected when going from \"/login\" to \"/\" via a navigation guard Somewhere in your code, after being redirected to \"/login\", you are redirecting back to \"/\". And vue-router is complaining about. You'll want to make sure you only have one redirect per navigation action.",
    "answer_score": 54,
    "answer_is_accepted": true,
    "answer_has_code": false,
    "answer_has_steps": false,
    "answer_word_count": 60,
    "preference_answer_ok": false,
    "rank_key": [
      1,
      54,
      105,
      149724,
      60,
      -171003021
    ]
  },
  {
    "question_id": 59118551,
    "question_url": "https://stackoverflow.com/questions/59118551/where-is-the-documentation-for-microsoft-aspnetcore-spaservices-extensions",
    "question_title": "Where is the documentation for Microsoft.AspNetCore.SpaServices.Extensions?",
    "question_text": "This official Microsoft page says Microsoft.AspNetCore.SpaServices and Microsoft.AspNetCore.NodeServices are obsolete and \"A simpler SPA frameworks integration mechanism is available\" in Microsoft.AspNetCore.SpaServices.Extensions . I can't find any documentation at all for Microsoft.AspNetCore.SpaServices.Extensions . There doesn't seem to be a corresponding namespace so I can't even find anything using IntelliSense. The obsolescence announcement on GitHub is similarly vague. Specifically, I'm trying to find out how to upgrade a call to app.UseWebpackDevMiddleware . Where is the official documentation for Microsoft.AspNetCore.SpaServices.Extensions ?",
    "question_tags": [
      "webpack",
      "asp.net-core-mvc"
    ],
    "question_score": 92,
    "question_view_count": 10066,
    "question_creation_date": 1575134919,
    "answer_id": 70348539,
    "answer_text": "Here are some of the docs that may help, however they are not very detailed: https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.spaservices?view=aspnetcore-6.0 https://learn.microsoft.com/en-us/aspnet/core/client-side/spa-services?view=aspnetcore-6.0 Microsoft.AspNetCore.SpaServices Namespace Provides types for hosting a Single Page Application (SPA). SpaOptions Describes options for hosting a Single Page Application (SPA). ISpaBuilder Defines a class that provides mechanisms for configuring the hosting of a Single Page Application (SPA) and attaching middleware.",
    "answer_score": 2,
    "answer_is_accepted": true,
    "answer_has_code": false,
    "answer_has_steps": false,
    "answer_word_count": 58,
    "preference_answer_ok": false,
    "rank_key": [
      1,
      2,
      92,
      10066,
      58,
      -187254803
    ]
  },
  {
    "question_id": 53337269,
    "question_url": "https://stackoverflow.com/questions/53337269/path-js1086-error-enoent-no-such-file-or-directory-uv-cwd",
    "question_title": "path.js:1086 Error: ENOENT: no such file or directory, uv_cwd",
    "question_text": "I was following the Webpack guide and get stuck here while running npm run build I received the this error: path.js:1086 cwd = process.cwd(); ^ Error: ENOENT: no such file or directory, uv_cwd at Object.resolve (path.js:1086:25) at Function.Module._resolveLookupPaths (internal/modules/cjs/loader.js:479:17) at Function.Module._resolveFilename (internal/modules/cjs/loader.js:587:20) I checked all imports and everything is looking fine. Than I thought is should caching issue so I ran npm cache clean -f surprisingly I get the exact same error. Probably it is NodeJS problem but I have no idea how to debug it. Here is my file structure: package.json { \"name\": \"test_webpack\", \"version\": \"1.0.0\", \"description\": \"\", \"private\": true, \"scripts\": { \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\", \"build\": \"webpack\" }, \"keywords\": [], \"author\": \"\", \"license\": \"ISC\", \"devDependencies\": { \"clean-webpack-plugin\": \"^1.0.0\", \"css-loader\": \"^1.0.1\", \"csv-loader\": \"^3.0.2\", \"file-loader\": \"^2.0.0\", \"html-webpack-plugin\": \"^3.2.0\", \"style-loader\": \"^0.23.1\", \"webpack\": \"^4.25.1\", \"webpack-cli\": \"^3.1.2\", \"xml-loader\": \"^1.2.1\" }, \"dependencies\": { \"lodash\": \"^4.17.11\" } } webpack.config.js const path = require('path'); const HtmlWebpackPlugin = require('html-webpack-plugin') const CleanWebpackPlugin = require('clean-webpack-plugin') module.exports = { mode: 'development', entry: { app: './src/index.js', print: './src/print.js', sec: './src/secondClick.js' }, devtool: 'inline-source-map', plugins: [ new CleanWebpackPlugin(['dist']), new HtmlWebpackPlugin({ titile: \"Output manager from webpack n12\" }) ], output: { filename: '[name].bundle.js', path: path.resolve(__dirname, 'dist') } };",
    "question_tags": [
      "node.js",
      "npm",
      "webpack"
    ],
    "question_score": 98,
    "question_view_count": 86342,
    "question_creation_date": 1542368874,
    "answer_id": 65127654,
    "answer_text": "Closing all terminal windows and opening it again worked for me. Reference",
    "answer_score": 301,
    "answer_is_accepted": false,
    "answer_has_code": false,
    "answer_has_steps": false,
    "answer_word_count": 12,
    "preference_answer_ok": false,
    "rank_key": [
      0,
      301,
      98,
      86342,
      12,
      -220020848
    ]
  },
  {
    "question_id": 65038253,
    "question_url": "https://stackoverflow.com/questions/65038253/uncaught-referenceerror-cannot-access-webpack-default-export-before-initi",
    "question_title": "Uncaught ReferenceError: Cannot access &#39;__WEBPACK_DEFAULT_EXPORT__&#39; before initialization",
    "question_text": "I have a problem with my webpack project, so I was trying to import one class to another and instantiate it but suddenly an error appear in my console and my program stopped working, it was this: Uncaught ReferenceError: Cannot access '__WEBPACK_DEFAULT_EXPORT__' before initialization This is the code of the class were I am trying to import my another class (that is PopUpPlugin): import PopupPlugin from './popupPlugin.js'; export const addSearchBtnEvent = (weatherUI) => { const searchBtn = document.querySelector('.weather__search'); searchBtn.addEventListener('click', () => { weatherUI.style.opacity = '1'; weatherUI.style.visibility = 'visible'; }) } export const addSearchExitEvent = (weatherUI) => { const weatherExit = document.querySelector('.weather__search-exit'); weatherExit.addEventListener('click', () => { weatherUI.style.opacity = '0'; weatherUI.style.visibility = 'hidden'; }) } const popupObj = new PopupPlugin(); class searchDashboard { constructor() { } setInputEvent() { const inputSearch = document.querySelector('.weather__city-search'); const inputSearchBtn = document.querySelector('.weather__search-btn'); inputSearchBtn.addEventListener('click', () => { const inputSearchVal = inputSearch.value; this.validateStr(inputSearchVal); }); } validateStr() { const onlyLettersAndSpaces = /^[a-zA-Z][a-zA-Z\\s]*$/; if(str.trim().length > 0 && str.match(onlyLettersAndSpaces)) { const strValue = str.toLowerCase().trim().replace(' ', '+'); this.popupObj.searchCoincidences(strValue, 'weather__search-ui'); } } } export default searchDashboard; I don't actually know why this is happening, I also tried to instantiate it inside the constructor and it worked but it sended me the error of an stack overflow. PD: If someone needs it here is the code of the PopupPlugin. (Here is what was working to me that was instantiating the class inside the constructor until the stack overflow error appeared) import ManageWeatherDashboard from './manageWeatherDashboard.js'; import { getFetch, repeatAppend } from './weatherHelpers.js'; class popupPlugin { constructor() { this.manageWeatherDashboardObj = new ManageWeatherDashboard(); } validateStr(str) { const onlyLettersAndSpaces = /^[a-zA-Z][a-zA-Z\\s]*$/; if(str.trim().length > 0 && str.match(onlyLettersAndSpaces)) { const strValue = str.toLowerCase().trim().replace(' ', '+'); return strValue; } } searchCoincidences(val, parent) { getFetch(`https://www.metaweather.com/api/location/search/?query=${val}`) .then(res => res.text()) .then(data => { const parentResults = document.querySelector('.'+parent); parentResults.innerHTML = ''; const dataArr = JSON.parse(data) if(dataArr.length >= 15) { let resVal; for(let i = 0; i <= 15; i++) { resVal = this.addDOMResultCoincidences(parent, dataArr[i].title, dataArr[i].woeid); } this.whenClickCoincidence(resVal); } else { let resVal; dataArr.forEach(el => { resVal = this.addDOMResultCoincidences(parent, el.title, el.woeid); }) this.whenClickCoincidence(resVal); } }) } addDOMResultCoincidences(parentBlock, name, id) { const args = Array.from(arguments); if(args[0] === 'popup__results') { const popupResults = document.querySelector('.popup__results'); const divResult = document.createElement('div'); divResult.className = 'popup__result'; divResult.setAttribute('data-woeid', id); const spanResultName = document.createElement('span'); spanResultName.className = 'popup__result-name'; const cityReturn = document.createTextNode(args[1]); spanResultName.appendChild(cityReturn); divResult.appendChild(spanResultName); popupResults.prepend(divResult); return divResult; } if(args[0] === 'weather__search-ui') { const weatherUI = document.querySelector('.weather__search-ui'); const divResult = document.createElement('div'); divResult.className = 'weather__search-result'; divResult.setAttribute('data-woeid', id); const spanResultName = document.createElement('span'); const spanResultNameText = document.createTextNode(args[1]); spanResultName.className = 'weather__city-result'; spanResultName.appendChild(spanResultNameText); const iconResult = document.createElement('i'); iconResult.className = 'fa fa-arrow-right weather__go-result'; repeatAppend([spanResultName, iconResult], divResult); weatherUI.appendChild(divResult); return divResult; } } // When click a coincidence in search field whenClickCoincidence(el) { const woeId = el.getAttribute('data-woeid'); el.addEventListener('click', () => { let handler = 0; if(handler === 0) { getFetch(`https://www.metaweather.com/api/location/${woeId}/`) .then(res => res.json()) .then(data => { const popup = document.querySelector('.popup'); const weatherNext6Days = data.consolidated_weather; this.manageWeatherDashboardObj.changeWeatherBar(weatherNext6Days[0], data.title); weatherNext6Days.slice(1, 6).forEach(el => { this.manageWeatherDashboardObj.nextFiveDays(el); }) this.manageWeatherDashboardObj.updateStadistics(weatherNext6Days[0]); popup.style.opacity = '0'; popup.style.visibility = 'hidden'; }) } handler += 1; }) } } export default popupPlugin;",
    "question_tags": [
      "javascript",
      "webpack",
      "import",
      "export",
      "es6-modules"
    ],
    "question_score": 84,
    "question_view_count": 114275,
    "question_creation_date": 1606483928,
    "answer_id": 69396548,
    "answer_text": "This might be caused by a cyclic dependencies (i.e. moduleA imports module B and vice versa at the same time). Take a deeper look at your code.",
    "answer_score": 82,
    "answer_is_accepted": false,
    "answer_has_code": false,
    "answer_has_steps": false,
    "answer_word_count": 27,
    "preference_answer_ok": false,
    "rank_key": [
      0,
      82,
      84,
      114275,
      27,
      -155905794
    ]
  }
]